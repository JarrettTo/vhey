import{v as e,ad as t,ai as i,af as s,a,_ as n,n as l,e as c}from"./shell-676e2013.js";import{x as d,s as r}from"./icon-8c4e3009.js";import"./reddit-chat-anchor-f6dff24e.js";var o;!function(e){e.NONE="NONE",e.VIEWED="VIEWED",e.DISMISSED="DISMISSED"}(o||(o={}));let h=class extends(e(r)){constructor(){super(...arguments),this.consumptionState=o.NONE,this.uxtsVariant="chat_channel_unit_in_home_feed_scc",this.isRecommended=!1,this.isMultiChat=!1,this.onDismiss=e=>{const a=this.nextElementSibling;a&&"HR"===a.nodeName&&this.parentElement?.removeChild(a),this.parentNode?.removeChild(this),e.stopPropagation(),t(s.Dismiss,i.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})},this.onChatFeedElementClick=()=>{t(s.Click,i.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})}}connectedCallback(){super.connectedCallback(),this.isMultiChat?this.uxtsVariant="chat_channel_unit_in_home_feed_multiple":this.isRecommended&&(this.uxtsVariant="chat_channel_unit_in_home_feed_scc_and_ucc"),this.enableObserver(),this.addDismissHandlers(),this.addClickHandlers()}disconnectedCallback(){super.disconnectedCallback(),this.disableObserver(),this.removeDismissHandlers(),this.removeClickHandlers()}addDismissHandlers(){this.querySelector("[data-chat-feed-element-dismiss]")?.addEventListener("click",this.onDismiss)}removeDismissHandlers(){this.querySelector("[data-chat-feed-element-dismiss]")?.removeEventListener("click",this.onDismiss)}addClickHandlers(){this.querySelector("[data-chat-feed-element-clickable]")?.addEventListener("click",this.onChatFeedElementClick)}removeClickHandlers(){this.querySelector("[data-chat-feed-element-clickable]")?.removeEventListener("click",this.onChatFeedElementClick)}observerIsIntersectingCallback(){this.consumptionState===o.NONE&&(this.consumptionState=o.VIEWED,t(s.View,i.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant}))}render(){return d`<slot></slot>`}};h.styles=[a],n([l({type:Boolean,attribute:"is-recommended"})],h.prototype,"isRecommended",void 0),n([l({type:Boolean,attribute:"is-multi-chat"})],h.prototype,"isMultiChat",void 0),h=n([c("chat-feed-element-wrapper")],h);
//# sourceMappingURL=chat-channel-feed-element-client-js-7095794b.js.map
