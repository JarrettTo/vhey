import"./faceplate-expandable-section-helper-6786a747.js";import"./faceplate-tooltip-c8f30589.js";import"./faceplate-gif-0ed2b5ee.js";import{_ as t,n as e,e as i,a as o,al as s,f8 as r,W as n,p as a,aI as c,bm as d,l,de as p,aa as m}from"./shell-676e2013.js";import{E as h,C as u}from"./community-widget-edit-modal-c324b874.js";import{s as b,x as y,A as g}from"./icon-8c4e3009.js";import{R as f}from"./rpl-tooltip-563a3363.js";import{C as w,a as j}from"./models-a7a2c289.js";import"./community-appearance-entrypoint-9621fb96.js";import"./reddit-chat-anchor-f6dff24e.js";import"./achievements-entrypoint-8437bc5f.js";import"./popper-controller-b048cf6c.js";import"./makeEventDispatcher-28989282.js";import"./contains-1042b204.js";import"./interaction-controller-daa20b2e.js";import"./faceplate-switch-input-ff61907d.js";import"./checked-input-element-9fd8b715.js";import"./faceplate-input-24154400.js";import"./input-element-c1862430.js";import"./form-common-utils-450ddffa.js";import"./shreddit-pubsub-publisher-7f2b0059.js";import"./achievements-b1f3d76c.js";let k=class extends b{constructor(){super(...arguments),this.subredditName="",this.pageId=h.Main,this.openModal=async()=>{await this._activateCommunityWidgetEditModalFeature();document.querySelector(`community-widget-edit-modal#${u}`)?.showModal({pageId:this.pageId,widgetId:this.widgetId})},this.onClick=()=>{this.openModal()},this.onKeyPress=t=>{"Enter"!==t.key&&"Space"!==t.key||this.openModal()}}static get styles(){return[o]}_activateCommunityWidgetEditModalFeature(){return s({name:r,routeParams:{subreddit:this.subredditName}})}render(){return y`<slot @click="${this.onClick}" @keypress="${this.onKeyPress}"></slot>`}};t([e({type:String,attribute:"subreddit-name"})],k.prototype,"subredditName",void 0),t([e({type:String,attribute:"page-id"})],k.prototype,"pageId",void 0),t([e({type:String,attribute:"widget-id"})],k.prototype,"widgetId",void 0),k=t([i("community-widget-edit-button")],k);let v=class extends(n(f)){constructor(){super(...arguments),this.country=""}connectedCallback(){super.connectedCallback(),a.get(c)||(this.timeoutHandle=setTimeout((()=>{this.show(),d({country:this.country,name:c,value:"true"})}),1e3))}disconnectedCallback(){super.disconnectedCallback(),this.timeoutHandle&&clearTimeout(this.timeoutHandle)}async show(){const t=l({source:w.RightRailUpsell,action:p.View,noun:j.RightRailUpsell});return this.trackEvent(t),super.show()}async hide(){const t=l({source:w.RightRailUpsell,action:"dismiss",noun:j.RightRailUpsell});return this.trackEvent(t),super.hide()}};t([e({type:String})],v.prototype,"country",void 0),v=t([i("create-channel-coachmark")],v);let C=class extends b{constructor(){super(...arguments),this.container=null,this.dropdowns=null,this.containerSelector="html",this.hideDropdowns=()=>{this.dropdowns?.length&&[...this.dropdowns].forEach((t=>t.close()))},this.hideDropdownsDebounced=m(this.hideDropdowns,200,{leading:!0,trailing:!0})}connectedCallback(){super.connectedCallback(),this.container=document.querySelector(this.containerSelector),this.container&&(this.container.addEventListener("scroll",this.hideDropdownsDebounced,{passive:!0}),this.dropdowns=this.container.getElementsByTagName("faceplate-dropdown-menu"))}disconnectedCallback(){super.disconnectedCallback(),this.container&&this.container.removeEventListener("scroll",this.hideDropdownsDebounced)}render(){return g}};t([e({type:String,attribute:"container-selector"})],C.prototype,"containerSelector",void 0),C=t([i("dropdown-close-on-scroll")],C);
//# sourceMappingURL=subreddit-right-rail-client-js-3777d2a7.js.map
