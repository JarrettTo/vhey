import{s as e,i as t,x as o,l as n,e as i,a as s,t as a,T as r,g as d,A as l,b as c,S as u,B as h,h as p,I as m,m as g,o as f}from"./icon-8c4e3009.js";var _=function(e,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)};function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function E(e,t,o,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(s<3?i(a):s>3?i(t,o,a):i(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],n=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,i,s=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}function S(e,t,o){if(o||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function C(e){return this instanceof C?(this.v=e,this):new C(e)}function T(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=o.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(o,n){s.push([e,t,o,n])>1||r(e,t)}))})}function r(e,t){try{!function(e){e.value instanceof C?Promise.resolve(e.value.v).then(d,l):c(s[0][2],e)}(i[e](t))}catch(e){c(s[0][3],e)}}function d(e){r("next",e)}function l(e){r("throw",e)}function c(e,t){e(t),s.shift(),s.length&&r(s[0][0],s[0][1])}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,o=e[Symbol.asyncIterator];return o?o.call(e):(e=b(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(t){return new Promise((function(n,i){(function(e,t,o,n){Promise.resolve(n).then((function(t){e({value:t,done:o})}),t)})(n,i,(t=e[o](t)).done,t.value)}))}}}function I(e,t,o,n){if("a"===o&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?n:"a"===o?n.call(e):n?n.value:t.get(e)}function A(e,t,o,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,o):i?i.value=o:t.set(e,o),o}const P=e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:o,elements:n}=t;return{kind:o,elements:n,finisher(t){customElements.define(e,t)}}})(e,t),R=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(o){o.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(o){o.createProperty(t.key,e)}};function O(e){return(t,o)=>void 0!==o?((e,t,o)=>{t.constructor.createProperty(o,e)})(e,t,o):R(e,t)}function M(e){return O({...e,state:!0})}const N=({finisher:e,descriptor:t})=>(o,n)=>{var i;if(void 0===n){const n=null!==(i=o.originalKey)&&void 0!==i?i:o.key,s=null!=t?{kind:"method",placement:"prototype",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(s.finisher=function(t){e(t,n)}),s}{const i=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),null==e||e(i,n)}};function D(e,t){return N({descriptor:o=>{const n={get(){var t,o;return null!==(o=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==o?o:null},enumerable:!0,configurable:!0};if(t){const t="symbol"==typeof o?Symbol():"__"+o;n.get=function(){var o,n;return void 0===this[t]&&(this[t]=null!==(n=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(e))&&void 0!==n?n:null),this[t]}}return n}})}function L(e){return N({descriptor:t=>({get(){var t,o;return null!==(o=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelectorAll(e))&&void 0!==o?o:[]},enumerable:!0,configurable:!0})})}function U(e){return N({descriptor:t=>({async get(){var t;return await this.updateComplete,null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e)},enumerable:!0,configurable:!0})})}var k;const x=null!=(null===(k=window.HTMLSlotElement)||void 0===k?void 0:k.prototype.assignedElements)?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter((e=>e.nodeType===Node.ELEMENT_NODE));function F(e){const{slot:t,selector:o}=null!=e?e:{};return N({descriptor:n=>({get(){var n;const i="slot"+(t?`[name=${t}]`:":not([name])"),s=null===(n=this.renderRoot)||void 0===n?void 0:n.querySelector(i),a=null!=s?x(s,e):[];return o?a.filter((e=>e.matches(o))):a},enumerable:!0,configurable:!0})})}function B(e,t,o){let n,i=e;return"object"==typeof e?(i=e.slot,n=e):n={flatten:t},o?F({slot:i,flatten:t,selector:o}):N({descriptor:e=>({get(){var e,t;const o="slot"+(i?`[name=${i}]`:":not([name])"),s=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(o);return null!==(t=null==s?void 0:s.assignedNodes(n))&&void 0!==t?t:[]},enumerable:!0,configurable:!0})})}function V(e,t,o=!0){return new CustomEvent(e,{composed:!0,bubbles:o,cancelable:!0,detail:t})}const G=(e,t)=>new CustomEvent(e,t);class W{constructor(e,t){this._events=new Map,this._isConnected=!1,e.addController(this),this._host=e,this._getTarget=t}_getEventTarget(){return this._getTarget?this._getTarget():this._host}hostConnected(){const e=this._getEventTarget();for(const[t,o]of this._events)Array.isArray(o)?e.addEventListener(t,o[0],o[1]):e.addEventListener(t,o);this._isConnected=!0}hostDisconnected(){const e=this._getEventTarget();for(const[t,o]of this._events)Array.isArray(o)?e.removeEventListener(t,o[0],o[1]):e.removeEventListener(t,o);this._isConnected=!1}define(e,t,o){const n=e.toString();if(this._events.has(n))throw new Error(`Event ${n} already defined.`);if(o?this._events.set(n,[t,o]):this._events.set(n,t),this._isConnected){const e=this._getEventTarget();e&&e.addEventListener(n,t,o)}return t}}let H=e=>e;function $(){const e=new WeakMap;let t=!1;return{get isDirty(){return t},register(o,n){const i=e.get(o);i&&!i.has(n)?i.add(n):i||e.set(o,new Set([n])),t=!0},unregister(o,n){const i=e.get(o);i&&i.has(n)&&(i.delete(n),t=!0)},getRegisteredElements(o){const n=e.get(o);return t=!1,n},unregisterAll(o){e.delete(o),t=!0}}}function q(e){window.FACEPLATE_CONNECTORS=window.FACEPLATE_CONNECTORS||{},window.FACEPLATE_CONNECTORS[e]=window.FACEPLATE_CONNECTORS[e]||new Set;const t=t=>{var o,n;return!0===(null===(n=null===(o=window.FACEPLATE_CONNECTORS)||void 0===o?void 0:o[e])||void 0===n?void 0:n.has(t.constructor))};return{registerAncestorClass(t){var o,n;null===(n=null===(o=window.FACEPLATE_CONNECTORS)||void 0===o?void 0:o[e])||void 0===n||n.add(t)},connectToAncestor:e=>async function(e,t){let o=e;for(;o.parentElement;){if(o=o.parentElement,!o.tagName.includes("-"))continue;const e=o.tagName.toLowerCase();if(customElements.get(e)||await customElements.whenDefined(e),t(o))return o}}(e,t)}}function Y(e,t){var o;e.removeController(t),null===(o=t.hostDisconnected)||void 0===o||o.call(t)}function j(e,t,o,n){const i=new W(e,(()=>t));return i.define("click",(e=>o(e)),n),i.define("mouseup",(e=>{1===e.button&&o(e)}),n),i.define("keydown",(e=>{"Enter"!==e.code&&"Space"!==e.code||o(e)}),n),i}function K(e,t,o,n){const i=new W(e,(()=>t));let s;const a=()=>s=s&&window.clearTimeout(s),r=e=>s=a()||window.setTimeout((()=>o(e)),300);return i.define("focusin",r,n),i.define("mouseenter",r,n),i.define("touchstart",r,n),i.define("focusout",a,n),i.define("mouseleave",a,n),i.define("touchend",a,n),i.define("touchcancel",a,n),e.addController(i),i}class Q{constructor(e){this._isConnected=!1,this._host=e,e.addController(this)}addController(e){var t,o;(null!==(t=this._controllers)&&void 0!==t?t:this._controllers=[]).push(e),this._isConnected&&(null===(o=e.hostConnected)||void 0===o||o.call(e))}removeController(e){var t;null===(t=this._controllers)||void 0===t||t.splice(this._controllers.indexOf(e)>>>0,1)}requestUpdate(){this._host.requestUpdate()}get updateComplete(){return this._host.updateComplete}hostConnected(){var e;null===(e=this._controllers)||void 0===e||e.forEach((e=>e.hostConnected&&e.hostConnected())),this._isConnected=!0}hostDisconnected(){var e;this._isConnected=!1,null===(e=this._controllers)||void 0===e||e.forEach((e=>e.hostDisconnected&&e.hostDisconnected()))}hostUpdate(){var e;null===(e=this._controllers)||void 0===e||e.forEach((e=>e.hostUpdate&&e.hostUpdate()))}hostUpdated(){var e;null===(e=this._controllers)||void 0===e||e.forEach((e=>e.hostUpdated&&e.hostUpdated()))}}const z={rootMargin:"200px"},J=new Map;function X(e,t){return!J.has(e)&&t&&J.set(e,function(e){return new IntersectionObserver((e=>{for(const t of e){const e=t.target,o=t.isIntersecting?V("faceplate-enter",t,!1):V("faceplate-leave",t,!1);e.dispatchEvent(o)}}),e)}(t)),J.get(e)}class Z{constructor(e=z){this._observer=X(JSON.stringify(e),e)}observe(e){this._observer.observe(e)}unobserve(e){this._observer.unobserve(e)}}function ee(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function te(e,t){let o=null;try{const n=e.dataset[t];if(n){const e=JSON.parse(n);ee(e)&&(o=e)}}catch(e){}return o}class oe{constructor(e,t,o){this._target=t;let n=o;const i=te(t,"faceplateObserverConfig");i&&(n=o?Object.assign(Object.assign({},o),i):i),this._observer=new Z(n),e.addController(this)}hostConnected(){this._observer.observe(this._target)}hostDisconnected(){this._observer.unobserve(this._target)}}function ne(e,t,o,n){const i=new Q(e);new oe(i,t,n);return new W(i,(()=>t)).define("faceplate-enter",(e=>o(e))),i}class ie{constructor(){let e,t;this.promise=new Promise(((o,n)=>{e=o,t=n})),this.resolve=e,this.reject=t}}class se extends ie{constructor(){super();const e=this.resolve;this.resolve=t=>e(this.value=t)}}const ae=new Map;function re(e){return ae.has(e)||ae.set(e,new ie),ae.get(e)}function de(e){return re(e).promise}var le,ce,ue,he,pe;!function(e){e[e.emergency=0]="emergency",e[e.alert=1]="alert",e[e.critical=2]="critical",e[e.error=3]="error",e[e.warning=4]="warning",e[e.notice=5]="notice",e[e.info=6]="info",e[e.success=7]="success",e[e.debug=8]="debug",e[e.none=9]="none"}(le||(le={})),function(e){e.Programmatic="programmatic",e.Eager="eager",e.Action="action",e.Intent="intent",e.Lazy="lazy",e.Preload="preload"}(ce||(ce={})),function(e){e.Once="once",e.Always="always"}(ue||(ue={})),function(e){e.Get="get",e.Post="post",e.Dialog="dialog",e.Log="log"}(he||(he={})),function(e){e.Append="append",e.Replace="replace",e.Contents="contents"}(pe||(pe={}));const me=new Map,ge=()=>{throw new Error("Class extending LoaderElement not configured!")};function fe(e,t){me.set(e,t)}class _e extends e{constructor(){super(...arguments),this.readyMark="",this.setMark="",this.goMark="",this.src="",this.loading=ce.Lazy,this._isLoading=!1,this._load=async()=>{if(!this.isLoading)try{this.isLoading=!0,this._ctrl&&(this._ctrl=Y(this,this._ctrl));const e=await(me.get(this.constructor)||ge),t=e instanceof Function?e:e.loader,o=e instanceof Function?void 0:e.runner,n=V("faceplate-load-start");let i,s;this.dispatchEvent(n),t&&(i=await t(this,this.src)),this.setMark&&re(this.setMark).resolve(),this.goMark&&await de(this.goMark),o&&(s=await o(this,i));const a=V("faceplate-load",{resource:(null==s?void 0:s.src)||this.src,src:this.src});this.dispatchEvent(a)}catch(e){const t=V("faceplate-error",e);this.dispatchEvent(t)}finally{this.isLoading=!1}}}get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=!!e}connectedCallback(){super.connectedCallback(),this._loaderInit()}async _loaderInit(){this.readyMark&&await de(this.readyMark);const{loading:e}=this;e===ce.Action?this._ctrl=j(this,this,this._load):e===ce.Lazy?this._ctrl=ne(this,this,this._load):e===ce.Intent?this._ctrl=K(this,this,this._load):e!==ce.Eager&&e!==ce.Preload||this._load()}load(){if(this.loading!==ce.Programmatic)throw new Error(`Calling load only supported with loading=${ce.Programmatic}`);return this._load()}}function ve(e){const t=e.headers.get("content-type");return null==t?void 0:t.split(";")[0]}function Ee(e,t){if(t.startsWith("/"))return!0;let o;try{o=new URL(t)}catch(e){return!0}const[n,i]=e.hostname.split(".").reverse(),[s,a]=o.hostname.split(".").reverse();return n===s&&i===a}var be,ye;E([O({type:String,attribute:"readymark"})],_e.prototype,"readyMark",void 0),E([O({type:String,attribute:"setmark"})],_e.prototype,"setMark",void 0),E([O({type:String,attribute:"gomark"})],_e.prototype,"goMark",void 0),function(e){e.Omit="omit",e.SameOrigin="same-origin",e.Include="include",e.SameDomain="same-domain"}(be||(be={})),function(e){e.UrlEncoded="application/x-www-form-urlencoded",e.FormData="multipart/form-data",e.JSON="application/json"}(ye||(ye={}));let Se=()=>new URL(window.location.href);function Ce(e,t,o={}){return T(this,arguments,(function*(){const n=V("faceplate-request",{resource:e,request:t});if(yield yield C(n),n.defaultPrevented)return yield C(void 0);const i=t,{enctype:s}=o;if(s===ye.FormData?delete i.headers["Content-Type"]:s&&(i.headers["Content-Type"]=s),s){const e=o.encoders?o.encoders[s]:void 0;if(!e){const e=new Error(`No encoder supplied for enctype ${s}`);return yield yield C(V("faceplate-error",e)),yield C(void 0)}i.body=yield C(e(t.body))}i.method===he.Get&&delete i.body,o.credentials===be.SameDomain?Ee(Se(),e)&&(i.credentials=be.Include):o.credentials&&o.credentials!==be.Include?i.credentials=o.credentials:delete i.credentials;try{const t=yield C(fetch(e,i));yield yield C(V("faceplate-response",{response:t}))}catch(e){const t=e instanceof Error?e:new Error(null==e?void 0:e.toString());yield yield C(V("faceplate-error",t))}}))}function Te(e){return new Error(`Unsupported type File given for field ${e}. Use encoding type ${ye.FormData} for file upload.`)}function we(e){const t=new URLSearchParams;for(const o of e){if(o[1]instanceof File)throw Te(o[0]);t.append(o[0],o[1])}return t}const Ie={enctype:ye.UrlEncoded,encoders:{[ye.UrlEncoded]:we}},Ae={};class Pe{constructor(e){this.isRequestInProgress=!1,this.host=e}buildRequest(e){const t={method:e.method||he.Get,body:e.body||new FormData,headers:{}},o=e.method||he.Get;if(e.loading!==ce.Preload&&(t.headers.Accept="text/vnd.reddit.partial+html, text/html;q=0.9"),t.method===he.Get)return t;if(t.method!==he.Post)throw new Error(`Unsupported method ${o}`);return t.headers["Content-Type"]=ye.UrlEncoded,t}_handleError(e){const t=V("faceplate-alert",{level:le.error,message:"Request failed",meta:null==e?void 0:e.toString()});this.host.dispatchEvent(t)}_handleNetworkError(e){const t=V("faceplate-alert",{level:le.error,message:"Request failed",meta:e.status,alertDetails:{kind:"network",response:e}});this.host.dispatchEvent(t)}async request(e,t){var o,n,i,s;this.isRequestInProgress=!0;const a=`${location.origin}${"/"===e[0]?"":"/"}${e}`,r=Ce(a,this.buildRequest(t||{}),t&&t.loading===ce.Preload?Ae:Ie);try{try{for(var d,l=!0,c=w(r);!(o=(d=await c.next()).done);){s=d.value,l=!1;try{const e=s;if("faceplate-error"===e.type)return void this._handleError(e.detail);if(this.host.dispatchEvent(e),e.defaultPrevented)return;if("faceplate-response"===e.type){const t=e.detail.response;if(!t.ok)return void this._handleNetworkError(t);const o=ve(t);if("text/vnd.reddit.partial+html"!==o)throw new Error(`Unsupported content type "${o}" returned from ${a}`);return t}}finally{l=!0}}}catch(e){n={error:e}}finally{try{l||o||!(i=c.return)||await i.call(c)}finally{if(n)throw n.error}}}catch(e){this._handleError(e)}finally{this.isRequestInProgress=!1}}}const Re="function"==typeof document.createRange;var Oe;function Me(e){const t=e.cloneNode();return document.createRange().createContextualFragment(t.outerHTML).children[0]}function Ne(e,t,o){const n=Le(e),i=document.createDocumentFragment();for(let e=0;e<n.length;e++)i.appendChild(n[e]);De(i,t,o)}function De(e,t,o){switch(o){case pe.Append:return void t.appendChild(e);case pe.Replace:if(!t.parentNode)throw new Error("Attemping to use partial replace mode on target without a parent node!");return t.parentNode.insertBefore(e,t),void t.remove();case pe.Contents:return t.textContent="",void t.appendChild(e);default:throw new Error(`Attempting to use unsupported partial mode '${o}'!`)}}function Le(e){const t=document.createElement("template");t.innerHTML=e;const o=Array.from(t.content.children);if(!Re)return o;for(let e=0;e<o.length;e++){const t=o[e];if("FACEPLATE-BATCH"===t.nodeName){const n=Me(t),i=customElements.get(t.nodeName.toLowerCase());if(!(i&&n instanceof i))continue;const s=n.getCurrentTarget(t),a=Array.from(s.children);if(s.innerHTML="",s!==t)for(const e of Array.from(t.children))n.appendChild(e);if(s!==t&&s.nodeName.includes("-")){const e=Me(s);s.replaceWith(e)}n.batchInsert(a),o[e]=n}}return o}!function(e){e.Append="append",e.Replace="replace",e.Contents="contents"}(Oe||(Oe={}));const Ue=e=>{var t;return null!==(t=null==e?void 0:e.toLowerCase())&&void 0!==t?t:""};function ke(e){throw 1}class xe extends _e{constructor(){super(...arguments),this.src="",this.loading=ce.Eager,this.renderMode=pe.Replace,this.method=he.Get,this.alwaysShowSlot=!1,this.partialRequest=new Pe(this)}get isLoading(){return!!this.partialRequest&&this.partialRequest.isRequestInProgress}set isLoading(e){}static get styles(){return t`:host{display:block}:host([loading=action]){cursor:pointer}`}_shouldShowLoadingSlot(){var e;if(!(null===(e=this.partialRequest)||void 0===e?void 0:e.isRequestInProgress))return!1;switch(this.loading){case ce.Action:case ce.Intent:case ce.Programmatic:return!0;case ce.Eager:case ce.Preload:case ce.Lazy:return!1}return ke(this.loading)}_shouldUsePlaceholder(){if(this.alwaysShowSlot||this.renderMode!==pe.Replace)return!1;switch(this.loading){case ce.Lazy:return!0;case ce.Action:case ce.Eager:case ce.Intent:case ce.Preload:case ce.Programmatic:return!1}return ke(this.loading)}updated(){if(!this._shouldUsePlaceholder()||this._slotCapture)return;const e=this._shouldShowLoadingSlot(),t=Array.from(e?this.querySelectorAll("[slot=loading]"):this.childNodes);this._slotCapture=new DocumentFragment,t.forEach((e=>{var t;"INPUT"!==e.nodeName&&(null===(t=this._slotCapture)||void 0===t||t.appendChild(e))}));const o=document.createElement("div");o.style.minHeight="1px",o.style.minWidth="1px",o.style.marginBottom="-1px",e&&o.setAttribute("slot","loading"),this.appendChild(o)}render(){var e;const t=this.loading===ce.Action&&!(null===(e=this.partialRequest)||void 0===e?void 0:e.isRequestInProgress),i=this._shouldShowLoadingSlot();return o` <div tabindex="${n(t?0:void 0)}"> <slot name="${n(i?"loading":void 0)}"></slot> </div> `}loadContent(){return this._load()}async _loadContent(){var e,t,o;if(!this.src)throw new Error("No src attribute specified on faceplate-partial element.");if(null===(e=this.partialRequest)||void 0===e?void 0:e.isRequestInProgress)throw new Error("Request already in progress on faceplate-partial element.");let n;if(this.method===he.Post&&(n=new FormData,this.method===he.Post)){const e=this.querySelectorAll("input[type=hidden]");for(let t=0;t<e.length;t++){const o=e[t];!o.disabled&&o.name&&n.append(o.name,o.value)}}this._slotCapture&&(this._shouldShowLoadingSlot()?null===(t=this.querySelector("[slot=loading]"))||void 0===t||t.remove():this.innerHTML="",this.appendChild(this._slotCapture));const i=null===(o=this.partialRequest)||void 0===o?void 0:o.request(this.src,{body:n,method:this.method,loading:this.loading});this.loading===ce.Action&&this.requestUpdate();const s=await i;return s||this.loading!==ce.Action||this.requestUpdate(),null==s?void 0:s.text()}_renderContent(e){let t=null;const o=this.renderMode===pe.Replace,n=this.previousSibling;if(n||(t=this.parentNode),e&&this.parentElement&&(Ne(e,this,this.renderMode),o)){const e=n?n.nextSibling:t?t.firstElementChild:null;if(e){const t=V("faceplate-load",{resource:this.src,src:this.src});e.dispatchEvent(t)}}}}E([O({type:String})],xe.prototype,"src",void 0),E([O({type:String})],xe.prototype,"loading",void 0),E([O({type:String,attribute:"render-mode"})],xe.prototype,"renderMode",void 0),E([O({converter:Ue})],xe.prototype,"method",void 0),E([O({type:Boolean,attribute:"always-show-slot"})],xe.prototype,"alwaysShowSlot",void 0),fe(xe,{loader:e=>e._loadContent(),runner:(e,t)=>e._renderContent(t)});!!window.customElements.get("faceplate-partial")||window.customElements.define("faceplate-partial",xe);const Fe=i(class extends s{constructor(e){var t;if(super(e),e.type!==a.ATTRIBUTE||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){var o,n;if(void 0===this.it){this.it=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!(null===(o=this.nt)||void 0===o?void 0:o.has(e))&&this.it.add(e);return this.render(t)}const i=e.element.classList;this.it.forEach((e=>{e in t||(i.remove(e),this.it.delete(e))}));for(const e in t){const o=!!t[e];o===this.it.has(e)||(null===(n=this.nt)||void 0===n?void 0:n.has(e))||(o?(i.add(e),this.it.add(e)):(i.remove(e),this.it.delete(e)))}return r}});var Be;!function(e){e.ExtraSmall="xs",e.Small="sm",e.Medium="md",e.Large="lg"}(Be||(Be={}));const Ve={[Be.Small]:{label:"pl-[var(--rem10)] pr-[var(--rem6)]",icon:"pl-[var(--rem10)] pr-[var(--rem6)]",iconLabel:"pl-[var(--rem10)] pr-[var(--rem6)]"},[Be.Medium]:{label:"pl-[var(--rem14)] pr-[var(--rem10)]",icon:"pl-[var(--rem10)] pr-[var(--rem6)]",iconLabel:"px-[var(--rem10)]"},[Be.Large]:{label:"pl-[var(--rem14)] pr-[var(--rem10)]",icon:"px-[var(--rem14)]",iconLabel:"pl-[var(--rem14)] pr-[var(--rem10)]"}},Ge={[Be.ExtraSmall]:{label:"px-[var(--rem10)]",icon:"px-[var(--rem6)]",iconLabel:"px-[var(--rem10)]"},[Be.Small]:{label:"px-[var(--rem10)]",icon:"px-[var(--rem6)]",iconLabel:"px-[var(--rem10)]"},[Be.Medium]:{label:"px-[var(--rem14)]",icon:"px-[var(--rem8)]",iconLabel:"pl-[var(--rem10)] pr-[var(--rem14)]"},[Be.Large]:{label:"px-[var(--rem14)]",icon:"px-[var(--rem12)]",iconLabel:"pl-[var(--rem10)] pr-[var(--rem14)]"}},We={xs:"button-x-small",sm:"button-small",md:"button-medium",lg:"button-large"},He={primary:"button-primary",secondary:"button-secondary",tertiary:"button-tertiary",plain:"button-plain",bordered:"button-bordered",destructive:"button-destructive",media:"button-media",brand:"button-brand",success:"button-success",plainInverted:"button-plain-inverted",favorite:"button-favorite",favoriteToggled:"button-favorite-toggled",secondaryToggled:"button-secondary-toggled",caution:"button-caution",tab:"button-tab"},$e={xs:"text-12",sm:"text-16",md:"text-20",lg:"text-20"},qe=({attributes:e,size:t=Be.Medium,appearance:o,shape:n,leadingIcon:i,trailingIcon:s,children:a,selected:r})=>{let d="label";i&&a?d="iconLabel":a||(d="icon");const l=s?Ve:Ge;return`${e?.className||""}\n${t?`${We[t]} ${l[t]?.[d]}`:""}\n${o?He[o]:""}\n${r?"button-activated":""}\n${"square"===n?"rounded-[.5rem]":""}\n${"icon"===d?"icon":""}\n${"tab"===o?"flex-col":"items-center justify-center"}\nbutton inline-flex`},Ye=e=>{const{createElement:t}=d(),{attributes:o,selected:n,role:i}=e,s=o?.href,a=o?.disabled,r=(({hideChildrenOverflow:e,children:t,screenReaderContent:o,trailingIcon:n,leadingIcon:i,dropdown:s,appearance:a,selected:r,size:l})=>{let c="flex";(t||s)&&(c+=" mr-xs");const{html:u}=d(),h=u`<span class="flex items-center justify-center${e?" overflow-hidden":""}"> ${i?u`<span class="${c}">${i}</span>`:void 0} ${t?u`<span class="${"flex items-center gap-xs"+(e?" overflow-hidden":"")}">${t}</span>`:void 0} </span> ${n}`;return["tab"===a?u` <span class="inline-flex items-center justify-center gap-xs">${h}</span> ${r?u` <span class="w-100 ${l===Be.Small||l===Be.ExtraSmall?"h-[2px] -mt-[2px]":"h-2xs -mt-2xs"} pointer-events-none bg-primary rounded-full"></span>`:""} `:h,o?u`<faceplate-screen-reader-content>${o}</faceplate-screen-reader-content>`:""]})({...e}),l=null!=s;return t(l?"a":"button",{rpl:!0,role:i,...o,className:`${qe(e)} ${a&&l?"anchor-disabled":""}`,rplSelected:n},r)},je=({size:e=Be.Medium,...t})=>Ye({...t,size:e});function Ke(e){const o=[e];return o.raw=o,t(o)}const Qe=document.querySelector("#tailwind")?.textContent??"";Qe||console.warn("Tailwind style tag not found - cannot build constructed stylesheet");const ze=Ke(Qe);function Je(e,t){const o=V("faceplate-track",t),n=Xe(t);o.SAN=n,e.dispatchEvent(o)}function Xe(e){return`${e.source}/${e.action}/${e.noun}`.toLowerCase()}function Ze(e,t){for(const o in t){if("source"===o||"action"===o||"noun"===o)continue;const n=t[o],i=e[o];null==i?e[o]=n:ee(i)&&ee(n)&&Ze(i,n)}}var et,tt,ot;!function(e){e.App="app",e.Embed="embed",e.EmbedHeartbeat="embed-heartbeat",e.Event="event",e.EventBatch="event_batch",e.Heartbeat="heartbeat",e.HighlightMenu="highlight_menu",e.Screen="screen",e.SnippetEmbed="snippet_embed"}(et||(et={})),function(e){e.Global="global",e.Share="share"}(tt||(tt={})),function(e){e.Click="click",e.Drop="drop",e.Leave="leave",e.Load="load",e.View="view"}(ot||(ot={}));const nt="shreddit-composer-mode-toggle";var it,st;!function(e){e.RichText="richText",e.Markdown="markdown"}(it||(it={})),function(e){e.Small="small",e.Large="large",e.XLarge="xlarge"}(st||(st={}));const at="input-focus",rt="post-submit-form",dt="submit-post-button",lt="save-draft-button",ct="date-picker-button",ut="save-draft-failed-modal",ht="media-loss-draft-save-modal",pt="draft-load-failure-modal",mt="submit-operation-errors",gt="post_composer";var ft,_t;!function(e){e.Type="type",e.DraftId="draft",e.Title="title",e.CrosspostSourceId="source_id",e.Url="url",e.ScheduledPostId="scheduled_post_id",e.PostId="post_id"}(ft||(ft={})),function(e){e.Draft="draft",e.Schedule="schedule",e.Submit="submit",e.UpdateDraft="updateDraft",e.UpdateScheduledPost="updateScheduledPost"}(_t||(_t={}));const vt="comment_composer",Et="mod-overlay-display";var bt,yt,St,Ct;!function(e){e.Upvote="upvote",e.Downvote="downvote",e.Reply="reply",e.Follow="follow",e.Awards="awards",e.Join="join",e.Report="report",e.CommunityValue="community-value",e.Unknown="unknown"}(bt||(bt={})),function(e){e.UpvoteComment="upvote_comment",e.DownvoteComment="downvote_comment",e.ReplyComment="reply_comment",e.Report="report"}(yt||(yt={})),function(e){e.Follow="follow",e.Unfollow="unfollow",e.Chat="chat",e.Share="share",e.Message="send_message",e.GivePremium="give_premium",e.BlockUser="block_user",e.UnblockUser="unblock_user",e.GetHelp="get_help",e.Report="report",e.AddToCustomFeed="add_to_custom_feed"}(St||(St={})),function(e){e.Post="post",e.Comment="comment"}(Ct||(Ct={}));const Tt="track-event",wt="devvit-action",It={upvote:"upvote",downvote:"downvote",upvoteTry:"upvote_try",downvoteTry:"downvote_try",reply:"reply",join:"join",signup:"signup",save:"save",follow:"follow",awards:"awards",purchaseProduct:"purchase_product",vaultLogin:"vault_login",report:"report","faceplate-track":"faceplate-track","track-event":"track-event","devvit-action":"devvit-action"},At=["nav/click/login","user_drawer/click/login","reddit_pro_onboarding/click/login","xpromo/click/auth_header_login"],Pt=["premium_marketing/click/price","community_hovercard/click/join_signup_cta","community/click/subscribe","community/click/unsubscribe",`post_detail/click/${yt.UpvoteComment}`,`post_detail/click/${yt.DownvoteComment}`,`post_detail/click/${yt.ReplyComment}`,"post_composer/click/create_post","comment_composer/click/login_to_comment",`user_hovercard/click/${St.Follow}`,`user_hovercard/click/${St.Chat}`,"post/click/vote",`post/click/${bt.Report}`,`profile/click/${yt.DownvoteComment}`,`comment/click/${yt.Report}`,"comment/click/reply",`profile/click/${yt.UpvoteComment}`,`profile/click/${St.Follow}`,`profile/click/${St.Chat}`,`profile/click/${St.Message}`,`profile/click/${St.GivePremium}`,`profile/click/${St.BlockUser}`,`profile/click/${St.GetHelp}`,`profile/click/${St.Report}`,`profile/click/${St.AddToCustomFeed}`,"nav/click/recap_logged_out","subreddit/click/recap_logged_out","recap/click/recap_logged_out","xpromo/click/nsfw_blur:login","reddit_pro_onboarding/click/signup","new_awards/click/report",...At];let Rt=class extends e{render(){return o` <slot @click="${this.interactionHandler}" @keydown="${this.interactionHandler}"></slot> `}interactionHandler(e){e instanceof KeyboardEvent&&"Enter"!==e.key||this.dispatchEvent(new Event("interactionEvent"))}};function Ot(e){return e?.toLowerCase()||""}function Mt(e){return(e=Ot(e)).includes("chrome")||e.includes("crios")}function Nt(e){return(e=Ot(e)).includes("firefox")||e.includes("fxios")}function Dt(e,t){return function(e,t){return/(iPad)/i.test(Ot(e))||/(Mac)/i.test(Ot(e))&&t&&t>1}(e,t)||/(iPhone|iPod)/i.test(Ot(e))}function Lt(e){return!Mt(e)&&!function(e){return Ot(e).includes("edg")}(e)&&!Nt(e)&&(Ot(e).includes("safari")||Dt(e))}function Ut(e,t){return Dt(e,t)||Lt(e)}function kt(e,t){return t in e}Rt=E([P("shreddit-interactable-element")],Rt);const xt=Symbol("mixins/with-tracking");function Ft(e){if(kt(e,xt))return e;class t extends e{constructor(){super(...arguments),this.trackEvent=e=>{const t=V("track-event",{details:e});this.dispatchEvent(t)}}}return t[xt]=!0,t}var Bt;!function(e){e.CardView="cardView",e.ModQueueCompactView="modQueueCompactView",e.CompactView="compactView"}(Bt||(Bt={}));const Vt=(e="",t="")=>{const o=(e=>{if(!e)return;let t;try{const{searchParams:o}=new URL(e),n=o.get("embed_host_url"),i=n&&decodeURIComponent(n);if(!i)return;t={url:i,domain:new URL(i).hostname}}catch(e){}return t})(t);if(o)return o;let n="";try{n=e&&new URL(e)?.hostname||""}catch(e){}return{url:e,domain:n}},Gt=()=>({}),Wt=e=>{let t={};try{t=JSON.parse(document.getElementsByTagName("shreddit-screenview-data")?.[0]?.getAttribute("data")??"{}")}catch(e){throw new Error("Unable to parse screenview data")}return e?t[e]:t},Ht=(e,t,o=Wt)=>{if(t?.[e])return{};const n=o(e);return n?{[e]:n}:{}};function $t(e){if(e)switch(e){case Bt.CompactView:return"classic";case Bt.CardView:return"card";default:return}}const qt=({source:e,action:t,noun:o,...n},i={})=>({...i,source:e,action:t,noun:o,referrer:Vt(document.getElementsByTagName("shreddit-app")?.[0]?.getAttribute("referrer")||document.referrer,window.location.href),client_timestamp:Date.now(),...Ht("post",i),...n}),Yt=async e=>{const t=await fetch("/svc/shreddit/events/validate-schema",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({event:e})});if(t.ok)return t.json()};let jt=window.location;const Kt=e=>new Date(e).getTime()||void 0,Qt=()=>window.navigator&&window.navigator.userAgent.toLowerCase()||"";function zt(e){return e instanceof PointerEvent||e instanceof MouseEvent||"Enter"===e.key||"Space"===e.key}function Jt(e){e.preventDefault(),e.stopPropagation()}function Xt(){document.querySelector("shreddit-app")?.dispatchEvent(new CustomEvent("store-correlation-id"))}const Zt=Symbol("mixins/observer");function eo(e){if(Zt in e)return e;class t extends e{constructor(){super(...arguments),this._observer=null,this._handleEnter=e=>{this.observerIsIntersectingCallback(e.detail)},this._handleLeave=e=>{this.observerIsNotIntersectingCallback(e.detail)}}get isObserved(){return!!this._observer}enableObserver(e){this._observer||(this._observer=new Z(e),this._observer.observe(this),this.addEventListener("faceplate-enter",this._handleEnter),this.addEventListener("faceplate-leave",this._handleLeave))}disableObserver(){this._observer&&(this._observer.unobserve(this),this._observer=null,this.removeEventListener("faceplate-enter",this._handleEnter),this.removeEventListener("faceplate-leave",this._handleLeave))}observerIsIntersectingCallback(e){}observerIsNotIntersectingCallback(e){}}return t[Zt]=!0,t}var to;!function(e){e.Normal="normal",e.Slow="slow"}(to||(to={}));const oo=to.Slow;let no=!1,io=oo;const so=()=>io===to.Slow,ao=i(class extends s{constructor(e){if(super(e),e.type!==a.CHILD)throw Error("templateContent can only be used in child bindings")}render(e){return this.vt===e?r:(this.vt=e,document.importNode(e.content,!0))}});var ro,lo;!function(e){e[e.UserAccountCreated=200]="UserAccountCreated"}(ro||(ro={})),function(e){e.Email="register_email",e.EmailVerification="register_email_verification",e.UsernameAndPassword="register_username_and_password",e.Username="register_username",e.Password="register_password"}(lo||(lo={})),lo.Email,lo.EmailVerification,lo.UsernameAndPassword,lo.Email,lo.EmailVerification,lo.Username,lo.Password;const co="recaptcha",uo="recaptcha-script";var ho,po;!function(e){e[e.UserLoggedIn=200]="UserLoggedIn",e[e.TwoFARequired=202]="TwoFARequired",e[e.InvalidInput=400]="InvalidInput",e[e.RecaptchaFailed=401]="RecaptchaFailed"}(ho||(ho={})),function(e){e.ConfirmOTPApp="login_otp_app",e.ConfirmOTPBackup="login_otp_backup",e.UsernameAndPassword="login_username_and_password"}(po||(po={}));const mo="googleid-signin",go="googleid-signin-script",fo="https://accounts.google.com",_o="appleid-signin",vo="appleid-signin-script",Eo="https://appleid.apple.com";var bo,yo,So,Co,To;!function(e){e.ConfirmOTPApp="link_account_otp_app",e.ConfirmOTPBackup="link_account_otp_backup",e.ConfirmPassword="link_account_password",e.SelectAccount="link_account_select_account"}(bo||(bo={})),function(e){e[e.UserLoggedIn=200]="UserLoggedIn",e[e.UserAccountCreated=201]="UserAccountCreated",e[e.MultipleAccountsFound=202]="MultipleAccountsFound",e[e.GoogleCredentialMismatch=203]="GoogleCredentialMismatch"}(yo||(yo={})),function(e){e.AddPhone="add-phone",e.UpdatePhone="update-phone",e.AddEmailWithPhone="add-email"}(So||(So={})),function(e){e.EnterPhone="phone_auth_enter_phone",e.OTP="new_phone_auth_otp"}(Co||(Co={})),function(e){e.AddPhone="add_phone",e.UpdatePhone="update_phone",e.RemovePhone="remove_phone",e.AddEmail="add_email",e.DeactivateAccount="deactivate_account",e.Onboarding="onboarding"}(To||(To={}));const wo=3e3,Io=31,Ao=200,Po=3e4,Ro="Validation error on hidden input",Oo="TWO_FA_REQUIRED",Mo=/^\/(login|register|username|password|passwordrecovery|onboarding)\/$/,No=()=>"Something went wrong";var Do,Lo,Uo;!function(e){e.Login="login",e.Password="password",e.PasswordRecovery="passwordrecovery",e.Register="register",e.RegisterEmailOnly="register-email-only",e.RegisterPrompt="register-prompt",e.Onboarding="onboarding",e.PhoneAuth="phone_auth",e.HighFlyerRegister="high_flyer_register",e.AnswersRegister="answers_register",e.LoggedInAction="logged_in_action"}(Do||(Do={})),function(e){e.Login="login-standalone",e.Password="password-standalone",e.PasswordRecovery="passwordrecovery-standalone",e.Register="register-standalone"}(Lo||(Lo={})),function(e){e.GoogleOneTapPrompt="googleOneTapPrompt",e.SignupDrawerPrompt="signupDrawerPrompt",e.AuthLandingExperienceXpromo="authLandingExperienceXpromo",e.InlineAuthLandingExperienceXpromo="inlineAuthLandingExperienceXpromo"}(Uo||(Uo={}));const ko={...Uo,...Do};var xo,Fo,Bo,Vo,Go,Wo,Ho,$o,qo,Yo;!function(e){e.IncorrectUsernamePassword="INCORRECT_USERNAME_PASSWORD",e.InvalidClient="INVALID_CLIENT",e.InvalidScope="INVALID_SCOPE",e.NotFound="NOT_FOUND",e.RateLimit="RATELIMIT",e.TwoFARequired="TWO_FA_REQUIRED",e.WrongOTP="WRONG_OTP"}(xo||(xo={})),function(e){e.Apple="apple",e.Google="google",e.Reddit="reddit"}(Fo||(Fo={})),function(e){e.Login="login",e.OneTap="one_tap",e.Register="register",e.RegisterEmailOnly="register-email-only",e.SignupDrawer="signup_drawer",e.Username="username",e.Password="password",e.PasswordRecovery="passwordrecovery",e.PhoneAuth="phone_auth",e.XpromoLogin="xpromo_login",e.InlineUpsell="upsell_unit",e.Onboarding="onboarding",e.AccountSettings="account_settings",e.SSOLinking="sso_linking",e.DesktopAuthPrompt="desktop_auth_prompt",e.HighFlyerRegister="high_flyer_register",e.AnswersRegister="answers_register",e.LoggedInAction="logged_in_action",e.Unknown="unknown"}(Bo||(Bo={})),function(e){e.Open="auth-flow-modal-open"}(Vo||(Vo={})),function(e){e.App="app",e.Backup="backup"}(Go||(Go={})),function(e){e.DeactivateAccount="/svc/shreddit/account/deactivate_account",e.DeactivateAccountWithPhoneToken="/svc/shreddit/account/deactivate_account_with_phone_token",e.IdentityProviderCreate="/svc/shreddit/account/identity_provider_create",e.IdentityProviderLink="/svc/shreddit/account/identity_provider_link",e.IdentityProviderSignin="/svc/shreddit/account/identity_provider_signin",e.LinkExternalIdentity="/svc/shreddit/account/link-external-identity",e.Login="/svc/shreddit/account/login",e.LoginOTP="/svc/shreddit/account/login/otp",e.Logout="/svc/shreddit/account/logout",e.Register="/svc/shreddit/account/register",e.PasswordResetInitialize="/svc/shreddit/account/password_reset_initialize",e.PasswordResetAccounts="/svc/shreddit/account/password_reset_accounts",e.PasswordReset="/svc/shreddit/account/password_reset",e.EmailVerifyInitialize="/svc/shreddit/account/email_verify_initialize",e.EmailVerifyConfirm="/verification/:token",e.UpdateEmail="/svc/shreddit/account/update-email",e.UnlinkExternalIdentity="/svc/shreddit/account/unlink-external-identity",e.UpdatePassword="/svc/shreddit/account/update-password",e.UpdatePhoneNumberWithPassword="/svc/shreddit/account/update-phone-with-password",e.UpdatePhoneNumberWithCurrentPhoneNumber="/svc/shreddit/account/update-phone-with-phone",e.UpdateEmailWithPhoneNumber="/svc/shreddit/account/update-email-with-phone",e.RemovePhoneWithPhone="/svc/shreddit/account/remove-phone-with-phone",e.VerifyPhoneByAccountInitialize="/svc/shreddit/account/verify-phone-by-account-initialize",e.VerifyPhoneByAccount="/svc/shreddit/account/verify-phone-by-account",e.VerifyPhoneByCodeInitialize="/svc/shreddit/account/verify_phone_by_code_initialize",e.VerifyPhoneByCode="/svc/shreddit/account/verify_phone_by_code",e.LoginWithPhoneNumber="/svc/shreddit/account/login_with_phone_number",e.RegisterPhone="/svc/shreddit/account/register_phone",e.RegisterEmail="/svc/shreddit/account/register_email",e.RegisterEmailVerifyInitialize="/svc/shreddit/account/register_email_verify_initialize",e.RegisterEmailVerifyCheck="/svc/shreddit/account/register_email_verify_check"}(Wo||(Wo={})),function(e){e.RecoverUsername="recover_username",e.CheckInbox="recover_username_check_inbox"}(Ho||(Ho={})),function(e){e.ResetPassword="forgot_password",e.CheckInbox="reset_password_check_inbox"}($o||($o={})),function(e){e.PasswordRecovery="reset_password",e.CheckInbox="check_inbox"}(qo||(qo={})),function(e){e.AccountSelection="account_selector",e.ResetPassword="enter_new_password"}(Yo||(Yo={}));const jo="token_v2",Ko="reddit_session";Object.values(Do).join("|");const Qo=[bo.SelectAccount,bo.ConfirmPassword,bo.ConfirmOTPApp,bo.ConfirmOTPBackup,po.UsernameAndPassword,po.ConfirmOTPApp,po.ConfirmOTPBackup,lo.Email,lo.UsernameAndPassword,lo.Username,lo.Password,$o.ResetPassword,$o.CheckInbox,Ho.RecoverUsername,Ho.CheckInbox];var zo;!function(e){e.login="login_with_password",e.sso="login_with_external_identity",e.register="register_email",e.verifyPhone="verify_phone",e.loginWithPhone="login_with_phone",e.registerPhone="register_phone"}(zo||(zo={}));const Jo={[Wo.LoginWithPhoneNumber]:zo.loginWithPhone,[Wo.VerifyPhoneByCodeInitialize]:zo.verifyPhone,[Wo.RegisterPhone]:zo.registerPhone};var Xo;!function(e){e.Render="render",e.Execute="execute"}(Xo||(Xo={}));const Zo=new Set([po.UsernameAndPassword,lo.Email,...Object.values($o),...Object.values(qo),...Object.values(Yo),...Object.values(Ho)]);var en,tn;!function(e){e.AchievementsModalShowById="achievements-modal-show-by-id",e.AchievementsProgressToast="achievements-progress-toast",e.AMAEnded="ama_ended",e.AMAOpenExamplesModal="ama_open_examples_modal",e.AMAOpenSelfieTooltip="ama_open_selfie_tooltip",e.AMAPostRsvpSubscribe="ama_post_rsvp_subscribe",e.AMAPostRsvpUnsubscribe="ama_post_rsvp_unsubscribe",e.AMAStarted="ama_started",e.AMATryEnd="ama_try_end",e.AMATryStartEarly="ama_try_start_early",e.AvatarStateUpdated="avatar_state_updated",e.AvatarUpdated="avatar_updated",e.AwardContent="award_content",e.AwardDialogClose="award_dialog_close",e.AwardDialogGoldTopUpRequest="award_dialog_gold_top_up_request",e.AwardDialogNavigateTo="award_dialog_navigate_to",e.AwardOnContentUpdated="award_on_content_updated",e.CommentComposerBlurred="comment_composer_blurred",e.CommentComposerFocused="comment_composer_focused",e.CommentCreated="comment_created",e.CommentDeleted="comment_deleted",e.CommentFilterUpdated="comment_filter_updated",e.CommentSort="comment_sort",e.CommentTreeAdsLoaded="comment_tree_ads_loaded",e.CommentUpdated="comment_updated",e.CommunityAuthorFlairUpdated="community_author_flair_updated",e.CommunityGuideUpdated="community_guide_updated",e.CommunityOnboardingUpdated="community_onboarding_updated",e.CommunitySubscriptionPurchaseNavigateTo="community_subscription_purchase_navigate_to",e.CTLReportInit="ctl_report_init",e.CustomFeedCreated="custom_feed_created",e.CustomFeedDeleted="custom_feed_deleted",e.CustomFeedSourcesUpdated="custom_feed_sources_updated",e.CustomFeedUpdated="custom_feed_updated",e.DsaTransparencyModal="dsa_transparency_modal",e.ExplainerClosed="explainer_closed",e.FeatureActivated="feature_activated",e.GoldPurchased="gold_purchased",e.GuidesCitationMismatch="guides_citation_mismatch",e.GuidesDeactivateLink="guides_deactivate_link",e.GuidesEntrypointTooltipOpen="guides_entrypoint_tooltip_open",e.GuidesRenderNewQuestionContainer="guides_render_new_question_container",e.GuidesRenderNewQuestionContainerStarted="guides_render_new_question_container_started",e.GuidesRenderSplitScreenPostsView="guides_render_split_screen_posts_view",e.GuidesRenderSplitScreenView="guides_render_split_screen_view",e.GuidesResponseContainerSsrRendered="guides_response_container_ssr_rendered",e.GuidesRetryRequested="guides_retry_requested",e.GuidesSubscriptionConnected="guides_subscription_connected",e.GuidesSubscriptionDisconnected="guides_subscription_disconnected",e.GuidesSubscriptionResponded="guides_subscription_responded",e.GuidesSuggestionLoadingStarted="guides_suggestion_loading_started",e.GuidesUnavailableQueryClicked="guides_unavailable_query_clicked",e.I18nCommentTranslationOverride="i18n_comment_translation_override",e.I18nMoreCommentsPostMetrics="i18n_more_comments_post_metrics",e.I18nPostTranslationOverride="i18n_post_translation_override",e.InboxCountChanged="inbox_count_changed",e.InboxReadAllEvent="notification_inbox_notification_read_all_event",e.LightboxClose="lightbox_close",e.LightboxClosed="lightbox_closed",e.LightboxOpen="lightbox_open",e.LightboxOpened="lightbox_opened",e.LoidLoaded="loid_loaded",e.MediaAutoplayAttempt="media_autoplay_attempt",e.MediaSyncPlayback="media_sync_playback",e.MediaSyncVolume="media_sync_volume",e.ModActivityPanelForceClose="mod_activity_panel_force_close",e.ModChatChannelsChannelDetailsClosed="mod_chat_channels_channel_details_closed",e.ModChatChannelsDeleteAction="mod_chat_channels_delete_action",e.ModChatChannelsDeleteCancelled="mod_chat_channels_delete_cancelled",e.ModChatChannelsSaveAction="mod_chat_channels_save_action",e.ModChatChannelsSaveCancelled="mod_chat_channels_save_cancelled",e.ModChatChannelsSettingsDialogData="mod_chat_channels_settings_dialog_data",e.ModChatChannelsSettingsDialogOptimisticSave="mod_chat_channels_settings_dialog_optimistic_save",e.ModChatChannelsSettingsDialogSaveError="mod_chat_channels_settings_dialog_save_error",e.ModChatChannelsSettingsDialogSaveSuccess="mod_chat_channels_settings_dialog_save_success",e.ModChatChannelsSettingsDialogSaving="mod_chat_channels_settings_dialog_saving",e.ModNotesCreated="mod_notes_created",e.ModNotesDeleted="mod_notes_deleted",e.ModNotesLogFilter="mod_notes_log_filter",e.ModNotesOpenLog="mod_notes_open_log",e.ModNotesOpenLogFocus="mod_notes_open_log_focus",e.ModNotesOpenUserFlairEdditor="mod_notes_open_user_flair_editor",e.ModNotesRailClose="mod_notes_rail_close",e.ModNotesRailForceClose="mod_notes_rail_force_close",e.ModNotesRailOpen="mod_notes_rail_open",e.ModQueueActivityPanelClosed="mod_queue_activity_panel_closed",e.ModQueueActivityPanelOpened="mod_queue_activity_panel_opened",e.ModQueueBulkSelection="mod_queue_bulk_selection",e.ModQueueKeyboardShortcuts="modqueue_keyboard_shortcuts",e.ModQueuePdpLinkClick="mod_queue_pdp_link_click",e.ModQueuePdpPanelClosed="mod_queue_pdp_panel_closed",e.ModQueuePdpPanelOpened="mod_queue_pdp_panel_opened",e.ModQueueThingSelected="mod_queue_thing_selected",e.ModQueueTutorialOpen="mod_queue_tutorial_open",e.ModRealtimeUpdate="mod_realtime_update",e.ModReportsToggle="mod_reports_toggle",e.ModRulesCloseRuleDetails="mod_rules_close_rule_details",e.ModRulesConfirmRuleEditRejection="mod_rules_confirm_rule_edit_rejection",e.ModRulesCreateRule="mod_rules_create_rule",e.ModRulesOpenRuleDetails="mod_rules_open_rule_details",e.ModRulesRuleDeleted="mod_rules_rule_deleted",e.ModRulesRuleDetailsClosed="mod_rules_rule_details_closed",e.ModRulesSaveRuleDetails="mod_rules_save_rule_details",e.ModRulesShowCloseConfirmModal="mod_rules_show_close_confirm_modal",e.ModRulesShowRuleDeleteModal="mod_rules_show_rule_delete_modal",e.ModRulesShowRuleReasonModal="mod_rules_show_rule_reason_modal",e.ModToolsEmojiReloadTable="mod_tools_emoji_reload_table",e.MultiredditFavoriteStatusChange="multireddit_favorite_status_change",e.NotificationInboxNotificationHideEvent="notification_inbox_notification_hide_event",e.PageDataLoaded="page_data_loaded",e.PageDataRequested="page_data_requested",e.PostFlairUpdated="post_flair_updated",e.PostUpdated="post_updated",e.PremiumPurchased="premium_purchased",e.PromotePostSuccess="promote_post_success",e.PurchaseCheckout="purchase_checkout",e.PurchaseCheckoutMetadata="purchase_checkout_metadata",e.PurchaseDialogClose="purchase_dialog_close",e.PurchaseDialogGoldTopUpRequest="purchase_dialog_gold_top_up_request",e.PurchaseDialogNavigateTo="purchase_dialog_navigate_to",e.RedoAvatarAction="redo_avatar_action",e.ReloadHighlights="reload_highlights",e.ReportFlowClose="report_flow_close",e.ReportFlowInit="report_flow_init",e.ReportPageSummaryUpdate="report_page_summary_update",e.RequestAvatarState="request_avatar_state",e.ResizeEmbed="resize_embed",e.ScreenViewDataLoaded="screenview_data_loaded",e.SubredditFavoriteStatusChange="subreddit_favorite_status_change",e.SubredditMuteStatusChange="subreddit_mute_status_change",e.SubredditSubscriptionChange="subreddit_subscription_change",e.ThemeCookieSetByUser="theme_cookie_set_by_user",e.ThemeCookieSyncedFromUserPreference="theme_cookie_synced_from_user_preference",e.TopicPageSeeAllClicked="topic_page_see_all_clicked",e.TopicPageTabChanged="topic_page_tab_changed",e.TranslationToggled="translation_toggled",e.TriggerAmaRemindMeModal="trigger_ama_remind_me_modal",e.TriggerCommentBlockingAuth="trigger_comment_blocking_auth",e.TriggerCommunityAppearanceMenu="trigger_community_appearance_menu",e.TriggerEducationalDeeplinkPrompt="trigger_educational_deeplink_prompt",e.TriggerFeedErrorBanner="trigger_feed_error_banner",e.TriggerLightboxOpen="trigger_lightbox_open",e.UndoAvatarAction="undo_avatar_action",e.UpdateAvatarState="update_avatar_state",e.UserModActionsBan="user_mod_actions_ban",e.UserModActionsBanCancel="user_mod_actions_ban_cancel",e.UserModActionsBanFailure="user_mod_actions_ban_failure",e.UserModActionsMute="user_mod_actions_mute",e.UserModActionsMuteCancel="user_mod_actions_mute_cancel",e.UserModActionsMuteFailure="user_mod_actions_mute_failure",e.UserModActionsUnban="user_mod_actions_unban",e.UserModActionsUnmute="user_mod_actions_unmute",e.WikiVersionSelected="wiki-version-selected"}(en||(en={}));var on=new Uint8Array(16);function nn(){if(!tn&&!(tn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tn(on)}var sn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function an(e){return"string"==typeof e&&sn.test(e)}for(var rn=[],dn=0;dn<256;++dn)rn.push((dn+256).toString(16).substr(1));function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(rn[e[t+0]]+rn[e[t+1]]+rn[e[t+2]]+rn[e[t+3]]+"-"+rn[e[t+4]]+rn[e[t+5]]+"-"+rn[e[t+6]]+rn[e[t+7]]+"-"+rn[e[t+8]]+rn[e[t+9]]+"-"+rn[e[t+10]]+rn[e[t+11]]+rn[e[t+12]]+rn[e[t+13]]+rn[e[t+14]]+rn[e[t+15]]).toLowerCase();if(!an(o))throw TypeError("Stringified UUID is invalid");return o}var cn,un;function hn(e,t,o){function n(e,n,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],o=0;o<e.length;++o)t.push(e.charCodeAt(o));return t}(e)),"string"==typeof n&&(n=function(e){if(!an(e))throw TypeError("Invalid UUID");var t,o=new Uint8Array(16);return o[0]=(t=parseInt(e.slice(0,8),16))>>>24,o[1]=t>>>16&255,o[2]=t>>>8&255,o[3]=255&t,o[4]=(t=parseInt(e.slice(9,13),16))>>>8,o[5]=255&t,o[6]=(t=parseInt(e.slice(14,18),16))>>>8,o[7]=255&t,o[8]=(t=parseInt(e.slice(19,23),16))>>>8,o[9]=255&t,o[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,o[11]=t/4294967296&255,o[12]=t>>>24&255,o[13]=t>>>16&255,o[14]=t>>>8&255,o[15]=255&t,o}(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=o(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){s=s||0;for(var r=0;r<16;++r)i[s+r]=a[r];return i}return ln(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function pn(e){return 14+(e+64>>>9<<4)+1}function mn(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o}function gn(e,t,o,n,i,s){return mn((a=mn(mn(t,e),mn(n,s)))<<(r=i)|a>>>32-r,o);var a,r}function fn(e,t,o,n,i,s,a){return gn(t&o|~t&n,e,t,i,s,a)}function _n(e,t,o,n,i,s,a){return gn(t&n|o&~n,e,t,i,s,a)}function vn(e,t,o,n,i,s,a){return gn(t^o^n,e,t,i,s,a)}function En(e,t,o,n,i,s,a){return gn(o^(t|~n),e,t,i,s,a)}function bn(e,t,o){var n=(e=e||{}).random||(e.rng||nn)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var i=0;i<16;++i)t[o+i]=n[i];return t}return ln(n)}function yn(e,t,o,n){switch(e){case 0:return t&o^~t&n;case 1:return t^o^n;case 2:return t&o^t&n^o&n;case 3:return t^o^n}}function Sn(e,t){return e<<t|e>>>32-t}hn("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var o=0;o<t.length;++o)e[o]=t.charCodeAt(o)}return function(e){for(var t=[],o=32*e.length,n="0123456789abcdef",i=0;i<o;i+=8){var s=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(15&s),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[pn(t)-1]=t;for(var o=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<e.length;a+=16){var r=o,d=n,l=i,c=s;o=fn(o,n,i,s,e[a],7,-680876936),s=fn(s,o,n,i,e[a+1],12,-389564586),i=fn(i,s,o,n,e[a+2],17,606105819),n=fn(n,i,s,o,e[a+3],22,-1044525330),o=fn(o,n,i,s,e[a+4],7,-176418897),s=fn(s,o,n,i,e[a+5],12,1200080426),i=fn(i,s,o,n,e[a+6],17,-1473231341),n=fn(n,i,s,o,e[a+7],22,-45705983),o=fn(o,n,i,s,e[a+8],7,1770035416),s=fn(s,o,n,i,e[a+9],12,-1958414417),i=fn(i,s,o,n,e[a+10],17,-42063),n=fn(n,i,s,o,e[a+11],22,-1990404162),o=fn(o,n,i,s,e[a+12],7,1804603682),s=fn(s,o,n,i,e[a+13],12,-40341101),i=fn(i,s,o,n,e[a+14],17,-1502002290),o=_n(o,n=fn(n,i,s,o,e[a+15],22,1236535329),i,s,e[a+1],5,-165796510),s=_n(s,o,n,i,e[a+6],9,-1069501632),i=_n(i,s,o,n,e[a+11],14,643717713),n=_n(n,i,s,o,e[a],20,-373897302),o=_n(o,n,i,s,e[a+5],5,-701558691),s=_n(s,o,n,i,e[a+10],9,38016083),i=_n(i,s,o,n,e[a+15],14,-660478335),n=_n(n,i,s,o,e[a+4],20,-405537848),o=_n(o,n,i,s,e[a+9],5,568446438),s=_n(s,o,n,i,e[a+14],9,-1019803690),i=_n(i,s,o,n,e[a+3],14,-187363961),n=_n(n,i,s,o,e[a+8],20,1163531501),o=_n(o,n,i,s,e[a+13],5,-1444681467),s=_n(s,o,n,i,e[a+2],9,-51403784),i=_n(i,s,o,n,e[a+7],14,1735328473),o=vn(o,n=_n(n,i,s,o,e[a+12],20,-1926607734),i,s,e[a+5],4,-378558),s=vn(s,o,n,i,e[a+8],11,-2022574463),i=vn(i,s,o,n,e[a+11],16,1839030562),n=vn(n,i,s,o,e[a+14],23,-35309556),o=vn(o,n,i,s,e[a+1],4,-1530992060),s=vn(s,o,n,i,e[a+4],11,1272893353),i=vn(i,s,o,n,e[a+7],16,-155497632),n=vn(n,i,s,o,e[a+10],23,-1094730640),o=vn(o,n,i,s,e[a+13],4,681279174),s=vn(s,o,n,i,e[a],11,-358537222),i=vn(i,s,o,n,e[a+3],16,-722521979),n=vn(n,i,s,o,e[a+6],23,76029189),o=vn(o,n,i,s,e[a+9],4,-640364487),s=vn(s,o,n,i,e[a+12],11,-421815835),i=vn(i,s,o,n,e[a+15],16,530742520),o=En(o,n=vn(n,i,s,o,e[a+2],23,-995338651),i,s,e[a],6,-198630844),s=En(s,o,n,i,e[a+7],10,1126891415),i=En(i,s,o,n,e[a+14],15,-1416354905),n=En(n,i,s,o,e[a+5],21,-57434055),o=En(o,n,i,s,e[a+12],6,1700485571),s=En(s,o,n,i,e[a+3],10,-1894986606),i=En(i,s,o,n,e[a+10],15,-1051523),n=En(n,i,s,o,e[a+1],21,-2054922799),o=En(o,n,i,s,e[a+8],6,1873313359),s=En(s,o,n,i,e[a+15],10,-30611744),i=En(i,s,o,n,e[a+6],15,-1560198380),n=En(n,i,s,o,e[a+13],21,1309151649),o=En(o,n,i,s,e[a+4],6,-145523070),s=En(s,o,n,i,e[a+11],10,-1120210379),i=En(i,s,o,n,e[a+2],15,718787259),n=En(n,i,s,o,e[a+9],21,-343485551),o=mn(o,r),n=mn(n,d),i=mn(i,l),s=mn(s,c)}return[o,n,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,o=new Uint32Array(pn(t)),n=0;n<t;n+=8)o[n>>5]|=(255&e[n/8])<<n%32;return o}(e),8*e.length))})),hn("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,a=Math.ceil(s/16),r=new Array(a),d=0;d<a;++d){for(var l=new Uint32Array(16),c=0;c<16;++c)l[c]=e[64*d+4*c]<<24|e[64*d+4*c+1]<<16|e[64*d+4*c+2]<<8|e[64*d+4*c+3];r[d]=l}r[a-1][14]=8*(e.length-1)/Math.pow(2,32),r[a-1][14]=Math.floor(r[a-1][14]),r[a-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<a;++u){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=r[u][p];for(var m=16;m<80;++m)h[m]=Sn(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var g=o[0],f=o[1],_=o[2],v=o[3],E=o[4],b=0;b<80;++b){var y=Math.floor(b/20),S=Sn(g,5)+yn(y,f,_,v)+E+t[y]+h[b]>>>0;E=v,v=_,_=Sn(f,30)>>>0,f=g,g=S}o[0]=o[0]+g>>>0,o[1]=o[1]+f>>>0,o[2]=o[2]+_>>>0,o[3]=o[3]+v>>>0,o[4]=o[4]+E>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]})),function(e){e.All="all",e.AllChats="all_chats",e.AllChatsSpoke="all_chats_spoke",e.AchievementsMain="achievements_main",e.AchievementDetail="achievement_detail",e.AchievementsCategory="achievement_category",e.AchievementsCategoryPreview="achievements_category_preview",e.AchievementPreview="achievement_preview",e.AnnouncementDetailPage="announcement_detail_page",e.ArenaFeed="arena",e.Community="community",e.CommunityWiki="community_wiki",e.ContributorProgramMarketingPage="contributor_program_marketing_page",e.CustomFeed="custom_feed",e.Home="home",e.Inbox="inbox",e.InventoryDetail="inventory_detail",e.Multireddit="multireddit",e.Popular="popular",e.PostCreation="post_submit",e.PostDetail="post_detail",e.PrivateMessages="messages",e.PostStats="post_stats",e.ProfileAccountStats="profile_account_stats",e.ProfileComments="profile_comments",e.ProfileCommunityFinder="profile_community_finder",e.ProfileDashboard="profile_dashboard",e.ProfileDashboardPerformanceOverview="profile_dashboard_performance_overview",e.ProfileDashboardTrendingConvos="profile_dashboard_trending_convos",e.ProfileDownvoted="profile_downvoted",e.ProfileHidden="profile_hidden",e.ProfileOverview="profile_overview",e.ProfilePerformance="profile_performance",e.ProfilePosts="profile_posts",e.ProfileRelatedKeywords="profile_related_keywords",e.ProfileSaved="profile_saved",e.ProfileSubmitted="profile_submitted",e.ProfileTrendingConvos="profile_trending_convos",e.ProfileTrendingConvoDetails="profile_trending_convo_details",e.ProfileTrends="profile_trends",e.ProfileUpvoted="profile_upvoted",e.ProfileTrendMonitoring="profile_trend_monitoring",e.ProfileModeration="profile_moderation",e.EmailVerificationError="email_verification_error",e.BrandMention="brand_mention",e.SeoCommunityDirectory="seo_community_directory",e.SingleCommentThread="single_comment_thread",e.Unknown="unknown",e.UserManagementMute="moderation_pages_muted",e.UserManagementBan="moderation_pages_banned",e.UserPosts="user_posts",e.AdsRblSurvey="ads_rbl_survey_iframe",e.Policies="policies",e.MiniInbox="mini_inbox",e.ModAchievements="achievement_mod_tools",e.ModChatChannels="mod_chat_channels",e.ModInsightsGrowth="mod_insights_growth",e.ModInsightsReportsAndRemovals="reports_and_removals_page",e.ModInsightsTeamHealth="mod_insights_team_health",e.ModAutomations="moderation_pages_postguidance",e.ModPostAndCommentSettings="moderation_pages_edit",e.ModLog="moderation_pages_log",e.ModQueue="moderation_pages_modqueue",e.ModQueueAll="moderation_pages_modqueue_all",e.ModQueuePdp="moderation_pages_modqueue_pdp",e.ModRules="moderation_pages_rules",e.ModCommunityGuide="moderation_pages_communityguide",e.ModSettingsGeneral="moderation_pages_settings_general",e.ModSettingsPrivacy="moderation_pages_settings_privacy",e.ModSettingsNotifications="moderation_pages_settings_notifications",e.ModScheduledPosts="scheduled_posts",e.ModWiki="moderation_pages_wiki",e.TemporaryEvents="temporary_events",e.TemporaryEventsCreate="temporary_events_create",e.TemporaryEventsEditTemplate="temporary_events_edit_config",e.TemporaryEventsView="temporary_events_view_run",e.RedditProOnboardingPage="reddit_pro_onboarding",e.PostMiniViewer="post_mini_viewer",e.SearchDropdown="search_dropdown",e.SearchResults="search_results",e.SearchResultsTrending="search_results_trending",e.SocialPreviewPage="social_preview",e.TopicPage="topic",e.ExplorePage="explore",e.ExploreTopicPage="explore-topic",e.Embed="embed",e.Vault="vault",e.CDNMediaPage="cdn_media_page",e.MFeed="mfeed",e.SafetySubredditSettings="safety_subreddit_settings",e.Avatar="avatar",e.AvatarTabs="avatar_tabs",e.DisplayCollectibles="display_collectibles",e.UserRecap="user_recap",e.SubredditRecap="subreddit_recap",e.PremiumMarketing="premium_marketing",e.ProductDetailPage="product_detail_page",e.GoldPage="gold_page",e.EarnedGoldPage="earned_gold_page",e.Login="login",e.Register="register",e.Report="report",e.Password="password",e.PasswordRecovery="passwordrecovery",e.Username="username",e.Klp="klp",e.FlairsModal="flairs_modal",e.FlairsList="flairs_list",e.SettingsAccount="settings_account",e.SettingsPrivacy="settings_privacy",e.SettingsPreferences="settings_preferences",e.SettingsProfile="settings_profile",e.SettingsEmails="settings_emails",e.SettingsRedirect="settings_redirect",e.Guides="gen_guides",e.GuidesConversation="gen_guides_conversation",e.SettingsNotifications="settings_notifications",e.UserFlairSettings="moderation_pages_userflair",e.UserFlairSettingsPrompt="user_flair_picker",e.PostFlairSettings="moderation_pages_postflair",e.LookAndFeelSettings="moderation_pages_lookandfeel",e.EmojiSettings="moderation_pages_emojis",e.NewPhoneOTPAuth="new_phone_auth_otp",e.CurrentPhoneOTPAuth="current_phone_auth_otp",e.Moderators="moderation_pages_moderators",e.InvitedModerators="moderation_pages_invites",e.ApprovedUsers="moderation_pages_approved_users",e.MessageModerators="message_the_mods",e.UserHovercard="user_hovercard",e.Profile="profile",e.Announcement="announcement_page"}(cn||(cn={})),function(e){e[e.TIER_ZERO=0]="TIER_ZERO",e[e.TIER_ONE=1]="TIER_ONE",e[e.DEFAULT=2]="DEFAULT"}(un||(un={}));const Cn={source:"global",action:"view",noun:"screen"},Tn=e=>{return o=Cn,(t=e).source===o.source&&t.action===o.action&&t.noun===o.noun;var t,o},wn=[{field:"source",validatePresence:!1},{field:"action",validatePresence:!1},{field:"noun",validatePresence:!1},{field:"action_info",validatePresence:!1},{field:"page_type",validatePresence:!0},{field:"success",validatePresence:!1},{field:"client_timestamp",validatePresence:!0},{field:"referrer",validatePresence:!0},{field:"url",validatePresence:!1},{field:"domain",validatePresence:!1},{field:"server_render_id",validatePresence:!0},{field:"canonical_url",validatePresence:!1},{field:"screenview_id",validatePresence:!0},{field:"adblock",validatePresence:!0},{field:"enabled",validatePresence:!0}],In=(e,t=wn)=>{if(e.includes(`"source":"${Cn.source}"`)&&e.includes(`"action":"${Cn.action}"`)&&e.includes(`"noun":"${Cn.noun}"`)){for(let o=0;o<t.length;o++)if(!e.includes(t[o].field)||t[o].validatePresence&&e.includes(`"${t[o].field}":""`))return!1;return!0}return null},An=(e="")=>{let t="",o="";const n=e.split(".");if(n.length>=3){t=`t2_${n[0].replace(/\b0+/g,"")}`,o=n[2]}return{id:t,cookie_created_timestamp:parseInt(o,10)}},Pn=e=>(e.post?.subreddit_name&&(e.post.subreddit_name=e.post.subreddit_name.toLowerCase()),e.subreddit?.name&&(e.subreddit.name=e.subreddit.name.toLowerCase()),e);const Rn=e=>"global"===e?.source&&"view"===e.action&&"screen"===e.noun,On=e=>"experiment"===e?.source&&"expose"===e.action,Mn=[cn.Embed];var Nn,Dn={};Nn=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var n in o)t[n]=o[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function o(n){function i(){}function s(t,o,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(o);/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var d in s)s[d]&&(r+="; "+d,!0!==s[d]&&(r+="="+s[d].split(";")[0]));return document.cookie=t+"="+o+r}}function a(e,o){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],a=0;a<s.length;a++){var r=s[a].split("="),d=r.slice(1).join("=");o||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var l=t(r[0]);if(d=(n.read||n)(d,l)||t(d),o)try{d=JSON.parse(d)}catch(e){}if(i[l]=d,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,o){s(t,"",e(o,{expires:-1}))},i.defaults={},i.withConverter=o,i}((function(){}))},{get exports(){return Dn},set exports(e){Dn=e}}.exports=Nn();var Ln=Dn;window._pubsubControllerInstances??(window._pubsubControllerInstances=new Set);const Un=new Map;class kn{constructor(e){this.handlers={},this.host=e,this.host.addController(this)}hostConnected(){window._pubsubControllerInstances.add(this)}hostDisconnected(){window._pubsubControllerInstances.delete(this)}subscribe(e,t,o=!0,n=!1){this.handlers[e]||(this.handlers[e]=new Set),this.handlers[e].add(t),o&&Un.has(e)&&(t(Un.get(e)),n&&Un.delete(e))}unsubscribe(e,t){this.handlers[e]&&this.handlers[e].delete(t)}publish(e,t){return xn(e,t)}}function xn(e,t){Un.set(e,t);for(const o of window._pubsubControllerInstances)if(o.handlers[e]?.size)for(const n of o.handlers[e])n(t)}const Fn=Symbol("mixins/with-pubsub-manager");const Bn=Symbol("mixins/with-pubsub");function Vn(e){if(kt(e,Bn))return e;class t extends e{constructor(){super(...arguments),this.pubsub=new kn(this)}subscribe(e,t,o=!0,n=!1){this.pubsub.subscribe(e,t,o,n)}unsubscribe(e,t){this.pubsub.unsubscribe(e,t)}publish(e,t){xn(e,t)}}return t[Bn]=!0,t}function Gn(e,t){const o=document.createElement(e);for(const e in t)o.setAttribute(e,t[e]);return o}function Wn(e,t,o=!0){return e?e instanceof ShadowRoot?Wn(e.host,t,o):e instanceof HTMLElement?e.matches(t)?e:o&&e.querySelector(t)?e.querySelector(t):Wn(e.parentNode,t,o):Wn(e.parentNode,t,o):null}window.ALL_ELEMENTS??(window.ALL_ELEMENTS=new Map);const Hn=new Set(["faceplate-json","reddit-debug-panel","shreddit-debug-ad-display","shreddit-debug-dev-override","shreddit-debug-feature-timeline","shreddit-debug-v2-events","shreddit-perf-debugger"]);function $n(){if(window.renderTimes)return;window.renderTimes={};const t=e.prototype.update;e.prototype.update=function(...e){const o=this.nodeName.toLowerCase(),n=performance.now();t.apply(this,e);const i=performance.now()-n;Hn.has(o)||(window.renderTimes[o]=(window.renderTimes[o]||0)+i)},window.printRenderReport=(e=20)=>{console.log(Object.entries(window.renderTimes).sort((([,e],[,t])=>t-e)).slice(0,e).map((([e,t])=>`${e} ${t.toFixed(1)}ms`)).join("\n"))}}let qn=new Set;function Yn(){const e=new Set([...window.ALL_ELEMENTS.keys()]),t=new Set(jn("*").filter((e=>e.tagName.includes("-"))).map((e=>e.tagName.toLowerCase())));return qn=qn.union?.(t)??[],[...e.difference?.(qn)??[]]}function jn(e,t=document.documentElement){return[...t.querySelectorAll(e)].flatMap((t=>{const o=[t];return t.shadowRoot&&o.push(...jn(e,t.shadowRoot)),o}))}function Kn(){return jn("*",document.body).some((e=>e.matches("[data-expected-lcp]")))}function Qn(e,t=Kn){return e?Wn(e,"[data-expected-lcp]",!1)?"true":t()?"false":"unknown":"unknown"}var zn,Jn;!function(e){e.XPromo="xpromo"}(zn||(zn={}));const Xn=new Set;let Zn=Jn=class extends(eo(e)){constructor(){super(...arguments),this.content=null,this.slotState="pending"}connectedCallback(){switch(super.connectedCallback(),this.shouldRenderWithPaintGroup=this.paintGroup&&(!this.loading||this.loading===ce.Eager),this.loading){case ce.Programmatic:break;case ce.Lazy:this.enableObserver();break;case ce.Eager:default:this.load()}}disconnectedCallback(){this.disableObserver(),super.disconnectedCallback()}renderAsSlot(){switch(this.slotState){case"pending":return o`<slot></slot>`;case"ready":return o`<slot name="${Jn.READY_SLOT}"></slot>`;case"error":return o`<slot name="${Jn.ERROR_SLOT}"></slot>`}}render(){return this.shouldRenderAsSlot?this.renderAsSlot():null!=this.content?this.content:o` <slot></slot> <slot name="${Jn.READY_SLOT}"></slot> <slot name="${Jn.ERROR_SLOT}"></slot> `}observerIsIntersectingCallback(){this.disableObserver(),this.load()}async load(){try{if(!this.bundleName)throw new Error("Unspecified bundle.");Xn.add(this);const e=Jn.Loaders;if(0===e.size)return;const t=e.get(this.bundleName);if(!t)throw new Error(`Invalid bundle: ${this.bundleName}.`);if(this.shouldRenderWithPaintGroup&&this.paintGroup){Jn.paintGroupLoaders.get(this.paintGroup)?.push(t())}else await t();this.handleLoad()}catch(e){this.handleLoadError(e)}}async waitForPaintGroup(){if(!this.paintGroup||!this.shouldRenderWithPaintGroup)return;const e=Jn.paintGroupLoaders.get(this.paintGroup);var t;e&&await Promise.race([Promise.all(e),(t=2e3,new Promise((e=>{window.setTimeout(e,t)})))])}async handleLoad(){Xn.delete(this),this.shouldRenderWithPaintGroup&&await this.waitForPaintGroup(),this.shouldRenderAsSlot?this.slotState="ready":this.renderTemplate(Jn.READY_SLOT)}handleLoadError(e){console.error("Error loading async bundle",e?.stack),this.shouldRenderAsSlot?this.slotState="error":this.renderTemplate(Jn.ERROR_SLOT),window.Sentry?.withScope((e=>{e?.setTag?.("bundleName",this.bundleName),window.Sentry?.captureMessage?.("Failed to load async bundle")}))}renderTemplate(e){const t=this.findTemplate(e);t&&(this.content=ao(t))}findTemplate(e){const t=this.shadowRoot?.querySelector(`slot[name=${e}]`);if(!(t instanceof HTMLSlotElement))return null;const o=t?.assignedElements()[0];return o instanceof HTMLTemplateElement?o:null}};Zn.styles=[ze],Zn.Loaders=new Map,Zn.addLoaders=e=>{for(const[t,o]of Object.entries(e))Jn.Loaders.set(t,o);for(const e of Xn)e.load()},Zn.paintGroupLoaders=((e=zn)=>new Map(Object.values(e).map((e=>[e,[]]))))(),Zn.READY_SLOT="ready",Zn.ERROR_SLOT="error",E([O({type:String})],Zn.prototype,"bundleName",void 0),E([O({type:String})],Zn.prototype,"loading",void 0),E([O({type:String,attribute:"paint-group",converter:e=>e})],Zn.prototype,"paintGroup",void 0),E([O({type:Boolean})],Zn.prototype,"shouldRenderAsSlot",void 0),E([M()],Zn.prototype,"content",void 0),E([M()],Zn.prototype,"shouldRenderWithPaintGroup",void 0),E([M()],Zn.prototype,"slotState",void 0),Zn=Jn=E([P("shreddit-async-loader")],Zn);const ei={fromAttribute:e=>e.trim().split(/ +/),toAttribute:e=>e.join(" ")},ti={fromAttribute:e=>e.trim().split(","),toAttribute:e=>e.join(",")},oi={rootMargin:"0px"};let ni=class extends e{constructor(){super(...arguments),this.source="",this.action="",this.noun="",this.loadingModifier=[],this._fireMode=ue.Always,this._trackEvent=()=>{this._ctrl&&this._fireMode===ue.Once&&(this._ctrl=Y(this,this._ctrl));const{source:e,action:t,noun:o}=this;e&&t&&o&&Je(this,{source:e,action:t,noun:o})}}get loading(){return"click"===this.action?ce.Action:"view"===this.action?ce.Lazy:ce.Programmatic}createRenderRoot(){return this}connectedCallback(){super.connectedCallback();const{loading:e}=this;e===ce.Action?this._ctrl=j(this,this,this._trackEvent):e===ce.Lazy&&(this._ctrl=ne(this,this,this._trackEvent,oi),this._fireMode=ue.Once);for(const e of this.loadingModifier)switch(e){case ue.Once:case ue.Always:this._fireMode=e}}disconnectedCallback(){super.disconnectedCallback(),this._ctrl&&(this._ctrl=Y(this,this._ctrl))}trackEvent(){if(this.loading!==ce.Programmatic)throw new Error(`Calling trackEvent only supported with loading=${ce.Programmatic}`);return this._trackEvent()}};E([O({type:String})],ni.prototype,"source",void 0),E([O({type:String})],ni.prototype,"action",void 0),E([O({type:String})],ni.prototype,"noun",void 0),E([O({converter:ei,attribute:"loading-modifier"})],ni.prototype,"loadingModifier",void 0),ni=E([P("faceplate-tracker")],ni);class ii extends Event{constructor(e,t,o){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=o}}function si(e){return e}class ai{constructor(e,t,o,n){var i;if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(e,t)=>{this.unsubscribe&&(this.unsubscribe!==t&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,t)),this.unsubscribe=t},this.host=e,void 0!==t.context){const e=t;this.context=e.context,this.callback=e.callback,this.subscribe=null!==(i=e.subscribe)&&void 0!==i&&i}else this.context=t,this.callback=o,this.subscribe=null!=n&&n;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new ii(this.context,this.t,this.subscribe))}}class ri extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}}class di extends class{constructor(e){this.disposers=new Map,this.updateObservers=()=>{for(const[e,t]of this.disposers)e(this.o,t)},void 0!==e&&(this.value=e)}get value(){return this.o}set value(e){this.setValue(e)}setValue(e,t=!1){const o=t||!Object.is(e,this.o);this.o=e,o&&this.updateObservers()}addCallback(e,t){if(t){this.disposers.has(e)||this.disposers.set(e,(()=>{this.disposers.delete(e)}));const t=this.disposers.get(e);e(this.value,t)}else e(this.value)}clearCallbacks(){this.disposers.clear()}}{constructor(e,t,o){super(void 0!==t.context?t.initialValue:o),this.onContextRequest=e=>{e.context===this.context&&e.composedPath()[0]!==this.host&&(e.stopPropagation(),this.addCallback(e.callback,e.subscribe))},this.host=e,void 0!==t.context?this.context=t.context:this.context=t,this.attachListeners(),this.host.addController(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest)}hostConnected(){this.host.dispatchEvent(new ri(this.context))}}function li({context:e}){return N({finisher:(t,o)=>{const n=new WeakMap;t.addInitializer((t=>{n.set(t,new di(t,{context:e}))}));const i=Object.getOwnPropertyDescriptor(t.prototype,o),s=null==i?void 0:i.set,a={...i,set:function(e){var t;null===(t=n.get(this))||void 0===t||t.setValue(e),s&&s.call(this,e)}};Object.defineProperty(t.prototype,o,a)}})}function ci({context:e,subscribe:t}){return N({finisher:(o,n)=>{o.addInitializer((o=>{new ai(o,{context:e,callback:e=>{o[n]=e},subscribe:t})}))}})}class ui extends Q{constructor(e,t){super(e),this._events=new W(this,(()=>this._host)),this.trackEvent=t,this._events.define("faceplate-track",(e=>{const t=e.detail,o=e.SAN||Xe(t),n=e.composedPath();for(const e of n)if(e instanceof HTMLElement){const o=te(e,"faceplateTrackingContext");o&&Ze(t,o)}this.trackEvent(t,o)}))}}const hi=$(),pi=q("AlertReportingElement"),mi=pi.registerAncestorClass,gi=pi.connectToAncestor,fi={fromAttribute(e){if(e in le)return le[e]},toAttribute(e){if(e in le)return le[e]}};function _i(e,t,o,n){return{level:e,message:t,meta:o[0]&&"string"==typeof o[0]?o.join("\n"):void 0,count:n}}function vi(e,t=_i){const o=[];if(!e.length)return o;e.sort(((e,t)=>(void 0===e.level?le.none:e.level)-(void 0===t.level?le.none:t.level)));let n={},i=e[0].level,s=0;function a(){for(const e in n){const s=n[e];if(1===s.length)o.push(s[0]);else{const n=[];let a=0;for(const e of s)e.meta&&n.push(e.meta),a+=void 0===e.count?1:e.count;o.push(t(i,e,n,a))}}}for(const t of e){t.level!==i&&(a(),n={},i=t.level,s=0);const e=t.message||"";Object.prototype.hasOwnProperty.call(n,e)?n[e].push(t):n[e]=[t],s+=t.count||1}return s>0&&a(),o}class Ei{constructor(e){this._handleAlertEvent=e=>{const t=e.detail;this.report(t)&&e.stopImmediatePropagation()},e.addController(this),mi(e.constructor),this.host=e}hostConnected(){this.host.addEventListener("faceplate-alert",this._handleAlertEvent)}hostDisconnected(){this.host.removeEventListener("faceplate-alert",this._handleAlertEvent)}report(e){const t=hi.getRegisteredElements(this.host);if(t)for(const o of t)if(o.shouldDisplayAlert(e))return o.displayAlert(e),!0;return!1}}var bi,yi;!function(e){e.MOBILE="mobile",e.TABLET="tablet",e.DESKTOP="desktop"}(bi||(bi={})),function(e){e.Seo="seo",e.Reddit="reddit",e.RedditSearch="reddit_search",e.Other="other",e.Invalid="invalid"}(yi||(yi={}));var Si,Ci,Ti,wi;!function(e){e.Link="link",e.Text="text",e.Image="image",e.Gif="gif",e.Video="video",e.Crosspost="crosspost",e.MultiMedia="multi_media",e.RTJSON="rtjson",e.Poll="poll",e.LiveAudio="liveaudio",e.RPAN="rpan",e.Gallery="gallery",e.Tournament="tournament"}(Si||(Si={})),function(e){e.FEED="feed",e.FULL_BLEED_VIDEO_FEED="full_bleed_video_feed",e.COMMENTS_PAGE="comments_page",e.COMMENT_TREES="comment_trees",e.SIDEBARS="sidebars",e.TRENDING_DISCOVERY="trending_discovery",e.TRENDING_SEARCH_RESULT="trending_search_result",e.BLANK_ONLY="blank_only"}(Ci||(Ci={})),function(e){e.GoodVisit="good_visit",e.GoodVisitFeed="good_visit_feed",e.GoodVisitSearch="good_visit_search",e.GoodVisitPostStats="good_visit_post_stats",e.GoodVisitGuides="good_visit_guides",e.GuidesRealtimeResponse="guides_realtime_response",e.GuidesRealtimeQuestion="guides_realtime_question"}(Ti||(Ti={})),function(e){e.Initial="initial",e.NavigationControllerRestore="navigation_controller_restore",e.BFCache="bf_cache",e.ForegroundingAction="foregrounding_action",e.Unknown="unknown"}(wi||(wi={}));function Ii(e){if(!document.body.contains(e)){document.body.prepend(e);const o=t(e);return e.remove(),o}return t(e);function t(e){if(["BODY","HTML"].includes(e.tagName))return!1;if(e.hidden||!document.body.contains(e))return!0;const o=window.getComputedStyle(e);return"none"===o.display||"hidden"===o.visibility||!!e.parentElement&&t(e.parentElement)}}async function Ai(e){return new Promise((t=>{const o=new Image;o.onerror=()=>{t(!0)},o.onload=()=>{t(!1)},o.src=e}))}function Pi(e){"enabled"===new URLSearchParams(window.location.search).get("adblock_detection_debug_mode")&&console.debug("[adblock-detection] ",e)}function Ri(){const e=document.createElement("div");return e.style.width="1px",e.style.position="absolute",e.style.top="0",e.style.left="-1000px",e.style.display="block",e}let Oi,Mi;async function Ni(){return Mi||async function(){return Mi=async function(){await new Promise((e=>requestAnimationFrame(e)));const e=performance.now(),t=()=>{Pi(`The detection logic ran in ${(performance.now()-e).toFixed(3)}ms`)},o=Ii(function(){const e=Ri();return e.id="adblock-eyeo-element",e.classList.add("jag8CityBio212023"),e}());Pi(o?" Eyeo bait element was blocked":" Eyeo bait element was not blocked");const n=async()=>{const e=await Ai("https://ad-delivery.net/px.gif?ch=2");return Pi(e?" Eyeo bait asset was blocked":" Eyeo bait asset was not blocked"),e};if(o||await n()){const e=Ii(function(){const e=Ri();return e.className="promotedlink",e}());Pi(e?" Eyeo acceptable ads element was blocked":" Eyeo acceptable ads element was not blocked"),t();const o={isAdblockEnabled:!0,isAcceptableAdsEnabled:!e};return Pi(` Final result: ${JSON.stringify(o)}`),o}const i=Ii(function(){const e=Ri();return e.id="adblock-element",e.classList.add("promoted"),e.dataset.beforeContent="advertisement",e}());Pi(i?" Easylist bait element was blocked":" Easylist bait element was not blocked");const s=async()=>{const e=await Ai(function(){const e=new URLSearchParams(window.location.search).get("adblock_bait_asset_domain");if(e){const t=new URL(e);return t.pathname="/assets/pix/ads/1.png",t.toString()}return"https://www.redditstatic.com/shreddit/assets/pix/ads/1.png"}());return Pi(e?" Easylist bait asset was blocked":" Easylist bait asset was not blocked"),e},a=i||await s();t();const r={isAdblockEnabled:a,isAcceptableAdsEnabled:!a&&void 0};return Pi(` Final result: ${JSON.stringify(r)}`),r}(),Oi=await Mi,window.dispatchEvent(new Event("adblock_detection_complete")),Oi}()}const Di=({noun:e,pageType:t})=>(e=>e===cn.Embed)(t)?Li(e):e,Li=e=>{switch(e){case et.Screen:case et.App:return et.Embed;case et.Heartbeat:return et.EmbedHeartbeat;default:return e}},Ui={height:window?.screen.height,width:window?.screen.width},ki=({success:e=!0,data:t,screenviewId:o,serverRenderId:n,triggerType:i=wi.Initial,hostPageType:s})=>{const{isAcceptableAdsEnabled:a,isAdblockEnabled:r}=Oi||{isAdblockEnabled:!1,isAcceptableAdsEnabled:void 0},d=!!window.matchMedia?.("(display-mode: standalone), (display-mode: minimal-ui)").matches;return qt({source:tt.Global,action:ot.View,noun:Di({noun:et.Screen,pageType:s})},{...t,action_info:{...t.action_info,success:e,trigger_type:i},request:{...t.request,server_render_id:n},screenview_id:o,screen:Ui,adblock:{enabled:r,acceptable_ads:a},...d?{pwa:{installed:!0}}:{}})},xi=({reason:e,screenViewData:t,screenviewId:o,hostPageType:n})=>qt({source:tt.Global,action:ot.Leave,noun:Di({noun:et.App,pageType:n})},{...t,action_info:{...t.action_info,reason:e},screenview_id:o}),Fi=(e,t,o)=>qt({source:tt.Global,action:ot.Drop,noun:et.EventBatch},{...e,dropped_data:{event_batch_size:o},action_info:{...e.action_info,reason:t.toLowerCase()}});var Bi,Vi;!function(e){e.Comments="comments",e.CopyLink="copy_link",e.HighlightTextComponent="highlight_text_component",e.Replies="replies",e.ProfileName="profile_name",e.ProfileIcon="profile_icon",e.PostTitle="post_title",e.ReadMore="read_more",e.RedditLogo="reddit_logo",e.SubredditIcon="subreddit_icon",e.SubredditName="subreddit_name",e.Upvote="upvote",e.ViewMore="view_more",e.Whitespace="whitespace",e.Members="members_count",e.Online="online_count",e.Media="media",e.JoinCommunity="join_community",e.ViewMoreMedia="view_more_media",e.FullscreenMedia="fullscreen_media"}(Bi||(Bi={})),function(e){e.Post="Post",e.Comment="Comment",e.Feed="Feed",e.Snippet_Post="Snippet_Post",e.Snippet_Comment="Snippet_Comment"}(Vi||(Vi={}));const Gi="embed-container",Wi="-embed-wrapper",Hi="blurred-overlay",$i="embed-feed-post-",qi="embed-read-mode-overlay",Yi="embed-read-mode-overlay-hover";var ji;!function(e){e.Mobile="mweb3x",e.Desktop="web3x"}(ji||(ji={}));const Ki=ji.Mobile,Qi=Object.values(ji);let zi,Ji;const Xi=()=>{if(void 0!==zi)return zi;const e=document.querySelector("shreddit-app");var t;return void 0!==(t=e?.getAttribute("app-name")??void 0)&&Qi.includes(t)?zi=t:(zi=Ki,window.Sentry?.captureMessage?.("`app-name`: Default app_name value was used")),zi},Zi=()=>{return void 0!==Ji||(e=document.querySelector("shreddit-app")?.microAppName??void 0,Ji=void 0!==e?e:"unknown"),Ji;var e};function es(){const e=["function","join","toJSON","apply","23047690IGRVhT","length","556302XzTDNY","charCodeAt","419288bYCtGU","11731167uCIdzC","push","hasOwnProperty","56SOTfAE","replace","call","1815989LfEXaw","null","prototype","boolean","toString","1394481sXXuow","[object Array]","lastIndex","slice","11HXmSCO","object","string","stringify","test","475985LRzPeI","4rMenIr","10bTARrG","number"];return(es=function(){return e})()}function ts(e,t){const o=es();return(ts=function(e,t){return o[e-=486]})(e,t)}!function(e,t){const o=ts,n=es();for(;;)try{if(965991===-parseInt(o(508))/1+-parseInt(o(509))/2*(-parseInt(o(499))/3)+parseInt(o(487))/4*(-parseInt(o(510))/5)+-parseInt(o(518))/6+parseInt(o(494))/7*(parseInt(o(491))/8)+parseInt(o(488))/9+parseInt(o(516))/10*(-parseInt(o(503))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();function os(){const e=document.querySelector("shreddit-app")?.pageType;return e||void 0}const ns=is;function is(e,t){const o=vs();return(is=function(e,t){return o[e-=463]})(e,t)}!function(e,t){const o=is,n=vs();for(;;)try{if(838679===-parseInt(o(500))/1+-parseInt(o(477))/2*(-parseInt(o(492))/3)+-parseInt(o(510))/4+-parseInt(o(473))/5+parseInt(o(499))/6+parseInt(o(487))/7*(parseInt(o(507))/8)+parseInt(o(466))/9*(parseInt(o(474))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const ss=(()=>{const e=ts,t={},o=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;let n,i,s,a;function r(e){const t=ts;return o[t(501)]=0,o[t(507)](e)?'"'+e[t(492)](o,(function(e){const o=t,n=s[e];return typeof n===o(505)?n:"\\u"+("0000"+e[o(486)](0)[o(498)](16))[o(502)](-4)}))+'"':'"'+e+'"'}function d(e,t){const o=ts;let s,l,c,u;const h=n;let p,m=t[e];switch(m&&"object"==typeof m&&"function"==typeof m[o(514)]&&(m=m[o(514)](e)),"function"==typeof a&&(m=a.call(t,e,m)),typeof m){case"string":return r(m);case o(511):return isFinite(m)?String(m):"null";case o(497):case o(495):return String(m);case o(504):if(!m)return"null";if(n+=i,p=[],Object[o(496)][o(498)][o(515)](m)===o(500)){for(u=m[o(517)],s=0;s<u;s+=1)p[s]=d(s,m)||o(495);return c=0===p[o(517)]?"[]":n?"[\n"+n+p[o(513)](",\n"+n)+"\n"+h+"]":"["+p[o(513)](",")+"]",n=h,c}if(a&&typeof a===o(504))for(u=a.length,s=0;s<u;s+=1)typeof a[s]===o(505)&&(l=a[s],c=d(l,m),c&&p[o(489)](r(l)+(n?": ":":")+c));else for(l in m)Object[o(496)][o(490)][o(493)](m,l)&&(c=d(l,m),c&&p.push(r(l)+(n?": ":":")+c));return c=0===p[o(517)]?"{}":n?"{\n"+n+p[o(513)](",\n"+n)+"\n"+h+"}":"{"+p[o(513)](",")+"}",n=h,c}}return typeof t.stringify!==e(512)&&(s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t[e(506)]=function(t,o,s){const r=e;let l;if(n="",i="",typeof s===r(511))for(l=0;l<s;l+=1)i+=" ";else typeof s===r(505)&&(i=s);if(a=o,o&&typeof o!==r(512)&&(typeof o!==r(504)||typeof o[r(517)]!==r(511)))throw new Error("GSON.stringify");return d("",{"":t})}),t})();let as=[];let rs;const ds=()=>{const e=is;return!rs&&(rs=document[e(512)](e(463))),rs},ls=async({eventsBuffer:e,errorText:t,v2EventsRoute:o})=>{const n=is;if(!e[n(482)])return!0;const i={v2EventsRoute:o,options:{nowSendingDropEvent:!0,shouldNotRetryIfFail:!0}},s=t??n(517);return 1===e.length?await bs({...i,eventsBuffer:[(a=e[0],r=s,qt({source:tt.Global,action:ot.Drop,noun:et.Event},{...a,dropped_data:{event_source:a.source,event_action:a.action,event_noun:a.noun,event_batch_size:1},action_info:{...a.action_info,reason:r.toLowerCase()}}))]}):await bs({...i,eventsBuffer:[Fi(e[0],s,e[n(482)])]});var a,r},cs=async({url:e,eventsBuffer:t})=>{const o=is,n={[document[o(512)](o(463))?.[o(491)](o(498))??o(506)]:Ln[o(464)](o(490))??"",info:t},i=ss.stringify(n);return navigator[o(486)](e,i),!0},us=async({url:e,eventsBuffer:t,microapp:o,options:n})=>{const i=is,s={[document.querySelector("shreddit-app")?.[i(491)](i(498))??"token_csrf"]:Ln[i(464)](i(490))??"",info:t},a=ss.stringify(s);let r;try{r=await fetch(e,{body:a,headers:{"Content-Type":i(478),"x-sh-microapp-route":o||i(470)},keepalive:!0,method:i(508),credentials:i(497)})}catch(o){return!n?.[i(489)]&&(n?.[i(481)]?!n?.[i(516)]&&await ls({eventsBuffer:t,errorText:"An error: "+o,v2EventsRoute:e}):await bs({eventsBuffer:t,v2EventsRoute:e,options:{shouldNotRetryIfFail:!0}}),!0)}if(r?.ok){const e=(e=>{const t=is,o=JSON[t(515)](e)?.[t(483)],n=o[t(475)](Tn);if(!n)return!1;const i=ss[t(494)](n);return!!as[t(479)]((e=>ss[t(494)](e)===i))||(as[t(482)]>100?as=[]:as.push(n),!1)})(a);r[i(476)]===i(509)&&r.headers.has("x-verified-res")&&In(a)&&(e=>{const t=is;return e[t(496)](t(485)+os()+'"')})(a)&&!e?(ds()?.[i(504)](),window.dispatchEvent(new CustomEvent(i(480)))):i(514)===i(505)&&null!==In(a)&&window[i(493)](new CustomEvent(i(468),{detail:{correctResponseType:r[i(476)]===i(509),correctHeaders:r[i(472)][i(495)]("x-verified-res"),correctStringifiedEvents:In(a),hasSeenIdentiticalGVSEvent:e}})),e&&(ds()?.[i(520)](),"production"===i(505)&&window[i(493)](new CustomEvent("no-resolve",{detail:{hasSeenIdentiticalGVSEvent:e}})));const t=r[i(472)][i(464)](i(465))||void 0,o=r[i(472)].get(i(469))||void 0;window[i(493)](new CustomEvent(i(501),{detail:{loid:t,session_tracker:o}}))}else if(!n?.[i(516)])return await ls({eventsBuffer:t,errorText:i(484)+r?.[i(511)],v2EventsRoute:e});return!0};let hs;const ps=()=>{const e=is;return typeof hs===e(488)||(t=document[e(512)](e(463))?.[e(467)](e(471))??!1,hs=t),hs;var t},ms=(e,t)=>Math.floor(Math.random()*(t-e)+e),gs=(e,t,o)=>""+e[ns(519)](0,o)+t+e.slice(o),fs=ns(518),_s=()=>fs[Math.floor(Math.random()*fs[ns(482)])];function vs(){const e=["status","querySelector","Invalid len argument supplied. Must be greater than ","production","parse","nowSendingDropEvent","other_error","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789","slice","pauseIncomingRequests","shreddit-app","get","x-set-loid","198261cdSgCZ","hasAttribute","no-resolve","x-set-session","monolith","disable-send-beacon","headers","2353680nKhRNo","230izWseY","find","type","2HUGKGQ","text/PLAIN","some","force-refresh","shouldNotRetryIfFail","length","info","HTTP Response Code: ",'"page_type":"',"sendBeacon","7tGLthN","boolean","underCachingExperiment","csrf_token","getAttribute","3884469BBVtOI","dispatchEvent","stringify","has","includes","same-origin","ctn","4436664WPNapF","647944UirCEu","v2-events-sent","floor","function","resolvePendingRequests","development","token_csrf","4802416HmKlRa","post","basic","4735508UncHvV"];return(vs=function(){return e})()}const Es="/svc/shreddit/"+(e=>{const t=ns;if(e<="/!"[t(482)])throw new Error(t(513)+"/!".length);let o=[...Array(e-"/!".length)].map(_s).join("");return o=gs(o,"/!"[0],Math[t(502)](o.length/2)),o=gs(o,"/!"[1],ms(0,o[t(482)]-1)),o})(ms(15,25)),bs=async({eventsBuffer:e,v2EventsRoute:t,options:o})=>{const n=(()=>{const e=is;return typeof navigator[e(486)]!==e(503)||ps()?typeof fetch===e(503)?us:void 0:cs})();return void 0===n||await n({url:t||Es,eventsBuffer:e,microapp:Zi(),options:o})};var ys;!function(e){e.AdRefocusStart="time-before-unfocus",e.LastClickedAdId="last-clicked-ad-id",e.ImpressionId="last-clicked-impression-id",e.RecentPages="recent-subreddits-store",e.FeatureTestLocalStorageKey="shreddit_local_storage_feature_test",e.DisclaimerStore="disclaimer_store",e.AmaPostCreationModalDismissed="ama-post-creation-modal-dismissed",e.AmaReminderTooltipShown="ama-reminder-tooltip-shown",e.GoodVisit="good-visit-status",e.GoodVisitFS="good-visit-feeds-search",e.GoodVisitKLP="good-visit-klp",e.GoodVisitGuides="good-visit-guides",e.ModalBlocking="modal-blocking-status",e.XpromoEducationalDeeplinkPrompt="xpromo-educational-deeplink-prompt",e.AdEvents="ad-events",e.AdUserTargeting="ad-user-targeting",e.Follow="follow_store",e.RecentSearches="recent-searches-store",e.NsfwTypeaheadExpanded="nsfw_typeahead_expanded",e.SearchTypeaheadExpanded="search-typeahead-expanded",e.EventsBuffer="events-buffer",e.LoginTime="login-time",e.ModQueuePreferencesExpandReports="mod-queue-preferences-expand-reports",e.AchievementsStore="achievements-store",e.AchievementsUpdatesEnabled="achievements-updates-enabled",e.ModActivityCardsCollapseState="activity-cards-collapse-state",e.ModInsightsCardCollapseState="insights-card-collapse-state",e.TeamFlairSelectionIsShown="team-flair-selection-is-shown",e.ModNavState="mod-nav-state",e.ModActivityPanelState="mod-activity-panel-state",e.ModQueueTutorial="mod-queue-tutorial",e.I18nPostTranslationBanner="i18n-post-translation-banner",e.I18nTranslationInterventionShown="i18n-translation-intervention-shown",e.AwardAnonymously="award-anonymously",e.TranslationInitialized="translation_initialized",e.RemovalReasonDontNotifyDismissed="removal-reason-dont-notify-dismissed",e.ModQueueSafetyBannerState="mod-queue-safety-banner-state-ban-evasion-modmail",e.MomentsShownXpromos="moments-shown-xpromos",e.AdPlacement="AdPlacement",e.ForceRefresh="force-refresh",e.PostStatsCoachMarkSeen="post-stats-coachmark"}(ys||(ys={}));const Ss=new class{getStorage(){try{return window.localStorage}catch(e){return}}clear(){this.getStorage()?.clear()}getItem(e){return this.getStorage()?.getItem(e)||null}removeItem(e){this.getStorage()?.removeItem(e)}setItem(e,t){this.getStorage()?.setItem(e,t)}isAvailable(){try{this.setItem(ys.FeatureTestLocalStorageKey,"yes");const e="yes"===this.getItem(ys.FeatureTestLocalStorageKey);return this.removeItem(ys.FeatureTestLocalStorageKey),e}catch{return!1}}};class Cs{constructor(e){let t;this.key=e;const o=Ss.getItem(e);if(null==o)t=[];else try{t=function(e){if(!Array.isArray(e))throw new Error;const t=e;return t.forEach((e=>{if("string"!=typeof e)throw new Error})),t}(JSON.parse(o))}catch(e){t=[]}this.valuesSet=new Set(t)}hasValue(e){return this.valuesSet.has(e)}setValue(e){if(this.valuesSet.size>=Cs.MAX_SET_SIZE)return!1;return!this.valuesSet.has(e)&&(this.valuesSet.add(e),this._persist(),!0)}removeValue(e){const t=this.valuesSet.delete(e);return t&&this._persist(),t}_persist(){const e=JSON.stringify([...this.valuesSet]);Ss.setItem(this.key,e)}}Cs.MAX_SET_SIZE=50;let Ts,ws,Is=[];const As=new Set(["global__view__screen","global__view__embed","global__leave__app","post_detail__click__comments","post_detail__click__post","global__view__heartbeat","post__view__comments","post__consume__comments"]);function Ps(e,t){if(Is.push(e),(e=>{if(!e)return!1;const{source:t,action:o,noun:n}=e,i=`${t}__${o}__${n}`;return As.has(i)})(e)){const e=Is.slice();Is=[],Rs(e,t)}else if(Is.length>=40){const e=Is.slice();Is=[],Rs(e,t)}else Ts||(Ts=setTimeout((()=>{const e=Is.slice();Is=[],Rs(e,t)}),3e3))}function Rs(e,t){!function(){Ts&&clearTimeout(Ts);Ts=void 0}(),Ds()?async function(e,t){const o=await bs({eventsBuffer:e,v2EventsRoute:t,options:{underCachingExperiment:!0}});if(!Ss.isAvailable())return;const n=JSON.parse(Ss.getItem(ys.EventsBuffer)??"[]");if(o)n.length&&Ms(t);else{n.push(e);try{Ss.setItem(ys.EventsBuffer,JSON.stringify(n))}catch(e){return}Ms(t)}}(e,t):bs({eventsBuffer:e,v2EventsRoute:t})}function Os(e){const t=Is.slice();Is=[],t.length>0&&Rs(t,e)}function Ms(e){ws||(ws=setTimeout((()=>{!async function(e){if(function(){ws&&clearTimeout(ws);ws=void 0}(),!Ss.isAvailable())return;const t=JSON.parse(Ss.getItem(ys.EventsBuffer)??"[]");for(;t.length>0;){if(!await bs({eventsBuffer:t[0],v2EventsRoute:e,options:{underCachingExperiment:!0}}))return void Ms(e);t.shift();try{Ss.setItem(ys.EventsBuffer,JSON.stringify(t))}catch(e){continue}}}(e)}),3e3))}let Ns;const Ds=()=>{return"boolean"==typeof Ns||(e=document.querySelector("shreddit-app")?.hasAttribute("use-local-storage-events-caching")??!1,Ns=e),Ns;var e},Ls=e=>()=>qt({source:"nav",action:"click",noun:e}),Us=(e,t)=>()=>qt({source:"nav",action:"click",noun:e,subreddit:t?{name:t}:void 0}),ks=Ls("wordmark"),xs=Ls("user"),Fs=Ls("search_opened"),Bs=Ls("search_closed"),Vs=()=>qt({source:"nav",action:"open",noun:"hamburger_menu"}),Gs=()=>qt({source:"nav",action:"close",noun:"hamburger_menu"}),Ws=()=>qt({source:"nav",action:"open",noun:"user_drawer"}),Hs=()=>qt({source:"nav",action:"close",noun:"user_drawer"}),$s=e=>Us("recent_page_name_menu",e)();class qs extends Q{constructor(e,t){super(e),this.events=new W(this,(()=>window)),this.getCommonLabels=t,this.events.define("w3-report",(e=>{this.sendReport(e.detail)})),this.events.define("track-event",(e=>{this.handleEvent(e.detail.details)})),this.events.define("faceplate-track",(e=>{this.handleEvent(e.detail)}))}async getW3ReportSender(){return(await Promise.resolve().then((function(){return Fr}))).w3Report}async sendReport(e){(await this.getW3ReportSender())({...e,labels:{...this.getCommonLabels?.(),...e.labels}})}async getV2EventConverter(){return(await import("./w3-report-from-v2-event-ca42ed25.js")).getW3ReportsFromV2Event}async handleEvent(e){const t=(await this.getV2EventConverter())(e);t&&t.forEach((e=>this.sendReport(e)))}}var Ys,js;!function(e){e.Standard="hidden",e.Webkit="webkitHidden"}(Ys||(Ys={})),function(e){e.hidden="visibilitychange",e.webkitHidden="webkitvisibilitychange",e.mozHidden="mozvisibilitychange",e.msHidden="msvisibilitychange"}(js||(js={}));const Ks=Object.keys(js),Qs={initialized:!1,visibilityCallbacks:new Array},zs=()=>{},Js=Ks.find((e=>void 0!==document[e]));var Xs=(e=zs,t={immediate:!1})=>{const o=Qs.visibilityCallbacks.length;return Qs.visibilityCallbacks.includes(e)||(t.shouldBeCalledFirst?Qs.visibilityCallbacks.unshift(e):Qs.visibilityCallbacks.push(e)),!Qs.initialized&&Js&&(Qs.initialized=!0,document.addEventListener(js[Js],(()=>{const e=!document[Js];Qs.visibilityCallbacks.forEach((t=>t(e)))})),t.immediate&&e(!document[Js])),t.resetInit&&(Qs.initialized=!1),o<Qs.visibilityCallbacks.length};const Zs=e=>{const t=Qs.visibilityCallbacks.length,o=Qs.visibilityCallbacks.indexOf(e);return-1!==o&&Qs.visibilityCallbacks.splice(o,1),t>Qs.visibilityCallbacks.length};let ea=!1;const ta=e=>{const t=Ss.getItem(ys.AdRefocusStart),o=Ss.getItem(ys.LastClickedAdId),n=Ss.getItem(ys.ImpressionId),i=Ss.getItem(ys.AdPlacement);if(t&&o&&n){e(((e,t,o,n)=>qt({source:"post",action:"refocus",noun:"ad"},{post:e,ad_click:{landing_page_duration:Math.min(t,2**31-1)},ad_metadata:{impression_id:o,placement:n}}))({id:o},Math.round(performance.now()-parseFloat(t)),n,i))}(t||o||n)&&(Ss.removeItem(ys.AdRefocusStart),Ss.removeItem(ys.LastClickedAdId),Ss.removeItem(ys.ImpressionId),Ss.removeItem(ys.AdPlacement))},oa=()=>document.querySelector("shreddit-app")?.serverRenderId;let na=!1;const ia=[],sa=[],aa=Dt(Qt(),window.navigator?.maxTouchPoints)?"pagehide":"beforeunload",ra=(e,t)=>{const o=e.length,n=e.indexOf(t);return-1!==n&&e.splice(n,1),o>e.length},da={unsubscribe(e){const t=ra(ia,e),o=ra(sa,e);return t||o},subscribe(e=(()=>{}),t={}){const o=ia.length,n=sa.length,i=t.shouldBeCalledFirst?"unshift":"push";return ia.includes(e)||ia[i](e),t.unloadOnly||sa.includes(e)||sa[i](e),na||(na=!0,window.addEventListener(aa,(()=>{ia.forEach((e=>e()))})),window.addEventListener("beforeRoute",(()=>{sa.forEach((e=>e()))}))),o<ia.length||n<sa.length},eventType:aa},la="over18",ca="search_over18",ua="pref_gated_sr_optin",ha="pref_quarantine_optin",pa="theme",ma="mod_queue_compact",ga={expires:365,httpOnly:!1},fa={expires:730,httpOnly:!1},_a="compact",va="mod_mode_enabled",Ea=e=>`${e}_recentclicks3`,ba="reddit_translation_status",ya="reddit_chat_view",Sa="reddit_chat_path",Ca="reddit_chat_right_rail_upsell",Ta="reddit_chat_subreddit_feed_upsell",wa="prefers_reduced_motion",Ia="is_video_autoplay_disabled",Aa="prefers_reduced_motion_sync";function Pa(e,t){const[o,n]=e.split("?"),i=new URLSearchParams(n);return i.delete(t),i.toString()?o+"?"+i.toString():o}function Ra(e,t,o){if(!t||!o)return e;const[n,i]=e.split("?"),s=new URLSearchParams(i);return s.set(t,o),n+"?"+s.toString()}const Oa={shouldDisplayCoachmark:!0,shouldDisplayFeedbackCoachmark:!1,coachmarkDisplayCount:0,showCommentTranslationModal:!0,showPostTranslationModal:!0},Ma=["bn-IN","de-DE","en-US","es-ES","es-MX","fil-PH","fr-FR","hi-IN","it-IT","nl-NL","pseudo","pt-BR","pt-PT","sv-SE","th-TH",...["kn-IN","ml-IN","mr-IN","ms-MY","pl-PL","ta-IN","te-IN","vi-VN"],...Object.keys({"kn-IN-test-i18n":"kn-IN","ml-IN-test-i18n":"ml-IN","mr-IN-test-i18n":"mr-IN","ms-MY-test-i18n":"ms-MY","pl-PL-test-i18n":"pl-PL","ta-IN-test-i18n":"ta-IN","te-IN-test-i18n":"te-IN","vi-VN-test-i18n":"vi-VN"})],Na=Object.fromEntries(Ma.map((e=>[e,e]))),Da="i18n-translation-error",La="i18n-translation-empty";var Ua,ka,xa,Fa;!function(e){e.ENABLED="enabled",e.DISABLED="disabled"}(Ua||(Ua={})),function(e){e.GetOriginal="get-original",e.GetTranslation="get-translation"}(ka||(ka={})),function(e){e.Title="title",e.TitleBody="title-body"}(xa||(xa={})),function(e){e[e.Posts=0]="Posts",e[e.Comments=1]="Comments",e[e.Communities=2]="Communities"}(Fa||(Fa={}));const Ba={DATA_MT_TYPE:"data-mt-type",IMG:"img",INNER_HTML:"innerHTML",TEXT_CONTENT:"textContent"},Va="i18n-post-media-img",Ga="i18n-give-post-feedback",Wa="i18n-give-comment-feedback",Ha="i18n-component-ready",$a={ID:{FEEDBACK_MODAL:"feedback-modal",FEED_POST_FEEDBACK_MODAL:"feed-post-translator-feedback-modal",PDP_POST_FEEDBACK_MODAL:"pdp-post-translator-feedback-modal",PDP_COMMENT_FEEDBACK_MODAL:"pdp-comment-feedback-modal"},CLASS:{}},qa="translated-post-changed",Ya="translated-comments-changed",ja="translated-posts-changed";var Ka,Qa,za;!function(e){e.Translated="translated",e.Untranslated="untranslated",e.None=""}(Ka||(Ka={})),function(e){e.PageLoad="page_load",e.ToggleChange="toggle_change",e.Pagination="pagination",e.LoadMore="load_more"}(Qa||(Qa={})),function(e){e.MtSeoBot="mt_seo_crawler",e.MtSeoUser="mt_seo",e.UserNav="user_navigation"}(za||(za={}));const Ja="off",Xa="on",Za={CONTROL:"control",NO_INDICATORS:"no_indicators",ALL_AUTOMATIC_BANNER:"all_automatic_banner",ALL_MANUAL_BANNER:"all_manual_banner",ALL_MANUAL_BANNER_INTERVENTION:"all_manual_banner_intervention"},er="show",tr="original";function or(e,t,o){const[n,i]=e?e.split("?"):"",s=new URLSearchParams(i);return t?(s.set("translated","1"),o&&s.set("pretranslation_language",o)):(s.delete("translated"),o&&s.delete("pretranslation_language")),s.toString()?n+"?"+decodeURIComponent(s.toString()):n}function nr(e,t){const o=document.querySelector("faceplate-partial#top-level-more-comments-partial"),n=o?.getAttribute("src");if(o&&n){const i=or(n,e,t);o.setAttribute("src",i)}document.querySelectorAll('faceplate-partial[src*="more-comments"]')?.forEach((o=>{const n=o.getAttribute("src");if(n){const i=or(n,e,t);o.setAttribute("src",i)}}))}function ir(e){document.querySelectorAll('faceplate-partial[src*="edit-comment"]')?.forEach((t=>{let o=t.getAttribute("src");o&&(o=e?Ra(o,"isTranslated","true"):Pa(o,"isTranslated"),t.setAttribute("src",o))}))}function sr(e){try{const t=JSON.parse(decodeURIComponent(e));if((e=>{const t=e;return!(!t||"object"!=typeof t||void 0!==t.isTranslationActive&&"boolean"!=typeof t.isTranslationActive||"boolean"!=typeof t.shouldDisplayCoachmark||"number"!=typeof t.coachmarkDisplayCount||void 0!==t.isSearchTranslationsEnabled&&"boolean"!=typeof t.isSearchTranslationsEnabled||void 0!==t.showCommentTranslationModal&&"boolean"!=typeof t.showCommentTranslationModal||void 0!==t.showPostTranslationModal&&"boolean"!=typeof t.showPostTranslationModal)})(t))return t}catch(e){}return null}function ar(e){return`${e}-post-rtjson-content`}const rr=(e,t,o,n)=>{t=t.trim();const i=""===(o=o.trim()),s=""===t,a=t!==o,r=s&&i,d=t===o&&!i;return e?!1===n?Ka.Untranslated:!0!==n||i?d?Ka.Untranslated:!i&&s?Ka.Translated:i&&!s?Ka.Untranslated:a||r?Ka.Translated:Ka.None:Ka.Translated:Ka.Untranslated},dr={withPosts:new Set([cn.Community,cn.Home,cn.Popular,cn.All]),withPost:new Set([cn.PostDetail]),withComments:new Set([cn.PostDetail])},lr=e=>{const t={totalPostsInPage:e.length,postsWithTranslatedTitle:0,postsWithUntranslatedTitle:0,postsWithTranslatedBody:0,postsWithUntranslatedBody:0,translatablePosts:0,allPostTitlesUntranslated:!1,allPostTitlesTranslated:!1,allPostBodiesUntranslated:!1,allPostBodiesTranslated:!1,translatableIds:[],translatedIds:[],untranslatedIds:[],translatedImages:0,untranslatedImages:0};return e.forEach((e=>{if(!e||!e.id)return;const o=e?.titleState===Ka.Translated,n=e?.bodyState===Ka.Translated,i=e?.titleState===Ka.Untranslated,s=e?.bodyState===Ka.Untranslated,a=!e?.hasBody||n;e.isTranslatable&&(void 0!==t.translatablePosts&&t.translatablePosts++,t.translatableIds&&t.translatableIds.push(e.id)),o&&void 0!==t.postsWithTranslatedTitle&&t.postsWithTranslatedTitle++,i&&void 0!==t.postsWithUntranslatedTitle&&t.postsWithUntranslatedTitle++,n&&void 0!==t.postsWithTranslatedBody&&t.postsWithTranslatedBody++,s&&void 0!==t.postsWithUntranslatedBody&&t.postsWithUntranslatedBody++,o&&a?t.translatedIds&&t.translatedIds.push(e.id):t.untranslatedIds&&t.untranslatedIds.push(e.id)})),t.allPostTitlesTranslated=!!t.translatablePosts&&t.postsWithTranslatedTitle===t.translatablePosts,t.allPostBodiesTranslated=!!t.translatablePosts&&t.postsWithTranslatedBody===t.translatablePosts,t.allPostTitlesUntranslated=t.postsWithUntranslatedTitle===e.length,t.allPostBodiesUntranslated=t.postsWithUntranslatedBody===e.length,t},cr=e=>{const t=rr(e.translationSetting,e.originalTitle,e.translatedTitle,e.isTitleTranslated),o=rr(e.translationSetting,e.originalBody,e.translatedBody,e.isBodyTranslated);return{id:e.postId,hasBody:""!==e.originalBody||""!==e.translatedBody,postType:e.postType,titleState:t,bodyState:o,isTranslatable:e.isTranslatable,translatedImages:0,untranslatedImages:0}},ur=(e,t)=>{let o=0,n=0,i=0;const s=[],a=[],r=[];return t.length&&Array.from(t).filter((t=>{const{id:d,originalBody:l,translatedBody:c,isTranslated:u,isTranslatable:h}=t,p=rr(e,l,c,u);p===Ka.Untranslated&&(o++,r.push(d)),p===Ka.Translated&&(n++,a.push(d)),h&&(i++,s.push(d))})),{totalCommentsInPage:t.length,translatedComments:n,untranslatedComments:o,translatableComments:i,translatedIds:a,untranslatedIds:r,translatableIds:s,allCommentsTranslated:n===i&&i>0,allCommentsUntranslated:o===t.length}},hr=e=>({load_type:e.loadType,scenario:e.scenario,translation_setting_state:e.translationSettingState,target_language:e.targetLanguage,post:e.post?{id:e.post.id,has_body:e.post.hasBody,post_type:e.post.postType,title_state:e.post.titleState,body_state:e.post.bodyState,is_translatable:e.post.isTranslatable,translated_images:e.post.translatedImages,untranslated_images:e.post.untranslatedImages}:void 0,comments:e.comments?{total_comments_in_page:e.comments.totalCommentsInPage,translated_comments:e.comments.translatedComments,untranslated_comments:e.comments.untranslatedComments,translatable_comments:e.comments.translatableComments,all_comments_translated:e.comments.allCommentsTranslated,all_comments_untranslated:e.comments.allCommentsUntranslated,translatable_ids:e.comments.translatableIds,translated_ids:e.comments.translatedIds,untranslated_ids:e.comments.untranslatedIds}:void 0,posts:e.posts?{total_posts_in_page:e.posts.totalPostsInPage,posts_with_translated_title:e.posts.postsWithTranslatedTitle,posts_with_untranslated_title:e.posts.postsWithUntranslatedTitle,posts_with_translated_body:e.posts.postsWithTranslatedBody,posts_with_untranslated_body:e.posts.postsWithUntranslatedBody,translatable_posts:e.posts.translatablePosts,all_post_titles_untranslated:e.posts.allPostTitlesUntranslated,all_post_titles_translated:e.posts.allPostTitlesTranslated,all_post_bodies_untranslated:e.posts.allPostBodiesUntranslated,all_post_bodies_translated:e.posts.allPostBodiesTranslated,translatable_ids:e.posts.translatableIds,translated_ids:e.posts.translatedIds,untranslated_ids:e.posts.untranslatedIds,translated_images:e.posts.translatedImages,untranslated_images:e.posts.untranslatedImages}:void 0}),pr=(e,t)=>e.isNavigationControllerRestore?wi.NavigationControllerRestore:e.isBfCacheRestore?wi.BFCache:t?wi.ForegroundingAction:wi.Initial,mr=async({pageType:e,triggerType:t,serverRenderId:o="",shouldUpdateRecaptcha:n=!1})=>{if(!n||Mn.includes(e))return;const i=window.btoa(`${e}|${t}|${o}`).replace(/=/g,"");return fetch(`/svc/shreddit/update-recaptcha?k=${i}`)};class gr{constructor(e){this.hasSentScreenview=!1,this._pageUnloaded=!1,this._visibilityHandlerAdded=!1,this._initialVisibilityChangeToVisibleHappened=!1,this._visibilityChangeGVSEventWasFired=!1,this._screenviewId="",this.onBeforeUnloadCallback=()=>{this._pageUnloaded=!0,this._host.trackEvent(xi({screenviewId:this._screenviewId,screenViewData:this._host.screenViewData,hostPageType:this._host.pageType}))},this.sendScreenview=()=>{const e=pr(this._host);this._screenviewId=bn();const t=this.enrichScreenViewWithTranslation();this._host.trackEvent(ki({success:this._host.success,data:{...t,action_info:{...this._host.screenViewData.action_info,page_request_id:this._host.serverRenderId}},screenviewId:this._screenviewId,serverRenderId:this._host.serverRenderId,triggerType:pr(this._host),hostPageType:this._host.pageType})),mr({pageType:this._host.pageType,triggerType:e,serverRenderId:this._host.serverRenderId,shouldUpdateRecaptcha:this._host.shouldUpdateRecaptcha})},this._host=e,this._host.addController(this)}trackScreenview(){const e=this.hasSentScreenview?"":this._host.serverRenderId;if(!this._visibilityChangeGVSEventWasFired){const t=pr(this._host);this._screenviewId=bn();const o=this.enrichScreenViewWithTranslation(),n=V("track-event",{details:ki({success:this._host.success,data:{...o,action_info:{...this._host.screenViewData.action_info,page_request_id:this._host.serverRenderId}},screenviewId:this._screenviewId,serverRenderId:e,triggerType:t,hostPageType:this._host.pageType})});this._host.dispatchEvent(n),mr({pageType:this._host.pageType,triggerType:t,serverRenderId:e,shouldUpdateRecaptcha:this._host.shouldUpdateRecaptcha}),this.hasSentScreenview=!0,this._pageUnloaded=!1}}_bindShredditVisibilityChange(){this._visibilityHandlerAdded||(this._visibilityHandlerAdded=!0,Xs((e=>{if(e){if(this._initialVisibilityChangeToVisibleHappened){const e=pr(this._host,!0);this._screenviewId=bn();const t=this.enrichScreenViewWithTranslation();this._host.trackEvent(ki({success:this._host.success,data:{...t,action_info:{...this._host.screenViewData.action_info,page_request_id:this._host.serverRenderId}},screenviewId:this._screenviewId,serverRenderId:this._host.serverRenderId,triggerType:e,hostPageType:this._host.pageType})),mr({pageType:this._host.pageType,triggerType:e,serverRenderId:this._host.serverRenderId,shouldUpdateRecaptcha:this._host.shouldUpdateRecaptcha}),this._visibilityChangeGVSEventWasFired=!0,this._pageUnloaded=!1}this._initialVisibilityChangeToVisibleHappened=!0}else this._pageUnloaded||this._host.trackEvent(xi({reason:"tab_backgrounded",screenviewId:this._screenviewId,screenViewData:this._host.screenViewData,hostPageType:this._host.pageType}))}),{immediate:!0}))}enrichScreenViewWithTranslation(){const e=sr(Ln.get("reddit_translation_status")??""),t=e?.isTranslationActive;return{...this._host.screenViewData,...e?{translation_metrics:{translation_setting_state:t?"on":"off",target_language:this._host.userLanguage}}:{}}}hostConnected(){da.subscribe(this.onBeforeUnloadCallback,{unloadOnly:!0}),this._bindShredditVisibilityChange(),(e=>{ea||!Ss.isAvailable()||(ea=!0,Xs((t=>{try{t?ta(e):Ss.setItem(ys.AdRefocusStart,String(performance.now()))}catch(e){return}}),{immediate:!0}))})(this._host.trackEvent),window.addEventListener("afterRoute",this.sendScreenview)}hostDisconnected(){da.unsubscribe(this.onBeforeUnloadCallback),window.removeEventListener("afterRoute",this.sendScreenview)}}var fr;!function(e){e.Control1="control_1",e.Control2="control_2"}(fr||(fr={}));const _r=e=>!!(e=>{if(e!==fr.Control1&&e!==fr.Control2)return e||void 0})(e);function vr(e){if(window?.CLIENT_EXPERIMENTS)return window?.CLIENT_EXPERIMENTS?.[e]}function Er(e){const t=vr(e);return _r(t)}var br;function yr(e){return{...e,createdAt:Date.now(),attempt:0,statusCodes:[]}}function Sr(e,t){const{name:o,value:n,type:i,labels:s,createdAt:a}=e;return{age:Date.now()-a,type:"reddit-w3reporting",url:"",user_agent:navigator.userAgent,body:{sampling_fraction:Cr(e,t),type:i,name:o,value:n,labels:s??{}}}}function Cr(e,t){return e.isFailure?t.sampling.failureFraction:t.sampling.successFraction}function Tr(e,t){e.attempt=Math.min(t,e.attempt+1)}function wr({batch:e,reportQueue:t,maxReportAge:o,lastStatusCode:n}){for(const t of e)t.attempt+=1,t.statusCodes.push(n);const{maxReportAttempts:i}=Ir(o);t.unshift(...e.filter((e=>e.attempt<i)))}function Ir(e){const t=Math.floor(Math.log(e/1e3));return{maxAttempts:t,maxReportAttempts:Math.min(3,t)}}async function Ar({config:e,batch:t,maxReportAge:o,isTimeSensitive:n,reportQueue:i,onError:s}){const a=function(e){return e.urlIndex=(e.urlIndex+1)%e.reportingUrls.length,e.reportingUrls[e.urlIndex]}(e);if(!a)return;const r=t.map((t=>Sr(t,e))).filter((e=>e.age<o));if(0===r.length)return;!async function({batch:e,reportQueue:t,resp:o,isTimeSensitive:n,config:i,maxReportAge:s,onError:a}){const{maxAttempts:r}=Ir(s);switch(o.status){case 200:n||function(e){e.attempt=0}(i),function(e){e.batchSizeMultiplier=1}(i);break;case 207:case 400:await a(e,o);break;case 413:wr({batch:e,reportQueue:t,maxReportAge:s,lastStatusCode:o.status}),function(e){e.batchSizeMultiplier=e.batchSizeMultiplier/2}(i);break;default:wr({batch:e,reportQueue:t,maxReportAge:s,lastStatusCode:o.status}),n||Tr(i,r)}}({batch:t,resp:await fetch(a,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(r),keepalive:!0}),isTimeSensitive:n,maxReportAge:o,config:e,reportQueue:i,onError:s})}function Pr({disabled:e,qItem:t,config:o}){return!e&&function(e,t){const o=Cr(e,t);return Math.random()<o}(t,o)}!function(e){e.Counter="counter",e.Gauge="gauge",e.Histogram="histogram"}(br||(br={}));function Rr({policyUrl:e,onError:t,disabled:o,maxReportAge:n=3e5,flushInterval:i=3e3}){const s={w3IncludeSubdomains:!1,reportingUrls:[],policyUrl:e??"https://w3-reporting.reddit.com/policy",sampling:{successFraction:1,failureFraction:1},attempt:0,batchSizeMultiplier:1,urlIndex:-1},a=Boolean(o);let r=null;async function d(){return r||(r=async function(e){try{const t=await fetch(e.policyUrl,{method:"GET"}),o=t.headers.get("report-to");if(o){const t=JSON.parse(`[${o}]`)?.find((({group:e})=>"w3-reporting"===e));e.w3IncludeSubdomains=Boolean(t?.include_subdomains);const n=t?.endpoints?.map?.((e=>e.url))||[];n.length>0&&(e.reportingUrls=n)}const n=t.headers.get("x-reddit-w3reporting");if(n){const t=JSON.parse(n);"number"==typeof t.success_fraction&&(e.sampling.successFraction=t.success_fraction),"number"==typeof t.failure_fraction&&(e.sampling.failureFraction=t.failure_fraction)}}catch(e){window.Sentry?.captureException?.(e)}}(s)),r}let l=[];const{maxAttempts:c}=Ir(n);async function u(){if(0===l.length)return;const e=Math.max(1,Math.floor(l.length*s.batchSizeMultiplier)),o=l.slice(0,e);l=l.slice(e);try{await Ar({batch:o,isTimeSensitive:!1,config:s,maxReportAge:n,reportQueue:l,onError:t})}catch(e){window.Sentry?.captureException?.(e),Tr(s,c),wr({batch:o,reportQueue:l,maxReportAge:n,lastStatusCode:666})}}let h=[];async function p(){if(0===h.length)return;const e=[...h];h=[];try{await Ar({batch:e,isTimeSensitive:!0,config:s,maxReportAge:n,reportQueue:l,onError:t})}catch(t){window.Sentry?.captureException?.(t),Tr(s,c),wr({batch:e,reportQueue:l,lastStatusCode:420,maxReportAge:n})}}return window.setTimeout((async function e(){await u(),window.setTimeout(e,i*Math.exp(s.attempt))}),i),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&u()})),{w3Report:async function(e){await d();const t=yr(e);Pr({qItem:t,config:s,disabled:a})&&l.push(t)},w3ReportNow:async function(e){await d();const t=yr(e);Pr({qItem:t,config:s,disabled:a})&&(0===h.length&&setTimeout(p,0),h.push(t))},printReportQueue:function(e=!1){const t=e?h:l;return JSON.stringify(t.map((e=>Sr(e,s))),null,2)}}}async function Or(e,t){const o=(await t.json())?.invalid.map(function(e,t){return o=>{const n="number"==typeof o?e[o]:o,{labels:i={}}=n,s={};for(const e in i)s[e.replace(/auth/,"a_u_t_h")]=i[e];const a=t?n.statusCodes.concat(t):n.statusCodes;return{name:n.name,labels:s,attempt:n.attempt,statusCodes:a}}}(e,t.status));window.Sentry?.withScope((e=>{e.setExtra("statusCode",t.status),e.setExtra("reports",JSON.stringify(o)),window.Sentry?.captureMessage("Failed to send W3 reports")}))}const Mr=(e,t)=>{"function"==typeof navigator.sendBeacon?navigator.sendBeacon(e,t):((e,t)=>{fetch(e,{body:t,headers:{"Content-Type":"text/plain"},keepalive:!0,method:"POST"})})(e,t)};async function Nr(e){try{const o=Dr();if(t=o,!Boolean(!Lr&&"string"==typeof t&&t?.length))return;const n=function(e){const{name:t,value:o,type:n,labels:i}=e,s={age:1,type:"reddit-w3reporting",url:"",user_agent:navigator.userAgent,body:{sampling_fraction:.99,type:n,name:t,value:o,labels:i??{}}};return JSON.stringify([s])}(e);Mr(o,n)}catch(t){!function(e,t){if(!(e instanceof Error))return;window.Sentry?.withScope((o=>{o?.setTag("w3","reportWebVital"),o?.setTag("w3Url",Dr()),o?.setTag("w3Params",JSON.stringify([t])),o?.setTag("errorMessage",e.message?.slice?.(0,200)),o?.setTag("errorName",e.name?.slice?.(0,200)),o?.setTag("errorStack",e.stack?.slice?.(0,200)?.replaceAll?.("\n","")),window.Sentry?.captureMessage?.("Failed to report w3 web vital")}))}(t,e)}var t}function Dr(){return window.CLIENT_CONFIG.W3_REPORTING_WEB_VITAL_REPORTS_URL}let Lr=!1;const{w3Report:Ur,w3ReportNow:kr,printReportQueue:xr}=Rr({onError:Or,disabled:Boolean(CLIENT_CONFIG.DISABLE_W3_REPORTING)});var Fr=Object.freeze({__proto__:null,w3Report:Ur,w3ReportNow:kr,printReportQueue:xr,w3Reporting:Rr,defaultOnError:Or,get W3ReportType(){return br},w3ReportWebVital:Nr,_disableW3WebVitalReports:function(){Lr=!0}});const Br=e=>{try{return new URL(e).hostname.endsWith("reddit.com")}catch(e){return!1}},Vr=e=>e.startsWith("https://alb.reddit.com/cr");var Gr,Wr,Hr,$r,qr;!function(e){e[e.IMPRESSION=1]="IMPRESSION",e[e.CLICK=2]="CLICK",e[e.COMMENTS_VIEW=3]="COMMENTS_VIEW",e[e.UPVOTE=4]="UPVOTE",e[e.DOWNVOTE=5]="DOWNVOTE",e[e.COMMENT=6]="COMMENT",e[e.VIEWABLE_IMPRESSION=7]="VIEWABLE_IMPRESSION",e[e.COMMENT_UPVOTE=8]="COMMENT_UPVOTE",e[e.COMMENT_DOWNVOTE=9]="COMMENT_DOWNVOTE",e[e.VENDOR_FULLY_IN_VIEW=10]="VENDOR_FULLY_IN_VIEW",e[e.VENDOR_FULLY_IN_VIEW_5_SECS=11]="VENDOR_FULLY_IN_VIEW_5_SECS",e[e.VENDOR_FULLY_IN_VIEW_15_SECS=12]="VENDOR_FULLY_IN_VIEW_15_SECS",e[e.GROUP_M_VIEWABLE=13]="GROUP_M_VIEWABLE",e[e.UNLOAD=14]="UNLOAD",e[e.LEAD_GENERATION=200]="LEAD_GENERATION"}(Gr||(Gr={})),function(e){e[e.GALLERY_ITEM_IMPRESSION=15]="GALLERY_ITEM_IMPRESSION"}(Wr||(Wr={})),function(e){e[e.VIDEO_VIEWABLE_IMPRESSION=100]="VIDEO_VIEWABLE_IMPRESSION",e[e.VIDEO_FULLY_VIEWABLE_IMPRESSION=101]="VIDEO_FULLY_VIEWABLE_IMPRESSION",e[e.VIDEO_PLAYED_WITH_SOUND=102]="VIDEO_PLAYED_WITH_SOUND",e[e.VIDEO_PLAYED_EXPANDED=103]="VIDEO_PLAYED_EXPANDED",e[e.VIDEO_WATCHED_25=104]="VIDEO_WATCHED_25",e[e.VIDEO_WATCHED_50=105]="VIDEO_WATCHED_50",e[e.VIDEO_WATCHED_75=106]="VIDEO_WATCHED_75",e[e.VIDEO_WATCHED_95=107]="VIDEO_WATCHED_95",e[e.VIDEO_WATCHED_100=108]="VIDEO_WATCHED_100",e[e.VIDEO_STARTED=109]="VIDEO_STARTED",e[e.VIDEO_WATCHED_3_SECS=110]="VIDEO_WATCHED_3_SECS",e[e.VIDEO_WATCHED_5_SECS=111]="VIDEO_WATCHED_5_SECS",e[e.VIDEO_WATCHED_10_SECS=112]="VIDEO_WATCHED_10_SECS",e[e.VIDEO_GROUP_M_VIEWABLE=113]="VIDEO_GROUP_M_VIEWABLE",e[e.VIDEO_VENDOR_FULLY_VIEWABLE_50=114]="VIDEO_VENDOR_FULLY_VIEWABLE_50",e[e.MRC_VIDEO_VIEWABLE_IMPRESSION=115]="MRC_VIDEO_VIEWABLE_IMPRESSION"}(Hr||(Hr={})),function(e){e[e.IMPRESSION=1]="IMPRESSION",e[e.CLICK=2]="CLICK",e[e.COMMENTS_VIEW=3]="COMMENTS_VIEW",e[e.UPVOTE=4]="UPVOTE",e[e.DOWNVOTE=5]="DOWNVOTE",e[e.COMMENT=6]="COMMENT",e[e.VIEWABLE_IMPRESSION=7]="VIEWABLE_IMPRESSION",e[e.COMMENT_UPVOTE=8]="COMMENT_UPVOTE",e[e.COMMENT_DOWNVOTE=9]="COMMENT_DOWNVOTE",e[e.VENDOR_FULLY_IN_VIEW=10]="VENDOR_FULLY_IN_VIEW",e[e.VENDOR_FULLY_IN_VIEW_5_SECS=11]="VENDOR_FULLY_IN_VIEW_5_SECS",e[e.VENDOR_FULLY_IN_VIEW_15_SECS=12]="VENDOR_FULLY_IN_VIEW_15_SECS",e[e.GROUP_M_VIEWABLE=13]="GROUP_M_VIEWABLE",e[e.UNLOAD=14]="UNLOAD",e[e.GALLERY_ITEM_IMPRESSION=15]="GALLERY_ITEM_IMPRESSION",e[e.VIDEO_VIEWABLE_IMPRESSION=100]="VIDEO_VIEWABLE_IMPRESSION",e[e.VIDEO_FULLY_VIEWABLE_IMPRESSION=101]="VIDEO_FULLY_VIEWABLE_IMPRESSION",e[e.VIDEO_PLAYED_WITH_SOUND=102]="VIDEO_PLAYED_WITH_SOUND",e[e.VIDEO_PLAYED_EXPANDED=103]="VIDEO_PLAYED_EXPANDED",e[e.VIDEO_WATCHED_25=104]="VIDEO_WATCHED_25",e[e.VIDEO_WATCHED_50=105]="VIDEO_WATCHED_50",e[e.VIDEO_WATCHED_75=106]="VIDEO_WATCHED_75",e[e.VIDEO_WATCHED_95=107]="VIDEO_WATCHED_95",e[e.VIDEO_WATCHED_100=108]="VIDEO_WATCHED_100",e[e.VIDEO_STARTED=109]="VIDEO_STARTED",e[e.VIDEO_WATCHED_3_SECS=110]="VIDEO_WATCHED_3_SECS",e[e.VIDEO_WATCHED_5_SECS=111]="VIDEO_WATCHED_5_SECS",e[e.VIDEO_WATCHED_10_SECS=112]="VIDEO_WATCHED_10_SECS",e[e.VIDEO_GROUP_M_VIEWABLE=113]="VIDEO_GROUP_M_VIEWABLE",e[e.VIDEO_VENDOR_FULLY_VIEWABLE_50=114]="VIDEO_VENDOR_FULLY_VIEWABLE_50",e[e.MRC_VIDEO_VIEWABLE_IMPRESSION=115]="MRC_VIDEO_VIEWABLE_IMPRESSION",e[e.LEAD_GENERATION=200]="LEAD_GENERATION",e[e.PRODUCT_CLICK=300]="PRODUCT_CLICK",e[e.PRODUCT_IMPRESSION=301]="PRODUCT_IMPRESSION"}($r||($r={})),function(e){e[e.IMPRESSION_THRESHOLD=0]="IMPRESSION_THRESHOLD",e[e.LARGE_AD_FULL_VIEW_THRESHOLD=.3]="LARGE_AD_FULL_VIEW_THRESHOLD",e[e.VIEWABILITY_THRESHOLD=.5]="VIEWABILITY_THRESHOLD",e[e.EIGHTY_VIEWABILITY_THRESHOLD=.8]="EIGHTY_VIEWABILITY_THRESHOLD",e[e.FULL_VIEWABILITY_THRESHOLD=.999]="FULL_VIEWABILITY_THRESHOLD",e[e.VISIBILITY_THRESHOLD=.01]="VISIBILITY_THRESHOLD"}(qr||(qr={}));const Yr=[qr.IMPRESSION_THRESHOLD,qr.LARGE_AD_FULL_VIEW_THRESHOLD,qr.VIEWABILITY_THRESHOLD,qr.EIGHTY_VIEWABILITY_THRESHOLD,qr.FULL_VIEWABILITY_THRESHOLD];var jr,Kr;!function(e){e[e.IMPRESSION_TIME=0]="IMPRESSION_TIME",e[e.VIEWABILITY_TIME=1e3]="VIEWABILITY_TIME",e[e.VENDOR_VIEWABILITY_TIME=100]="VENDOR_VIEWABILITY_TIME",e[e.VIDEO_VIEWABILITY_TIME=2e3]="VIDEO_VIEWABILITY_TIME",e[e.VIDEO_FULL_VIEWABILITY_TIME=3e3]="VIDEO_FULL_VIEWABILITY_TIME",e[e.VENDOR_VIEWABILITY_TIME_5=5e3]="VENDOR_VIEWABILITY_TIME_5",e[e.VENDOR_VIEWABILITY_TIME_15=15e3]="VENDOR_VIEWABILITY_TIME_15"}(jr||(jr={})),function(e){e[e.VIDEO_WATCHED_SECONDS_3=3e3]="VIDEO_WATCHED_SECONDS_3",e[e.VIDEO_WATCHED_SECONDS_5=5e3]="VIDEO_WATCHED_SECONDS_5",e[e.VIDEO_WATCHED_SECONDS_10=1e4]="VIDEO_WATCHED_SECONDS_10"}(Kr||(Kr={}));const Qr=[{pixelEvent:$r.VIDEO_VIEWABLE_IMPRESSION,threshold:qr.VIEWABILITY_THRESHOLD,time:jr.VIDEO_VIEWABILITY_TIME},{pixelEvent:$r.VIDEO_FULLY_VIEWABLE_IMPRESSION,threshold:qr.FULL_VIEWABILITY_THRESHOLD,time:jr.VIDEO_FULL_VIEWABILITY_TIME}];var zr;function Jr(e){return void 0!==e.pixelEvent}!function(e){e.VIDEO_STATE_Q0="VIDEO_STATE_Q0",e.VIDEO_STATE_Q1="VIDEO_STATE_Q1",e.VIDEO_STATE_Q2="VIDEO_STATE_Q2",e.VIDEO_STATE_Q3="VIDEO_STATE_Q3",e.VIDEO_STATE_Q4="VIDEO_STATE_Q4"}(zr||(zr={}));const Xr=[{timePercent:0,quartileKey:zr.VIDEO_STATE_Q0},{pixelEvent:$r.VIDEO_WATCHED_25,timePercent:.25,quartileKey:zr.VIDEO_STATE_Q1},{pixelEvent:$r.VIDEO_WATCHED_50,timePercent:.5,quartileKey:zr.VIDEO_STATE_Q2},{pixelEvent:$r.VIDEO_WATCHED_75,timePercent:.75,quartileKey:zr.VIDEO_STATE_Q3},{pixelEvent:$r.VIDEO_WATCHED_95,timePercent:.95},{pixelEvent:$r.VIDEO_WATCHED_100,timePercent:1,quartileKey:zr.VIDEO_STATE_Q4}],Zr=[{pixelEvent:$r.VIDEO_WATCHED_3_SECS,time:Kr.VIDEO_WATCHED_SECONDS_3,timePercent:.95},{pixelEvent:$r.VIDEO_WATCHED_5_SECS,time:Kr.VIDEO_WATCHED_SECONDS_5,timePercent:.95},{pixelEvent:$r.VIDEO_WATCHED_10_SECS,time:Kr.VIDEO_WATCHED_SECONDS_10,timePercent:.95}];var ed,td;!function(e){e.DISPLAY="display",e.VIDEO="video"}(ed||(ed={})),function(e){e[e.NO_EVENT=0]="NO_EVENT",e[e.NOT_VISIBLE_NOT_AUDIBLE=1]="NOT_VISIBLE_NOT_AUDIBLE",e[e.VISIBLE_NOT_AUDIBLE=2]="VISIBLE_NOT_AUDIBLE",e[e.AUDIBLE_NOT_VISIBLE=3]="AUDIBLE_NOT_VISIBLE",e[e.VISIBLE_AND_AUDIBLE=4]="VISIBLE_AND_AUDIBLE"}(td||(td={}));var od,nd,id,sd,ad;!function(e){e.ANY_TOTAL_VIEW_TIME="a",e.FIFTY_TOTAL_VIEW_TIME="b",e.EIGHTY_TOTAL_VIEW_TIME="be",e.FULL_TOTAL_VIEW_TIME="c",e.ANY_CONTINUOUS_VIEW_TIME="d",e.FIFTY_CONTINUOUS_VIEW_TIME="e",e.THIRTY_CONTINUOUS_VIEW_TIME="ea",e.EIGHTY_CONTINUOUS_VIEW_TIME="eb",e.FULL_CONTINUOUS_VIEW_TIME="f",e.GLOBAL_COUNT="r",e.GROUP_M_VIEWABLE="g",e.AD_LOAD_TIME="i",e.TIMESTAMP="t",e.WAS_EVER_VIEWABLE="o",e.PRODUCT_ID="p",e.LARGE_AD_FULL_VIEW="q",e.HEIGHT="h",e.WIDTH="w",e.SCREEN_HEIGHT="sh",e.SCREEN_WIDTH="sw",e.TEST_ID="ti"}(od||(od={})),function(e){e.IMAGE="image",e.VIDEO="video",e.GALLERY="gallery",e.TEXT="text",e.BLANK="blank",e.SHOPPING_SINGLE_PRODUCT="shopping_single_product",e.SHOPPING_MULTI_PRODUCT="shopping_multi_product",e.PROMOTED_COMMUNITY_POST="promoted_community_post",e.PROMOTED_USER_POST="promoted_user_post",e.RBL_SURVEY="rbl_survey",e.UNSUPPORTED="unsupported"}(nd||(nd={})),function(e){e[e.IMAGE=0]="IMAGE",e[e.TEXT=1]="TEXT",e[e.VIDEO=2]="VIDEO",e[e.PRODUCT=3]="PRODUCT",e[e.ORGANIC_CONTENT=4]="ORGANIC_CONTENT"}(id||(id={})),function(e){e.LEAD_GEN="lead-gen",e.STANDARD="standard"}(sd||(sd={})),function(e){e.UNKNOWN="unknown",e.TITLE="title",e.USERNAME="username",e.MEDIA="media",e.TEXT_BODY="text_body",e.BACKGROUND="background",e.CTA_DESTINATION_URL="cta_destination_url",e.CTA_BUTTON="cta_button",e.CTA_WHITESPACE="cta_whitespace",e.CTA_CAPTION="cta_caption",e.VIDEO_CTA="video_cta",e.PRODUCT_NAME="product_name",e.PRODUCT_INFO="product_info",e.PRODUCT_INFO_STRIKETHROUGH="product_info_strikethrough",e.PROMOTED_ITEM_1="promoted_item_1",e.FLOATING_CTA_DESTINATION_URL="floating_cta_destination_url",e.FLOATING_CTA_BUTTON="floating_cta_button",e.FLOATING_CTA_WHITESPACE="floating_cta_whitespace",e.PROMOTED_LABEL="promoted_label",e.ACTION_BAR_WHITESPACE="action_bar_whitespace",e.CREDIT_BAR_WHITESPACE="credit_bar_whitespace"}(ad||(ad={}));const rd="lead-gen-dialog",dd="promote-post-modal",ld="/svc/shreddit/promote-post-modal-estimated-views",cd="/svc/shreddit/promote-post-modal-preview",ud="/svc/shreddit/promote-post-payment-authorization",hd="";var pd;!function(e){e.IS_VIDEO_AD="va",e.TOTAL_MRC_VIEWABLE_TIME="vb",e.VIDEO_AD_DURATION="vc",e.TOTAL_PLAY_TIME="vd",e.VOLUME="ve",e.IS_VISIBLE="vg",e.VIDEO_HEIGHT="vh",e.TOTAL_AUDIBLE_TIME="vi",e.VIDEO_WIDTH="vw",e.WAS_FULL_SCREEN="vq",e.HALF_DURATION_80_IN_VIEW_AUDIBLE="vr",e.VIDEO_STATE_Q0="vs",e.VIDEO_STATE_Q1="vt",e.VIDEO_STATE_Q2="vu",e.VIDEO_STATE_Q3="vv",e.VIDEO_STATE_Q4="vx",e.FULL_IN_VIEW_AUDIBLE_TIME="vy",e.FULL_IN_VIEW_TIME="vz",e.WAS_FULL_IN_VIEW_1SEC="xa",e.ANY_CONTINUOUS_VIDEO_VIEW_TIME="xf",e.FIFTY_CONTINUOUS_VIDEO_VIEW_TIME="xb",e.FULL_CONTINUOUS_VIDEO_VIEW_TIME="vf",e.EIGHTY_TOTAL_VIDEO_VIEW_TIME="xe",e.HAS_SEEKED="xc"}(pd||(pd={}));const md="shreddit_client_pixel_scaling",gd="shreddit_query_suggestions",fd="shreddit_recaptcha_comment_create",_d="shreddit_rpl_action_bar_update",vd=e=>e.reduce(((e,t)=>(e[t]={maxContinuousTime:0,currentContinuousTime:0,totalTime:0},e)),{}),Ed=[{key:"TOTAL_MRC_VIEWABLE_TIME",playing:!0,threshold:qr.VIEWABILITY_THRESHOLD},{key:"TOTAL_AUDIBLE_TIME",playing:!0,threshold:0,withSound:!0},{key:"HALF_DURATION_80_IN_VIEW_AUDIBLE",playing:!0,withSound:!0,threshold:qr.EIGHTY_VIEWABILITY_THRESHOLD},{key:"FULL_IN_VIEW_AUDIBLE_TIME",playing:!0,threshold:qr.FULL_VIEWABILITY_THRESHOLD,withSound:!0},{key:"FULL_IN_VIEW_TIME",playing:!0,threshold:qr.FULL_VIEWABILITY_THRESHOLD},{key:"ANY_IN_VIEW_TIME",playing:!0,threshold:qr.VISIBILITY_THRESHOLD},{key:"FIFTY_IN_VIEW_TIME",playing:!0,threshold:qr.VIEWABILITY_THRESHOLD},{key:"EIGHTY_IN_VIEW_TIME",playing:!0,threshold:qr.EIGHTY_VIEWABILITY_THRESHOLD}];function bd(e,t){const o=new URL(e);return Object.entries(t).forEach((([e,t])=>{o.searchParams.set(e,String(t))})),o.toString()}const yd=Ed.map((e=>e.key));function Sd(e){const t=new Map;return e.forEach((e=>{const o=t.get(e.type)||[];o.push(e),t.set(e.type,o)})),t}class Cd{constructor(){this.postUnloadQueue=[],this.postUnloadQueueData=new Map,this.deviceType=bi.MOBILE,this.removeFromUnloadQueue=(e,t)=>{const o=t||this.postUnloadQueueData.get(e);clearTimeout(o?.timer),this.postUnloadQueueData.delete(e);this.postUnloadQueue.indexOf(e)>-1&&this.postUnloadQueue.splice(this.postUnloadQueue.indexOf(e),1)},this.queuePostForUnload=(e,t,o)=>{if(!this.postUnloadQueue.some((t=>t===e))&&this.postEvents.get(e)?.get($r.UNLOAD)&&(this.postUnloadQueueData.set(e,{getMetadata:t,getPixelScalingFields:o,timer:setTimeout((()=>{this.firePixel({postId:e,pixelEventType:$r.UNLOAD,metadata:t(),pixelRequestBody:o?o():void 0}),this.removeFromUnloadQueue(e)}),6e5)}),this.postUnloadQueue.push(e),this.postUnloadQueue.length>5)){const e=this.postUnloadQueue.shift();if(e){const t=this.postUnloadQueueData.get(e);this.firePixel({postId:e,pixelEventType:$r.UNLOAD,metadata:t?.getMetadata(),pixelRequestBody:t?.getPixelScalingFields?t.getPixelScalingFields():void 0}),this.removeFromUnloadQueue(e,t)}}},this.postPixels=new Map,this.firedPixels=new Set,this.postEvents=new Map,this.galleryData=new Map}_resetFiredPixels(){this.firedPixels=new Set,this.postPixels=new Map,this.postUnloadQueue=[]}get postEventsMap(){return this.postEvents}_resetPostEvents(){this.postEvents=new Map,this.galleryData=new Map}updateEvents(e,t,o){this.postEvents.set(e,Sd(t)),o&&this.galleryData.set(e,o.map((e=>Sd(e.adEvents))))}generatePixelHash(e,t){return e.encryptedTrackingId+t.additionalEventMetadata}observeImpressionTracker(){const e=this.deviceType===bi.DESKTOP?"shreddit_desktop":"shreddit_mobile";Ur({type:br.Counter,name:"ads_third_party_impression_tracker_total",value:1,labels:{client_platform:e}})}isOptimizedPixelEvent(e){return!!e.encryptedTrackingId}getGalleryUrls(e,t,o){const n=void 0===o&&t===$r.IMPRESSION,i=n?0:o;if(void 0===i)return[];const s=n?$r.GALLERY_ITEM_IMPRESSION:t,a=this.galleryData.get(e)||[];return a[i]&&a[i].get(s)||[]}mapMetadataToStrings(e){return Object.entries(e).reduce(((e,[t,o])=>(e[t]=o.toString(),e)),{})}firePixelWithPOST(e,t,o,n){if(!e.encryptedTrackingId)return;const i=this.generatePixelHash(e,o);if(this.firedPixels.has(i))return;this.firedPixels.add(i),this.postPixels.set(t,{...this.postPixels.get(t)||{},[e.encryptedTrackingId]:{pixelType:$r[e.type],metadata:n}});const s=n?this.mapMetadataToStrings(n):{};return fetch("https://alb.reddit.com/track",{method:"POST",mode:"no-cors",body:JSON.stringify({encryptedTrackingId:e.encryptedTrackingId,encryptedTrackingPayload:o.encryptedTrackingPayload,additionalEventMetadata:o.additionalEventMetadata,clientImpressionID:o.impressionId,...s})}).then((t=>{if(!t.ok){const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&t.captureException(new Error(`Error in POST response from pixel server for pixel of type ${e.type}`))}})),this.fireDebugPixel({pixel:i,pixelEvent:{encryptedTrackingId:e.encryptedTrackingId,type:e.type,metadata:n},encryptedTrackingPayload:o?.encryptedTrackingPayload,additionalEventMetadata:o?.additionalEventMetadata,postId:t}),e.encryptedTrackingId}firePixelWithGET(e,t,o){if(!e.url||this.firedPixels.has(e.url))return;const n=!Br(e.url);this.firedPixels.add(e.url),n||this.postPixels.set(t,{...this.postPixels.get(t)||{},[e.url]:{pixelType:$r[e.type],metadata:o}});const i=new Image;let s=e.url;return o&&!n&&(s=bd(s,o)),i.src=s,this.fireDebugPixel({pixel:s,pixelEvent:{url:e.url,type:e.type,metadata:n?void 0:o},postId:t}),n&&e.type===$r.IMPRESSION&&this.observeImpressionTracker(),s}firePixelsFromEvents(e,t,o,n){const i=[];return e.forEach((e=>{let s;this.isOptimizedPixelEvent(e)?n&&(s=this.firePixelWithPOST(e,t,n,o)):s=this.firePixelWithGET(e,t,o),s&&i.push(s)})),i}fireDebugPixel(e){const t=V("pixelFired",e);window.dispatchEvent(t)}firePixel({pixelEventType:e,postId:t,galleryIndex:o,metadata:n,pixelRequestBody:i}){const s=this.postEvents.get(t)?.get(e)||[];if(this.galleryData.has(t)){const n=this.getGalleryUrls(t,e,o)||[];s.push(...n)}return this.firePixelsFromEvents(s,t,n,i)}fireQueuedUnloadPixels(){this.postUnloadQueue.forEach((e=>{const t=this.postUnloadQueueData.get(e);this.firePixel({postId:e,pixelEventType:$r.UNLOAD,metadata:t?.getMetadata(),pixelRequestBody:t?.getPixelScalingFields?t.getPixelScalingFields():void 0}),this.removeFromUnloadQueue(e,t)}))}}function Td(e){const t=new Map;return e.forEach((e=>{const o=t.get(e.type)||[];o.push(e.url),t.set(e.type,o)})),t}new Cd;let wd="enabled"===vr("shreddit_client_pixel_scaling")?new Cd:new class{constructor(){this.postUnloadQueue=[],this.postUnloadQueueData=new Map,this.deviceType=bi.MOBILE,this.removeFromUnloadQueue=(e,t)=>{const o=t||this.postUnloadQueueData.get(e);clearTimeout(o?.timer),this.postUnloadQueueData.delete(e);this.postUnloadQueue.indexOf(e)>-1&&this.postUnloadQueue.splice(this.postUnloadQueue.indexOf(e),1)},this.queuePostForUnload=(e,t)=>{if(!this.postUnloadQueue.some((t=>t===e))&&this.postEvents.get(e)?.get($r.UNLOAD)&&(this.postUnloadQueueData.set(e,{getMetadata:t,timer:setTimeout((()=>{this.firePixel({postId:e,pixelEventType:$r.UNLOAD,metadata:t()}),this.removeFromUnloadQueue(e)}),6e5)}),this.postUnloadQueue.push(e),this.postUnloadQueue.length>5)){const e=this.postUnloadQueue.shift();if(e){const t=this.postUnloadQueueData.get(e);this.firePixel({postId:e,pixelEventType:$r.UNLOAD,metadata:t?.getMetadata()}),this.removeFromUnloadQueue(e,t)}}},this.postPixels=new Map,this.firedPixels=new Set,this.postEvents=new Map,this.galleryData=new Map}_resetFiredPixels(){this.firedPixels=new Set,this.postPixels=new Map,this.postUnloadQueue=[]}updateEvents(e,t,o){this.postEvents.set(e,Td(t)),o&&this.galleryData.set(e,o.map((e=>Td(e.adEvents))))}observeImpressionTracker(){const e=this.deviceType===bi.DESKTOP?"shreddit_desktop":"shreddit_mobile";Ur({type:br.Counter,name:"ads_third_party_impression_tracker_total",value:1,labels:{client_platform:e}})}getGalleryUrls(e,t,o){const n=void 0===o&&t===$r.IMPRESSION,i=n?0:o;if(void 0===i)return;const s=n?$r.GALLERY_ITEM_IMPRESSION:t,a=this.galleryData.get(e)||[];return a[i]&&a[i].get(s)?.map((e=>({url:e,type:s})))||[]}firePixelsFromEvents(e,t,o){const n=[];return e.forEach((e=>{const{url:i,type:s}=e;if(!i||this.firedPixels.has(i))return;const a=!Br(i);this.firedPixels.add(i),a||this.postPixels.set(t,{...this.postPixels.get(t)||{},[i]:{pixelType:$r[s],metadata:o}});const r=new Image;let d=i;o&&!a&&(d=bd(d,o)),r.src=d,n.push(d),this.fireDebugPixel({pixel:d,pixelEvent:{url:i,type:s,metadata:a?void 0:o},postId:t}),a&&s===$r.IMPRESSION&&this.observeImpressionTracker()})),n}fireDebugPixel(e){const t=V("pixelFired",e);window.dispatchEvent(t)}firePixel({pixelEventType:e,postId:t,galleryIndex:o,metadata:n,pixelRequestBody:i}){const s=this.postEvents.get(t)?.get(e)?.map((t=>({url:t,type:e})))||[];if(this.galleryData.has(t)){const n=this.getGalleryUrls(t,e,o)||[];s.push(...n)}return this.firePixelsFromEvents(s,t,n)}fireQueuedUnloadPixels(){this.postUnloadQueue.forEach((e=>{const t=this.postUnloadQueueData.get(e);this.firePixel({postId:e,pixelEventType:$r.UNLOAD,metadata:t?.getMetadata()}),this.removeFromUnloadQueue(e,t)}))}};class Id{constructor(e){this.sendPageVisitEvent=async()=>{const{isAcceptableAdsEnabled:e,isAdblockEnabled:t}=await Ni(),o=this.getQueryParamVal(t,e);fetch(`/svc/shreddit/styling-overrides/${`?context=${o}`}`)},this.host=e,this.host.addController(this),requestAnimationFrame(this.sendPageVisitEvent)}getQueryParamVal(e,t){return e&&t?"scoped":e&&!t?"local":"namespaced"}hostConnected(){window.addEventListener("afterRoute",this.sendPageVisitEvent)}hostDisconnected(){window.removeEventListener("afterRoute",this.sendPageVisitEvent)}}class Ad{constructor(e){this.hybridNavigationCount=0,this.handleObservation=e=>{const t=()=>{e.getEntries().forEach((e=>{const t=e,o=qt({...this.buildCommon(),...this.buildLongAnimationFrame(t)});this._host._handleEvent(o)}))};this.callbackId="requestIdleCallback"in window?requestIdleCallback(t):setTimeout(t)},this._host=e,this._host.addController(this)}hostConnected(){if(this._host.shouldObservePerformance){if(Ad.activeInstance)throw new Error("Only one PerformanceObserverController may be active at a time.");Ad.activeInstance=this,this.abortController=new AbortController,this.initHybridNavigationListeners(),this.initObservers()}}hostDisconnected(){this._host.shouldObservePerformance&&(this.abortController?.abort(),this.performanceObserver?.disconnect(),window.clearTimeout(this.callbackId),Ad.activeInstance=void 0)}initObservers(){this.performanceObserver=new window.PerformanceObserver(this.handleObservation),this.performanceObserver.observe({type:"long-animation-frame",buffered:!0})}initHybridNavigationListeners(){window.addEventListener("afterRoute",(()=>this.hybridNavigationCount++),{signal:this.abortController?.signal})}buildLongAnimationFrame(e){return{long_animation_frame:{blocking_duration:Math.round(e.blockingDuration),duration:Math.round(e.duration),first_ui_event_start:Math.round(e.firstUIEventTimestamp),render_start:Math.round(e.renderStart),scripts_json:this.safeParseJsonString(e.scripts),start_time:Math.round(e.startTime),style_and_layout_start:Math.round(e.styleAndLayoutStart)}}}buildCommon(){return{source:"browser",action:"observe",noun:"performance",browser_context:{hybrid_navigation_count:this.hybridNavigationCount,release:this._host.release,time_origin:Math.round(performance.timeOrigin)},action_info:{page_type:this._host.pageType}}}safeParseJsonString(e){let t;try{t=JSON.stringify(e)}catch{}return t||"[]"}}let Pd,Rd,Od,Md=!1,Nd=Promise.resolve();function Dd(e){let t=e;for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function Ld(){const e=document.activeElement;return e?Dd(e):null}function Ud(){const e=Ld();return e instanceof HTMLElement?e:null}function kd(){return Nd}function xd(e){const t=e.hasAttribute("tabindex");e.blur(),t||e.setAttribute("tabindex","0"),e.focus(),t||e.removeAttribute("tabindex")}function Fd(e){Md||(Md=!0,xd(e),Nd=new Promise((t=>{setTimeout((()=>{const o=Ld();e!==o&&xd(e),Md=!1,t()}))})))}function Bd(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&"false"!==e.getAttribute("aria-hidden")||"none"===e.style.display||"0"===e.style.opacity||"hidden"===e.style.visibility||"collapse"===e.style.visibility}function Vd(e){return"-1"!==e.getAttribute("tabindex")&&!Bd(e)&&!function(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&"false"!==e.getAttribute("aria-disabled")}(e)&&(e.hasAttribute("tabindex")||(e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement)&&e.hasAttribute("href")||e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||e instanceof HTMLIFrameElement)}class Gd extends class{constructor(e){this._focusableElements=null,this._firstFocusable=null,this._lastFocusable=null,this._savedFocusable=null,this._target=e}get size(){var e;return(null===(e=this._focusableElements)||void 0===e?void 0:e.size)||0}get first(){return this._firstFocusable}get last(){return this._lastFocusable}_focusTarget(e){var t;return e?(Fd(e),!0):(null===(t=Ud())||void 0===t||t.blur(),!1)}_getActiveInternalElement(){if(!this._focusableElements)return null;const e=Ud();return e&&this._focusableElements.has(e)?e:null}has(e){var t;return(null===(t=this._focusableElements)||void 0===t?void 0:t.has(e))||!1}refresh(){const e=Wd({root:this._target,skipNode:Bd,isMatch:Vd});this._firstFocusable=e[0],this._lastFocusable=e[e.length-1],this._focusableElements=new Set(e)}focus(){if(this._focusableElements)for(const e of this._focusableElements)if(e.autofocus)return this._focusTarget(e);return this._focusTarget(this._firstFocusable)}blur(){var e;null===(e=this._savedFocusable)||void 0===e||e.blur()}focusFirst(){return this._focusTarget(this._firstFocusable)}focusLast(){return this._focusTarget(this._lastFocusable)}saveFocus(){this._savedFocusable=this._getActiveInternalElement()}restoreFocus(){this._focusTarget(this._savedFocusable)}}{constructor(e,t){super(t),e.addController(this)}hostConnected(){this.refresh()}}function Wd({root:e,skipNode:t,isMatch:o,maxDepth:n=20,depth:i=0}){const s=[];if(i>=n)return s;const a=e=>{const s=e.assignedNodes().filter((e=>1===e.nodeType));if(s.length>0){return Wd({root:s[0].parentElement,skipNode:t,isMatch:o,maxDepth:n,depth:i+1})}return[]},r=Array.from(e.children||[]);for(const e of r)t(e)||(o(e)&&s.push(e),null!=e.shadowRoot?s.push(...Wd({root:e.shadowRoot,skipNode:t,isMatch:o,maxDepth:n,depth:i+1})):"SLOT"===e.tagName?s.push(...a(e)):s.push(...Wd({root:e,skipNode:t,isMatch:o,maxDepth:n,depth:i+1})));return s}class Hd{constructor(e){this._opts=e,this._frames=[]}get top(){return this._frames[this._frames.length-1]}add(e){const t=this.top;this._frames.push(e),t?this._opts.framePaused&&this._opts.framePaused(t):this._opts.stackEntered&&this._opts.stackEntered(e),this._opts.frameAdded&&this._opts.frameAdded(e)}_pop(){const e=this._frames.pop();if(!e)return;const t=this.top;this._opts.frameRemoved&&this._opts.frameRemoved(e),t?this._opts.frameResumed&&this._opts.frameResumed(t):this._opts.stackExited&&this._opts.stackExited(e)}remove(e){const t=this._frames.indexOf(e);t<0||(t===this._frames.length-1?this._pop():(this._frames.splice(t,1),this._opts.frameRemoved&&this._opts.frameRemoved(e)))}}const $d=new Hd({stackEntered(){document.body.style.pointerEvents&&(Pd=document.body.style.pointerEvents),document.body.style.pointerEvents="none",document.body.style.overflow&&(Rd=document.body.style.overflow),document.body.style.overflow="hidden"},stackExited(){Pd?document.body.style.pointerEvents=Pd:document.body.style.removeProperty("pointer-events"),Rd?document.body.style.overflow=Rd:document.body.style.removeProperty("overflow")}}),qd=new Hd({stackEntered(){Od=Ud(),window.addEventListener("keydown",Yd),window.addEventListener("focusin",jd)},stackExited(e){Od?Fd(Od):e.blur(),window.removeEventListener("keydown",Yd),window.removeEventListener("focusin",jd)},frameAdded(e){e.inFocusTrap=!0,e.focusManager.refresh(),e.focusManager.focus()},frameRemoved(e){e.inFocusTrap=!1},framePaused(e){e.focusManager.saveFocus()},frameResumed(e){e.focusManager.restoreFocus()}});function Yd(e){const t=qd.top;t&&("Escape"===e.key?t.blocking||(e.stopPropagation(),t.close()):function(e,t){if("Tab"!==e.key)return;if(t.focusManager.size<1)return e.preventDefault();const o=Ud();if(!o)return;if(1===t.focusManager.size&&o===t.focusManager.first)return e.preventDefault();if(e.shiftKey){if(o===t.focusManager.first)t.focusManager.focusLast(),e.preventDefault()}else if(o===t.focusManager.last)t.focusManager.focusFirst(),e.preventDefault()}(e,t))}function jd(e){const t=qd.top;t&&function(e,t){const o=Ud();if(!o||o===t)return;if(t.focusManager.has(o))return;t.focusManager.focusFirst()&&e.preventDefault()}(e,t)}class Kd extends s{constructor(e){if(super(e),this.et=l,e.type!==a.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===l||null==e)return this.ft=void 0,this.et=e;if(e===r)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;const t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}}Kd.directiveName="unsafeHTML",Kd.resultType=1;const Qd=i(Kd);let zd=class extends e{constructor(){super(...arguments),this.focusManager=new Gd(this,this),this.open=!1,this.blocking=!1,this.returnValue="",this.modal=!1,this._inFocusTrap=!1}get inFocusTrap(){return this._inFocusTrap}set inFocusTrap(e){if(this._inFocusTrap!==e)if(this._inFocusTrap=e,e){const e=window.getComputedStyle(this).boxShadow;e&&(this.dataset.faceplateDialogPreviousShadow=e,this.style.boxShadow=`${e}, 0 0 0 max(100vw, 100vh) var(--color-scrim)`)}else this.dataset.faceplateDialogPreviousShadow?this.style.boxShadow=this.dataset.faceplateDialogPreviousShadow:this.style.removeProperty("boxShadow")}get isFocusEnabled(){return this===qd.top}disconnectedCallback(){super.disconnectedCallback(),this.modal&&qd.remove(this)}close(e){void 0!==e&&(this.returnValue=e);const t=V("faceplate-close");this.dispatchEvent(t),t.defaultPrevented||(this.open=!1,this.modal&&qd.remove(this))}show(){this.modal=!1,this.open=!0,this.focusManager.focus()}showModal(){if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');this.modal=!0,this.open=!0,qd.add(this)}static get styles(){return t`:host{display:none;left:0;right:0;width:-moz-fit-content;width:fit-content;background:var(--color-ui-modalbackground);border-radius:4px;margin:auto;padding:1rem;box-shadow:var(--boxshadow-modal);pointer-events:all;max-width:95vw;max-height:95vh;overflow:auto}:host([open]){display:block;z-index:1}.backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1}`}render(){return o` ${Qd(this.modal?"\n  <style>\n    :host {\n      top: 50%;\n      transform: translateY(-50%);\n      position: fixed;\n    }\n  </style>\n":"\n  <style>\n    :host {\n      position: absolute;\n    }\n  </style>\n")} <div class="${this.modal?"backdrop":""}" role="${n(this.open?"dialog":void 0)}" aria-modal="${n(this.open&&this.modal?"true":void 0)}"></div> <slot></slot> `}};E([O({type:Boolean,reflect:!0})],zd.prototype,"open",void 0),E([O({type:Boolean})],zd.prototype,"blocking",void 0),E([O({type:Boolean,attribute:!1})],zd.prototype,"modal",void 0),E([M()],zd.prototype,"inFocusTrap",null),zd=E([P("faceplate-dialog")],zd);let Jd=class extends e{static get styles(){return t`:host{clip:rect(1px,1px,1px,1px);clip-path:inset(50%);height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;position:absolute}`}render(){return o` <slot></slot> `}};Jd=E([P("faceplate-screen-reader-content")],Jd);const Xd="first-comment-updated",Zd="on-load-embed",el="on-embed-clicked",tl="on-embed-entrypoint-clicked",ol="on-embed-entrypoint-viewed",nl="resize.embed";function il(e,t=0,o={leading:!1,trailing:!0}){let n,i=!1;return function(...s){n&&clearTimeout(n),o.leading&&!n?(e.apply(this,s),i=!0):i=!1,n=setTimeout((()=>{o.trailing&&!i&&e.apply(this,s),n=null}),t)}}const sl=Symbol.for("mixins/with-viewport-height");const al="logged-in",rl="translation-context",dl="answers-context",ll=["enabled","control_1","control_2"],cl=(e,t)=>{const o=new URL(e),n=new URLSearchParams(o.search),i=t.filter((([e])=>!n.has(e)));if(i.length)return i.forEach((e=>n.set(...e))),o.search=n.toString(),o.href};let ul=window.fetch,hl=null,pl=[],ml=new Map;const gl="time-to-first-byte",fl="first-contentful-paint";function _l(){const e=Date.now();for(const[t,o]of ml.entries())e-o.lastAccessed>864e5&&ml.delete(t);if(ml.size<=25)return;const t=[...ml.entries()].sort(((e,t)=>e[1].lastAccessed-t[1].lastAccessed));ml.delete(t[0][0])}let vl;const El=[/^\/api\/v1\/.+/,/^\/svc\/shreddit\/oauth-grant.*/,/^\/(login|register|password|username|passwordreset|passwordrecovery)\/?/,/^\/avatar\/(claim|shop)/,/^\/partner\/(persona|stripe)\/.+/,/insights/,/^\/settings\/premium/,/^\/topics\/[a-z0]-\d+/],bl=[/^\/user\/(?<username>[^/]+)\/display-collectibles\//];let yl;class Sl{constructor(e){var t;this.overrideQueryParams=null,this.navigationIndicator=document.querySelector("navigation-indicator"),this.ignoreNavigations=!1,this.handleNavigate=e=>{const{url:t}=e.destination,o=new URL(t),n=yl.currentEntry?.key?ml.get(yl.currentEntry.key):void 0;let i=!1;if(this.ignoreNavigations)return void(this.currentUrl=t);if(!e.canIntercept)return;if("reload"===e.navigationType)return;if(["push","traverse"].includes(e.navigationType)&&n?.callbackNavigations){const o=yl.currentEntry.index,i=yl.entries().find((t=>t.key===e.destination.key)),s=i?yl.entries().indexOf(i):-1,a=-1!==s,r=a&&s===o-1,d=a&&s===o+1,{onForwardNav:l,onBackNav:c}=n.callbackNavigations;if(d&&l)return l(),void(this.currentUrl=t);if(r&&c)return c(),void(this.currentUrl=t)}if("replace"===e.navigationType){if(t===this.pendingUrl)return void e.intercept();if(t!==this.currentUrl||o.hash||t.endsWith("#")){if(this._getLocation()===this.currentUrl||this._getLocation()!==t)return void(this.currentUrl=t);i=!0}else i=!0}if(bl.some((e=>e.test(o.pathname))))return void e.intercept();if(!this.isRoutable(t))return;if(e.hashChange)return;if("_blank"===function(e){const t=e.originalEvent?.composedPath()||[];for(const e of t)if("A"===e.nodeName)return e;return}(e)?.target)return;const s=new URL(this.currentUrl||""),a=new URL(t);if(s.hash="",a.hash="",!i&&a.toString()===s.toString())return void e.intercept();if(!yl.currentEntry)throw new Error("navigation.currentEntry is null");const r=this.lastCompletedNavigationKey||yl.currentEntry.key;yl.updateCurrentEntry({state:{scrollOffset:window.scrollY}}),e.intercept({handler:async()=>{let o;window.dispatchEvent(new Event("beforeRoute"));try{o=await this.hybridNavigate(e,r)}catch(e){console.log(e?.stack)}o&&(window.dispatchEvent(new Event("afterRoute")),this.lastCompletedNavigationKey=yl.currentEntry?.key,this.currentUrl=t)}})},this._processActionQueue=()=>{for(const e of pl){const[t,...o]=e;this[t](...o)}pl=[]},this._host=e,this._host.addController(this),vl=document.querySelector("script[nonce]")?.nonce??"",this.overrideQueryParams=(t=new URL(this._getLocation()).search,Array.from(new URLSearchParams(t).entries()).filter((([e,t])=>ll.includes(t)))),this.currentUrl=this._getLocation()}replace(e){this.ignoreNavigations=!0,this._replaceState(null,e),this.ignoreNavigations=!1}push(e,t={}){const{onBackNav:o,onForwardNav:n}=t;if(yl.currentEntry?.key){const e=ml.get(yl.currentEntry.key);ml.set(yl.currentEntry.key,{scrollOffsets:Rl(),lastAccessed:Date.now(),callbackNavigations:{...e?.callbackNavigations,onForwardNav:n}})}if(n?.(),this.ignoreNavigations=!0,this._pushState(null,e),this.ignoreNavigations=!1,yl.currentEntry?.key){const e=ml.get(yl.currentEntry.key);ml.set(yl.currentEntry.key,{scrollOffsets:Rl(),lastAccessed:Date.now(),callbackNavigations:{...e?.callbackNavigations,onBackNav:o}})}}async enableHybridNavigation(){await async function(){Cl||(Cl=async function(){if(yl=window.navigation,!yl){console.log("Navigation API not supported, loading polyfill");try{const{applyPolyfill:e}=await import("./apply-polyfill-e8c061ec.js");yl=e()}catch{console.log("Navigation polyfill failed to initialize.")}}}());return Cl}(),yl&&(yl.addEventListener("navigate",this.handleNavigate),console.log("Navigation listeners online"),this.lastCompletedNavigationKey=yl.currentEntry?.key)}disableHybridNavigation(){window.navigation&&(yl=window.navigation,yl.removeEventListener("navigate",this.handleNavigate),console.log("Navigation listeners offline"))}isRoutable(e){const t=new URL(e);if(t.host!==window.location.host)return!1;if(El.some((e=>e.test(t.pathname))))return!1;return!new RegExp("#main-content$").test(e)}async hybridNavigate(e,t){let o,n,{url:i}=e.destination;const s=performance.now();if(i===this.pendingUrl)return;this.overrideQueryParams&&(i=cl(i,this.overrideQueryParams)??i);const a=this.pendingUrl=i;let r;for(;r=qd.top;)qd.remove(r);const d=e.destination.key,l=ml.get(d);if(l){if(!l.fragment)return console.log("No DOM for history entry, performing full navigation"),this.pendingUrl=void 0,void this.fullNavigateTo(i);o=performance.now()-s;const e=Rl(),a=this.replaceDOM(l.fragment,!0),r=ml.get(t)||{};return ml.set(t,{...r,fragment:a,scrollOffsets:e,lastAccessed:Date.now()}),_l(),Ml(l.scrollOffsets),n=performance.now()-s,this.pendingUrl=void 0,this._host.handleWebVitalW3Reporting({[gl]:o||1,[fl]:n},{hybrid:!0}),!0}let c;this.navigationIndicator?.show?.();try{c=await this.performRequest(e,s)}catch(e){console.error(e),"AbortError"!==e?.name&&this.navigationIndicator?.hide?.()}if(e.signal.aborted)return this.pendingUrl=void 0,this.navigationIndicator?.hide?.(),!1;if(!c)return this.pendingUrl=void 0,!1;if(a!==this.pendingUrl)return!1;this.pendingUrl=void 0,this.navigationIndicator?.hide?.();const u=document.createRange().createContextualFragment(c),h=Rl();window.scroll({top:0});const p=this.replaceDOM(u);return ml.set(t,{fragment:p,scrollOffsets:h,lastAccessed:Date.now()}),_l(),n=performance.now()-s,this._host.handleWebVitalW3Reporting({[fl]:n},{hybrid:!0}),!0}async performRequest(e,t){let{url:o}=e.destination;this.overrideQueryParams&&(o=cl(o,this.overrideQueryParams)??o);const n=new AbortController;this.currentAbort&&this.currentAbort.abort(),this.currentAbort=n;const i=()=>n.abort();e.signal.addEventListener("abort",i,{once:!0});const s=new URL(o),a=setTimeout((()=>{this.pendingUrl===o&&n.abort()}),3e4),r={headers:{nonce:vl,clienthash:this._host.clientHash,accept:"text/vnd.reddit.hybrid+html, text/html;q=0.9"},signal:n.signal};e.formData&&(r.method="POST",r.body=e.formData);const d=await ul(s,r);if(d.url!==o&&window.addEventListener("afterRoute",(()=>{if(this.pendingUrl=d.url,s.hash){const e=new URL(d.url);e.hash=s.hash,history.replaceState({},"",e)}else history.replaceState({},"",d.url);this.pendingUrl=void 0}),{once:!0}),!d.headers?.has("hybrid-route"))return console.log("Not a hybrid response, performing full navigation"),this.fullNavigateTo(o),clearTimeout(a),void this.currentAbort.abort();const l=performance.now()-t;this._host.handleWebVitalW3Reporting({[gl]:l},{hybrid:!0}),this.currentAbort=void 0;const c=await d.text();return clearTimeout(a),e.signal.removeEventListener("abort",i),c}replaceDOM(e,t=!1){const o=new DocumentFragment;let n,i;const s=this.findPersistentElements(this._host),a=this.findPersistentElements(e),r=new Map([...s.entries()].filter((([e])=>a.has(e)))),d=Ol(r.values());this.extractPersistentElements(r),this.insertPersistentElements(e,r);const l=[];if(this._host.childNodes.forEach((e=>{Pl(e)&&" routable page start "===e.data?n=e:Pl(e)&&" routable page end "===e.data?i=e:i||n&&l.push(e)})),!n||!i)throw new Error("Missing boundary comments for DOM replacement");for(const e of l)e.remove(),o.appendChild(e);return this._host.screenViewData={},this._host.isNavigationControllerRestore=t,this._host.insertBefore(e,i),Ml(d),o}findPersistentElements(e){const t=Array.from(e.querySelectorAll("[id][data-persistent], meta[id][data-persistent-placeholder]")),o=new Map;for(const e of t)o.set(e.id,e);return o}extractPersistentElements(e){e.forEach((e=>{const t=document.createElement("meta");t.id=e.id,t.setAttribute("data-persistent-placeholder",""),e.replaceWith(t)}))}insertPersistentElements(e,t){const o=this.findPersistentElements(e);t.forEach((e=>{const t=o.get(e.id);t?t.replaceWith(e):console.error(`Placeholder or target element missing for <${e.nodeName.toLowerCase()} id="${e.id} data-persistent>`)})),t.clear()}navigateTo(e){const t=document.createElement("a");t.setAttribute("href",e),t.style.display="none",document.body.appendChild(t),t.click(),t.remove()}fullNavigateTo(e){let t=e.startsWith("/")?`${new URL(window.location.href).origin}${e}`:e;document.querySelector("shreddit-app")?.dispatchEvent(new CustomEvent("store-feed-correlation-id")),this.disableHybridNavigation(),window.addEventListener("pageshow",this.enableHybridNavigation),t=cl(t,this.overrideQueryParams??[])??t,this._assignLocation(t)}_getLocation(){return window.location.toString()}_assignLocation(e){return window.location.assign(e)}_replaceState(e,t){return history.replaceState(e,"",t)}_pushState(e,t){return history.pushState(e,"",t)}_getCurrentURL(){return this.currentUrl}_getHistoryStateMap(){return ml}hostConnected(){if(hl)throw new Error("Only one NavigationController may be active at a time.");hl=this,this.enableHybridNavigation().then(this._processActionQueue)}hostDisconnected(){hl=null,this.disableHybridNavigation()}}let Cl=null;function Tl(e){if(hl)return hl.replace(e);pl.push(["replace",e])}function wl(e,t={}){if(hl)return hl.push(e,t);pl.push(["push",e,t])}function Il(e){if(hl)return hl.fullNavigateTo(e);pl.push(["fullNavigateTo",e])}function Al(e){if(hl)return hl.navigateTo(e);pl.push(["navigateTo",e])}function Pl(e){return e.nodeType===Node.COMMENT_NODE}function Rl(){const e=Ol(Array.from(document.querySelectorAll("[data-scroll-restore]")));return e.set(window,{top:window.scrollY,left:window.scrollX}),e}function Ol(e){const t=new Map;for(const o of e)t.set(o,{top:o.scrollTop,left:o.scrollLeft});return t}function Ml(e){for(const[t,o]of e)t.scrollTo(o)}class Nl{constructor(e,t={}){this.pageType=void 0,this.settings={},this.registeredEvents=0,this.eventsListened=0,this.trackEvent=Je,this.translationMetricsEventData={scenario:"",translationSettingState:"off"},this.getSettings=()=>this.settings,this.getPageType=()=>this.pageType,this.handleMutationObserverChanges=e=>{for(const t of e)"attributes"===t.type&&"routename"===t.attributeName&&this.updateSettingsHybridNav()},this.registerTranslationChangesEvents=e=>{this.pageType&&(this.initListeners(),this.initListenersCounters(e))},this.initListeners=()=>{this.host.addEventListener("translated-post-changed",this.onTranslatedPostChanged),this.host.addEventListener("translated-comments-changed",this.onTranslatedCommentsChanged),this.host.addEventListener("translated-posts-changed",this.onTranslatedPostsChanged)},this.initListenersCounters=e=>{e.withPost&&this.registeredEvents++,e.withComments&&this.registeredEvents++,e.withPosts&&this.registeredEvents++},this.unregisterTranslationChangesEvents=()=>{this.host.removeEventListener("translated-post-changed",this.onTranslatedPostChanged),this.host.removeEventListener("translated-comments-changed",this.onTranslatedCommentsChanged),this.host.removeEventListener("translated-posts-changed",this.onTranslatedPostsChanged)},this.handleTranslationEvent=(e,t)=>{const o=t.detail?.[e];o&&(this.translationMetricsEventData.scenario=t.detail?.scenario??"",this.translationMetricsEventData.targetLanguage=t.detail?.targetLanguage??this.translationMetricsEventData.targetLanguage,this.translationMetricsEventData[e]=o,this.eventsListened++,this.submitPartialTranslationMetrics())},this.onTranslatedPostChanged=e=>{this.handleTranslationEvent("post",e)},this.onTranslatedCommentsChanged=e=>{this.handleTranslationEvent("comments",e)},this.onTranslatedPostsChanged=e=>{this.handleTranslationEvent("posts",e)},this.submitPartialTranslationMetrics=()=>{if(!this.pageType)return;if(this.eventsListened<this.registeredEvents)return;const e=this.host.translationContextValue?.isTranslationActive,t=this.translationMetricsEventData.scenario===Qa.ToggleChange;(e||!e&&t)&&this.trackEvent(this.host,((e,t,o)=>{const n=qt({source:"machine_translations",action:"request",noun:"content"});return e.translationSettingState=t?"on":"off",e.loadType=za.UserNav,{...n,action_info:{...n.action_info,page_type:o,reason:t?"on":"off"},translation_metrics:hr(e)}})(this.translationMetricsEventData,this.host.translationContextValue?.isTranslationActive||!1,this.pageType)),this.resetTranslationMetricsData()},this.resetTranslationMetricsData=()=>{this.eventsListened=0,this.translationMetricsEventData={scenario:"",translationSettingState:"off"}},this.updateSettingsPageload=()=>{var e;this.pageType=this.host.pageType,this.settings={...this.settings,...(e=this.pageType,e?{withPosts:dr.withPosts.has(e),withPost:dr.withPost.has(e),withComments:dr.withComments.has(e)}:{withPosts:!1,withPost:!1,withComments:!1})},this.resetTranslationMetricsData(),this.registerTranslationChangesEvents(this.settings)},this.updateSettingsHybridNav=()=>{this.registeredEvents=0,this.updateSettingsPageload()},this.host=e,this.host.addController(this),this.settings=t,this.pageType=this.host.pageType}hostConnected(){this.initListeners(),this.updateSettingsPageload(),this.connectObservers()}hostDisconnected(){this.unregisterTranslationChangesEvents(),this.disconnectObservers()}connectObservers(){this._mutationObserver||(this._mutationObserver=new MutationObserver(this.handleMutationObserverChanges)),this._mutationObserver.observe(this.host,{attributes:!0,attributeFilter:["routename"]})}disconnectObservers(){this._mutationObserver?.disconnect?.()}}const Dl=Symbol("mixins/with-patched-fetch");function Ll(){return!!document.querySelector(".theme-dark")||!document.querySelector(".theme-light")&&matchMedia("(prefers-color-scheme: dark)").matches}var Ul;!function(e){e.TIME_TO_FIRST_BYTE="time-to-first-byte",e.FIRST_CONTENTFUL_PAINT="first-contentful-paint",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.CUMULATIVE_LAYOUT_SHIFT="cumulative-layout-shift",e.INTERACTION_TO_NEXT_PAINT="interaction-to-next-paint",e.FIRST_POST_MEANINGFUL_PAINT="first-post-meaningful-paint",e.FIRST_COMMENT_MEANINGFUL_PAINT="first-comment-meaningful-paint"}(Ul||(Ul={}));const kl=[Ul.FIRST_POST_MEANINGFUL_PAINT,Ul.FIRST_COMMENT_MEANINGFUL_PAINT];var xl;!function(e){e.polite="polite",e.assertive="assertive"}(xl||(xl={}));const Fl=(e,t)=>{e.dispatchEvent(new CustomEvent("screen-reader-only-alert",{detail:{...t},bubbles:!0}))};class Bl extends Q{constructor(e){super(e),this.alertOutletElement=null,this.events=new W(this,(()=>window)),this._handleEvent=async e=>{e.stopPropagation();const t=this._getAlertOutletElement();if(!t)throw Error("No screen-reader-alert-outlet element found.");await window.customElements.whenDefined("screen-reader-alert-outlet"),t.announce(e.detail)},e.addController(this),this.events.define("screen-reader-only-alert",this._handleEvent)}_getAlertOutletElement(){return this.alertOutletElement||(this.alertOutletElement=document.querySelector("screen-reader-alert-outlet")),this.alertOutletElement}}var Vl;async function Gl(e=window){const t=new URLSearchParams(e.location.search).get("app_installed");if(Object.values(Vl).includes(t))return t;if(void 0===e.navigator||"function"!=typeof e.navigator.getInstalledRelatedApps||e!==e.top)return Vl.Unsupported;return void 0!==(await e.navigator.getInstalledRelatedApps()).find((e=>"com.reddit.frontpage"===e.id))?Vl.Installed:Vl.NotInstalled}!function(e){e.Installed="installed",e.NotInstalled="not_installed",e.Unsupported="unsupported"}(Vl||(Vl={}));const Wl=new Set(["eu_cookie","compact","mod_queue_compact","loid","over18","search_over18","fastly-request-id","pwa","reddit_translation_status","csrf_token","session_tracker",...["_options","correlation_id"]]),Hl=new Set(["AT","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MQ","MT","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","UK","YT"]),$l=e=>Hl.has(e),ql=({country:e,name:t,options:o,value:n})=>{var i;i=t,(Wl.has(i)||!$l(e)||jl())&&Ln.set(t,n,o)},Yl=({name:e,options:t})=>{Ln.remove(e,t)},jl=()=>!!Kl()?.nonessential,Kl=()=>{const e=Ln.get("eu_cookie");return void 0!==e?(e=>{try{const o=JSON.parse(decodeURIComponent(e));return!0===(t=o).opted&&"boolean"==typeof t.nonessential?o:void 0}catch{return}var t})(e):void 0},Ql=e=>{Ln.set("eu_cookie",JSON.stringify(e),fa)};function zl(e){switch(e.status){case 429:return(t=e.headers.get("X-ratelimit-reset"))?`Your request has been rate limited, please take a break for ${t} seconds and try again.`:"Your request has been rate limited, please take a break for a couple minutes and try again.";case 403:return"\n      Your request has been blocked by network security.  Please try to login with your Reddit account.\n    ";default:return"We have encountered an error. Please try again later."}var t}var Jl;!function(e){e.AcceptModeratorInvite="AcceptModeratorInvite",e.AchievementCategoryById="AchievementCategoryById",e.AchievementCategoryByIdIdentity="AchievementCategoryByIdIdentity",e.AchievementTrophyById="AchievementTrophyById",e.AchievementUnlockedNotifications="AchievementUnlockedNotifications",e.AdAccounts="AdAccounts",e.AddBrandAnalyticsSearchQueryKeyword="AddBrandAnalyticsSearchQueryKeyword",e.AddSubredditWidget="AddSubredditWidget",e.AddWikiContributor="AddWikiContributor",e.AddWikiPageEditor="AddWikiPageEditor",e.All="All",e.AllChatsPageCustomRecommendations="AllChatsPageCustomRecommendations",e.AllChatsPageNavigation="AllChatsPageNavigation",e.AllChatsPageRecommendations="AllChatsPageRecommendations",e.AllFeedRightRail="AllFeedRightRail",e.AllowlistedRedditorInfo="AllowlistedRedditorInfo",e.ApplyRemovalReason="ApplyRemovalReason",e.ApproveRedditor="ApproveRedditor",e.ArenaEvents="ArenaEvents",e.ArenaFeed="ArenaFeed",e.ArenaPage="ArenaPage",e.ArtistDetails="ArtistDetails",e.AssignFlairUserTypeahead="AssignFlairUserTypeahead",e.AssignUserFlairModal="AssignUserFlairModal",e.AudioRoomById="AudioRoomById",e.AvatarCatalog="AvatarCatalog",e.AvatarPastLooks="AvatarPastLooks",e.AwardDialogFromComment="AwardDialogFromComment",e.AwardDialogFromPost="AwardDialogFromPost",e.AwardGoldPurchaseFromComment="AwardGoldPurchaseFromComment",e.AwardGoldPurchaseFromPost="AwardGoldPurchaseFromPost",e.AwardLeaderboardComment="AwardLeaderboardComment",e.AwardLeaderboardPost="AwardLeaderboardPost",e.AwardOnContentModerationInfo="AwardOnContentModerationInfo",e.AwardSelectionSheetFromComment="AwardSelectionSheetFromComment",e.AwardSelectionSheetFromPost="AwardSelectionSheetFromPost",e.BackupVault="BackupVault",e.BanEvasionSubredditSettings="BanEvasionSubredditSettings",e.BannedUserIdentity="BannedUserIdentity",e.BanSubredditUser="BanSubredditUser",e.BlockedAccounts="BlockedAccounts",e.BoostedPostAdInsights="BoostedPostAdInsights",e.BrandAnalyticsMentionsChart="BrandAnalyticsMentionsChart",e.BrandAnalyticsSearchKeyword="BrandAnalyticsSearchKeyword",e.BrandLiftSurveyConfig="BrandLiftSurveyConfig",e.CancelEconRecurringPayment="CancelEconRecurringPayment",e.CancelPaySubscription="CancelPaySubscription",e.CancelTemporaryEventRun="CancelTemporaryEventRun",e.ChangePaymentMethod="ChangePaymentMethod",e.ChangeStripePaymentMethod="ChangeStripePaymentMethod",e.ChatBadgeIndicator="ChatBadgeIndicator",e.ChatBanChatChannelUser="ChatBanChatChannelUser",e.ChatBannedUsers="ChatBannedUsers",e.ChatBanSubredditUser="ChatBanSubredditUser",e.ChatBlockedRedditors="ChatBlockedRedditors",e.ChatChannelRecommendations="ChatChannelRecommendations",e.ChatChannelsByIds="ChatChannelsByIds",e.ChatContentControlSettings="ChatContentControlSettings",e.ChatCreateShareUrl="ChatCreateShareUrl",e.ChatCreateSubredditChannel="ChatCreateSubredditChannel",e.ChatCreateUccChatChannel="ChatCreateUccChatChannel",e.ChatCrowdControlSettings="ChatCrowdControlSettings",e.ChatCurrentUserContext="ChatCurrentUserContext",e.ChatDeleteChannel="ChatDeleteChannel",e.ChatGetChatChannelBannedUsers="ChatGetChatChannelBannedUsers",e.ChatGetUccChannelTaggingInfo="ChatGetUccChannelTaggingInfo",e.ChatIsUserBannedFromChatChannel="ChatIsUserBannedFromChatChannel",e.ChatModApprove="ChatModApprove",e.ChatModRemove="ChatModRemove",e.ChatPinMessagesToSubredditChannel="ChatPinMessagesToSubredditChannel",e.ChatQueryTagSubreddits="ChatQueryTagSubreddits",e.ChatRedditors="ChatRedditors",e.ChatRedditorsByName="ChatRedditorsByName",e.ChatReportForm="ChatReportForm",e.ChatRetractChatChannelUserRoleInvitation="ChatRetractChatChannelUserRoleInvitation",e.ChatSearchChatMessageReactionIcons="ChatSearchChatMessageReactionIcons",e.ChatShareUrl="ChatShareUrl",e.ChatSubreddit="ChatSubreddit",e.ChatUnbanChatChannelUser="ChatUnbanChatChannelUser",e.ChatUnbanSubredditUser="ChatUnbanSubredditUser",e.ChatUnitDetails="ChatUnitDetails",e.ChatUpdateAccountPreferences="ChatUpdateAccountPreferences",e.ChatUpdateChannel="ChatUpdateChannel",e.ChatUpdateChannelModerationSettings="ChatUpdateChannelModerationSettings",e.ChatUpdateChatChannelUserRolePromotion="ChatUpdateChatChannelUserRolePromotion",e.ChatUpdateChatChannelUsersRoles="ChatUpdateChatChannelUsersRoles",e.ChatUpdateCrowdControlLevel="ChatUpdateCrowdControlLevel",e.ChatUpdateRedditorBlockState="ChatUpdateRedditorBlockState",e.Checkout="Checkout",e.CheckoutDevvitProducts="CheckoutDevvitProducts",e.ClaimFreeNft="ClaimFreeNft",e.ClearPostFlair="ClearPostFlair",e.ClearUserFlair="ClearUserFlair",e.Comment="Comment",e.CommentEntityFilters="CommentEntityFilters",e.CommentForEdit="CommentForEdit",e.CommentForSocialPreview="CommentForSocialPreview",e.CommentModerationInfo="CommentModerationInfo",e.CommentPermalink="CommentPermalink",e.Comments="Comments",e.CommentTreeAds="CommentTreeAds",e.CommunityGuide="CommunityGuide",e.CommunityName="CommunityName",e.CommunitySearch="CommunitySearch",e.CommunityStatus="CommunityStatus",e.CommunityStatusForEdit="CommunityStatusForEdit",e.CommunitySubscriptionPurchaseDialog="CommunitySubscriptionPurchaseDialog",e.CommunitySuggestions="CommunitySuggestions",e.ComposeMessage="ComposeMessage",e.ContextualSignupPrompt="ContextualSignupPrompt",e.ContributorProgramMarketingPage="ContributorProgramMarketingPage",e.ContributorProgramProfilePage="ContributorProgramProfilePage",e.ContributorProgramVerificationModal="ContributorProgramVerificationModal",e.ConvertMarkdownToRTJSON="ConvertMarkdownToRTJSON",e.ConvertRTJSONToMarkdown="ConvertRTJSONToMarkdown",e.CreateAdAccount="CreateAdAccount",e.CreateAutomation="CreateAutomation",e.CreateAvatar="CreateAvatar",e.CreateAvatarPage="CreateAvatarPage",e.CreateAwardOrder="CreateAwardOrder",e.CreateBrandToolsRequest="CreateBrandToolsRequest",e.CreateCaptchaToken="CreateCaptchaToken",e.CreateComment="CreateComment",e.CreateCustomPostSnapshot="CreateCustomPostSnapshot",e.CreateDraft="CreateDraft",e.CreateEconOrder="CreateEconOrder",e.CreateMediaUploadLease="CreateMediaUploadLease",e.CreateModUserNote="CreateModUserNote",e.CreatePaymentIntent="CreatePaymentIntent",e.CreatePayoutAccountOnboardingUrl="CreatePayoutAccountOnboardingUrl",e.CreatePost="CreatePost",e.CreateProfilePost="CreateProfilePost",e.CreateProfileStructuredStylesUploadLease="CreateProfileStructuredStylesUploadLease",e.CreateSavedResponse="CreateSavedResponse",e.CreateScheduledPost="CreateScheduledPost",e.CreateStorefrontOrder="CreateStorefrontOrder",e.CreateSubreddit="CreateSubreddit",e.CreateSubredditRule="CreateSubredditRule",e.CreateSubredditStructuredStylesUploadLease="CreateSubredditStructuredStylesUploadLease",e.CreateTemporaryEventConfig="CreateTemporaryEventConfig",e.CreateUserFlair="CreateUserFlair",e.CrowdControlSubredditSettings="CrowdControlSubredditSettings",e.CustomFeed="CustomFeed",e.CustomFeedAddSubreddits="CustomFeedAddSubreddits",e.CustomFeedCommunities="CustomFeedCommunities",e.CustomFeedCreate="CustomFeedCreate",e.CustomFeedCurator="CustomFeedCurator",e.CustomFeedDelete="CustomFeedDelete",e.CustomFeedDescription="CustomFeedDescription",e.CustomFeedDetailsForm="CustomFeedDetailsForm",e.CustomFeedPosts="CustomFeedPosts",e.CustomFeedRecommendations="CustomFeedRecommendations",e.CustomFeedRemoveSubreddits="CustomFeedRemoveSubreddits",e.CustomFeedsForUser="CustomFeedsForUser",e.CustomFeedUpdateDetails="CustomFeedUpdateDetails",e.CustomFeedUpdateSubscriptionState="CustomFeedUpdateSubscriptionState",e.DeclineModeratorInvite="DeclineModeratorInvite",e.DeleteAchievementNotifications="DeleteAchievementNotifications",e.DeleteAutomation="DeleteAutomation",e.DeleteComment="DeleteComment",e.DeleteInboxNotifications="DeleteInboxNotifications",e.DeleteModUserNote="DeleteModUserNote",e.DeletePost="DeletePost",e.DeletePostDraft="DeletePostDraft",e.DeleteProfileSocialLinks="DeleteProfileSocialLinks",e.DeleteSavedResponse="DeleteSavedResponse",e.DeleteScheduledPost="DeleteScheduledPost",e.DeleteSubredditChatChannel="DeleteSubredditChatChannel",e.DeleteSubredditEmoji="DeleteSubredditEmoji",e.DeleteSubredditFlairTemplate="DeleteSubredditFlairTemplate",e.DeleteSubredditMuteSettings="DeleteSubredditMuteSettings",e.DeleteSubredditRule="DeleteSubredditRule",e.DeleteSubredditWidget="DeleteSubredditWidget",e.DisapproveRedditor="DisapproveRedditor",e.DisplayCollectiblesForModal="DisplayCollectiblesForModal",e.DraftAndScheduled="DraftAndScheduled",e.EconUiUnit="EconUiUnit",e.EditAvatar="EditAvatar",e.EligibleCommunitiesPage="EligibleCommunitiesPage",e.Embed="Embed",e.EmbedComment="EmbedComment",e.EmbedFeed="EmbedFeed",e.EmojiSettings="EmojiSettings",e.EndPostEvent="EndPostEvent",e.EnrollInStreaks="EnrollInStreaks",e.EstimatedViews="EstimatedViews",e.EvaluateCommentAutomationsByPostId="EvaluateCommentAutomationsByPostId",e.Experiences="Experiences",e.ExploreFeed="ExploreFeed",e.ExploreTopicFeed="ExploreTopicFeed",e.ExposeVariant="ExposeVariant",e.FeedPost="FeedPost",e.FetchTitle="FetchTitle",e.FlairedRedditorByName="FlairedRedditorByName",e.FlairedRedditors="FlairedRedditors",e.Frontpage="Frontpage",e.GeneralSearch="GeneralSearch",e.GeneratedUsernames="GeneratedUsernames",e.GenerateSubredditEmojiUploadLease="GenerateSubredditEmojiUploadLease",e.GetAccessoriesBySection="GetAccessoriesBySection",e.GetActiveVaultDetails="GetActiveVaultDetails",e.GetAdBusinessNameById="GetAdBusinessNameById",e.GetAnswersDynamicConfig="GetAnswersDynamicConfig",e.GetApprovedUsers="GetApprovedUsers",e.GetArtistNameById="GetArtistNameById",e.GetDevvitProducts="GetDevvitProducts",e.GetFreeNftClaimDrops="GetFreeNftClaimDrops",e.GetFundingInstrumentsByAdAccountId="GetFundingInstrumentsByAdAccountId",e.GetFundingInstrumentSecret="GetFundingInstrumentSecret",e.GetIsCommentGuidanceAvailableFromPostId="GetIsCommentGuidanceAvailableFromPostId",e.GetListingById="GetListingById",e.GetMessageRecipientSubredditInfo="GetMessageRecipientSubredditInfo",e.GetNftDetails="GetNftDetails",e.GetPreviousActions="GetPreviousActions",e.GetSharedModPageFragment="GetSharedModPageFragment",e.GetSingleDynamicConfig="GetSingleDynamicConfig",e.GetVaultRegistrationChallenge="GetVaultRegistrationChallenge",e.GoldPackages="GoldPackages",e.GuidesCitationCommentDetails="GuidesCitationCommentDetails",e.GuidesCitationPostDetails="GuidesCitationPostDetails",e.GuidesPageConversationDetails="GuidesPageConversationDetails",e.GuidesPageDetails="GuidesPageDetails",e.GuidesRecommendedPosts="GuidesRecommendedPosts",e.HarassmentSubredditSettings="HarassmentSubredditSettings",e.HideInboxAnnouncements="HideInboxAnnouncements",e.HighlightedPosts="HighlightedPosts",e.HomeFeedRightRail="HomeFeedRightRail",e.HorizontalExperiences="HorizontalExperiences",e.Identity="Identity",e.IdentityImmersiveTranslationSetting="IdentityImmersiveTranslationSetting",e.IdentityUserEmail="IdentityUserEmail",e.IdentityUserIcon="IdentityUserIcon",e.IdentityUserName="IdentityUserName",e.IdentityUserPreferences="IdentityUserPreferences",e.IgnoreReports="IgnoreReports",e.InboxAnnouncementsByIds="InboxAnnouncementsByIds",e.InboxBadgeIndicator="InboxBadgeIndicator",e.InterestTopics="InterestTopics",e.InvitedPage="InvitedPage",e.IsEmailValidForRegistration="IsEmailValidForRegistration",e.IsUsernameValidForRegistration="IsUsernameValidForRegistration",e.KeywordLandingPage="KeywordLandingPage",e.LastModeratedSubreddit="LastModeratedSubreddit",e.LeftNavBusinessToolsSection="LeftNavBusinessToolsSection",e.LeftNavCommunitiesSection="LeftNavCommunitiesSection",e.LeftNavModerationSection="LeftNavModerationSection",e.LeftNavMultiredditsSection="LeftNavMultiredditsSection",e.ManageSubscriptionsListDialog="ManageSubscriptionsListDialog",e.MarkInboxAnnouncementsRead="MarkInboxAnnouncementsRead",e.MarkNotificationRead="MarkNotificationRead",e.MarkPrivateMessageAsRead="MarkPrivateMessageAsRead",e.MediaAuthInfo="MediaAuthInfo",e.MediaLinks="MediaLinks",e.ModAchievementsPage="ModAchievementsPage",e.ModActivityPanel="ModActivityPanel",e.ModActivityPreview="ModActivityPreview",e.ModActivityPreviewHovercard="ModActivityPreviewHovercard",e.ModAllSubredditPermissions="ModAllSubredditPermissions",e.ModAuthorFlair="ModAuthorFlair",e.ModAutomationRules="ModAutomationRules",e.ModAutomationsPage="ModAutomationsPage",e.ModAwards="ModAwards",e.ModBanInfoForUser="ModBanInfoForUser",e.ModBulkApprove="ModBulkApprove",e.ModBulkIgnore="ModBulkIgnore",e.ModBulkLock="ModBulkLock",e.ModBulkMarkNSFW="ModBulkMarkNSFW",e.ModBulkMarkSpoiler="ModBulkMarkSpoiler",e.ModBulkRemove="ModBulkRemove",e.ModBulkUnignore="ModBulkUnignore",e.ModBulkUnlock="ModBulkUnlock",e.ModBulkUnmarkNSFW="ModBulkUnmarkNSFW",e.ModBulkUnmarkSpoiler="ModBulkUnmarkSpoiler",e.ModBulkUpdatePostFlair="ModBulkUpdatePostFlair",e.ModCommunityChatContentControlPage="ModCommunityChatContentControlPage",e.ModCommunityChatRequirementsPage="ModCommunityChatRequirementsPage",e.ModCommunityGold="ModCommunityGold",e.ModeratorEvaluateCommentAutomations="ModeratorEvaluateCommentAutomations",e.ModeratorEvaluatePostAutomations="ModeratorEvaluatePostAutomations",e.ModeratorsPage="ModeratorsPage",e.ModGetBannedData="ModGetBannedData",e.ModGetMutedData="ModGetMutedData",e.ModGetUserManagementData="ModGetUserManagementData",e.ModGetUserRedditorInfoByName="ModGetUserRedditorInfoByName",e.ModGrowthInsightsPage="ModGrowthInsightsPage",e.ModHierarchyPage="ModHierarchyPage",e.ModInsightsModQueueEntrypoint="ModInsightsModQueueEntrypoint",e.ModLogInsightsSummary="ModLogInsightsSummary",e.ModLogItems="ModLogItems",e.ModLogPage="ModLogPage",e.ModMuteInfoForUser="ModMuteInfoForUser",e.ModNotesModActions="ModNotesModActions",e.ModNotesOverview="ModNotesOverview",e.ModNotesRail="ModNotesRail",e.ModNotesRailUserContent="ModNotesRailUserContent",e.ModPermissions="ModPermissions",e.ModPermissionsRightRail="ModPermissionsRightRail",e.ModPostAndCommentSettings="ModPostAndCommentSettings",e.ModQueue="ModQueue",e.ModQueueItems="ModQueueItems",e.ModQueueMiddleware="ModQueueMiddleware",e.ModRemovalReasons="ModRemovalReasons",e.ModReportsAndRemovalsInsightsPage="ModReportsAndRemovalsInsightsPage",e.ModRulesItems="ModRulesItems",e.ModSafetySubredditSettings="ModSafetySubredditSettings",e.ModSavedResponseOptions="ModSavedResponseOptions",e.ModSavedResponses="ModSavedResponses",e.ModSavedResponsesPage="ModSavedResponsesPage",e.ModScheduledPostsPage="ModScheduledPostsPage",e.ModSettingsGeneralPage="ModSettingsGeneralPage",e.ModSettingsNotificationsPage="ModSettingsNotificationsPage",e.ModSettingsPrivacyPage="ModSettingsPrivacyPage",e.ModSubredditLookAndFeelSettings="ModSubredditLookAndFeelSettings",e.ModTeamHealthInsightsPage="ModTeamHealthInsightsPage",e.ModToolsSetYearInReviewAvailability="ModToolsSetYearInReviewAvailability",e.ModUserNotes="ModUserNotes",e.ModUserTypeahead="ModUserTypeahead",e.MultiContentReportingSearch="MultiContentReportingSearch",e.MutedSubreddits="MutedSubreddits",e.MuteMember="MuteMember",e.MyModeratedSubreddits="MyModeratedSubreddits",e.NamedEntityFeed="NamedEntityFeed",e.NotificationInboxFeed="NotificationInboxFeed",e.NsfwSubreddits="NsfwSubreddits",e.OptInToGatedSubreddit="OptInToGatedSubreddit",e.PDPRightRailRelatedPosts="PDPRightRailRelatedPosts",e.PDPRightRailTopicPosts="PDPRightRailTopicPosts",e.PersonalizedYearInReview="PersonalizedYearInReview",e.Popular="Popular",e.PopularCommunities="PopularCommunities",e.PopularFeedRightRail="PopularFeedRightRail",e.Post="Post",e.PostCollaborators="PostCollaborators",e.PostCreationCrosspost="PostCreationCrosspost",e.PostCreationPage="PostCreationPage",e.PostDirectoriesAvailable="PostDirectoriesAvailable",e.PostDirectoryPage="PostDirectoryPage",e.PostFlair="PostFlair",e.PostFlairSettings="PostFlairSettings",e.PostForEdit="PostForEdit",e.PostForHighlights="PostForHighlights",e.PostForInstagramStories="PostForInstagramStories",e.PostForSocialPreview="PostForSocialPreview",e.PostForWatermarking="PostForWatermarking",e.PostGuidanceValidation="PostGuidanceValidation",e.PostLevelCrowdControlSettings="PostLevelCrowdControlSettings",e.PostModerationInfo="PostModerationInfo",e.PostStatsPage="PostStatsPage",e.PostWithoutSubreddit="PostWithoutSubreddit",e.PremiumMarketingPage="PremiumMarketingPage",e.PreviewCommentAutomation="PreviewCommentAutomation",e.PreviewPostAutomation="PreviewPostAutomation",e.ProfileAccountPerformance="ProfileAccountPerformance",e.ProfileActiveSubreddits="ProfileActiveSubreddits",e.ProfileBrandMentions="ProfileBrandMentions",e.ProfileBusinessToolsPage="ProfileBusinessToolsPage",e.ProfileCommunityFinderPage="ProfileCommunityFinderPage",e.ProfileDashboardOverview="ProfileDashboardOverview",e.ProfileDashboardPage="ProfileDashboardPage",e.ProfileDashboardTrendingConvos="ProfileDashboardTrendingConvos",e.ProfileFollowers="ProfileFollowers",e.ProfileForSocialPreview="ProfileForSocialPreview",e.ProfileHeader="ProfileHeader",e.ProfileLeftNav="ProfileLeftNav",e.ProfileModeratedSubreddits="ProfileModeratedSubreddits",e.ProfilePerformance="ProfilePerformance",e.ProfilePostStatsDownload="ProfilePostStatsDownload",e.ProfileRelatedKeywords="ProfileRelatedKeywords",e.ProfileSettings="ProfileSettings",e.ProfileTrendingConvoDetails="ProfileTrendingConvoDetails",e.ProfileTrendingConvoMentions="ProfileTrendingConvoMentions",e.ProfileTrendingConvos="ProfileTrendingConvos",e.ProfileTrendMonitoringPage="ProfileTrendMonitoringPage",e.ProfileTrendsCommunityAffinityTable="ProfileTrendsCommunityAffinityTable",e.ProfileTrendsMentionsChart="ProfileTrendsMentionsChart",e.ProfileTrendsOverviewChart="ProfileTrendsOverviewChart",e.ProfileTrendsSentimentChart="ProfileTrendsSentimentChart",e.ProfileTypeahead="ProfileTypeahead",e.PromotedFloatingCTA="PromotedFloatingCTA",e.PromotePost="PromotePost",e.PublishSubmissionGroups="PublishSubmissionGroups",e.RecentPosts="RecentPosts",e.RecoverUsername="RecoverUsername",e.RedditChat="RedditChat",e.RedditorByName="RedditorByName",e.RedditorIdByName="RedditorIdByName",e.RedditProBrandCategories="RedditProBrandCategories",e.RedditProOnboardingPage="RedditProOnboardingPage",e.RegisterPushToken="RegisterPushToken",e.RegisterVaultAddress="RegisterVaultAddress",e.RemoveHighlightedPost="RemoveHighlightedPost",e.RemoveWikiContributor="RemoveWikiContributor",e.RemoveWikiContributorBan="RemoveWikiContributorBan",e.RemoveWikiPageEditor="RemoveWikiPageEditor",e.RenderSavedResponseTemplate="RenderSavedResponseTemplate",e.ReorderFlairs="ReorderFlairs",e.ReorderHighlightedPosts="ReorderHighlightedPosts",e.ReorderSavedResponses="ReorderSavedResponses",e.ReorderSubredditRules="ReorderSubredditRules",e.ReorderSubredditWidgets="ReorderSubredditWidgets",e.ReportAward="ReportAward",e.ReportComment="ReportComment",e.ReportForm="ReportForm",e.ReportFormData="ReportFormData",e.ReportPost="ReportPost",e.ReportPrivateMessage="ReportPrivateMessage",e.ReportUserDetails="ReportUserDetails",e.ReputationSubredditSettings="ReputationSubredditSettings",e.RequestCommunitySettingsChange="RequestCommunitySettingsChange",e.RequestPasswordReset="RequestPasswordReset",e.RestoreWikiPageRevision="RestoreWikiPageRevision",e.SafetyFilterEvaluationsAsModerator="SafetyFilterEvaluationsAsModerator",e.SafetyFiltersModInsightsChart="SafetyFiltersModInsightsChart",e.SafetyFiltersOverview="SafetyFiltersOverview",e.SaveSubredditEmoji="SaveSubredditEmoji",e.SaveWikiPageSettings="SaveWikiPageSettings",e.ScheduleTemporaryEventRun="ScheduleTemporaryEventRun",e.SearchDynamicComponents="SearchDynamicComponents",e.SearchDynamicTypeahead="SearchDynamicTypeahead",e.SearchTypeahead="SearchTypeahead",e.SendMessageToSubreddit="SendMessageToSubreddit",e.SetBrandAnalyticsKeywords="SetBrandAnalyticsKeywords",e.SetProfileSocialLinks="SetProfileSocialLinks",e.SetSubredditEmojisEnabled="SetSubredditEmojisEnabled",e.SetSuggestedSort="SetSuggestedSort",e.SettingsAccountPage="SettingsAccountPage",e.SettingsEmailPage="SettingsEmailPage",e.SettingsModNotificationModal="SettingsModNotificationModal",e.SettingsNotificationsPage="SettingsNotificationsPage",e.SettingsPreferencesPage="SettingsPreferencesPage",e.SettingsPrivacyPage="SettingsPrivacyPage",e.SettingsProfilePage="SettingsProfilePage",e.ShopArtistsData="ShopArtistsData",e.ShopGalleryData="ShopGalleryData",e.ShopGallerySetup="ShopGallerySetup",e.StorefrontLayout="StorefrontLayout",e.StorefrontLayoutData="StorefrontLayoutData",e.StoreUxtargetingAction="StoreUxtargetingAction",e.SubmitMedia="SubmitMedia",e.SubmitScheduledPostNow="SubmitScheduledPostNow",e.SubmitUserContactForAd="SubmitUserContactForAd",e.Subreddit="Subreddit",e.SubredditByName="SubredditByName",e.SubredditChatChannelModerationSettings="SubredditChatChannelModerationSettings",e.SubredditChatChannels="SubredditChatChannels",e.SubredditDirectoryPage="SubredditDirectoryPage",e.SubredditEmojis="SubredditEmojis",e.SubredditEmojiTemplates="SubredditEmojiTemplates",e.SubredditEmotes="SubredditEmotes",e.SubredditFeed="SubredditFeed",e.SubredditPostFlairTemplates="SubredditPostFlairTemplates",e.SubredditPostingEligibility="SubredditPostingEligibility",e.SubredditPostingEligibilityCriteria="SubredditPostingEligibilityCriteria",e.SubredditRightRail="SubredditRightRail",e.SubredditScheduledPosts="SubredditScheduledPosts",e.SubredditStyles="SubredditStyles",e.SubredditToManageHighlights="SubredditToManageHighlights",e.SubredditTypeahead="SubredditTypeahead",e.SubredditWidgets="SubredditWidgets",e.SubredditYearInReview="SubredditYearInReview",e.TaxonomyTopicsInfo="TaxonomyTopicsInfo",e.TemporaryEventConfigs="TemporaryEventConfigs",e.TemporaryEventRuns="TemporaryEventRuns",e.TemporaryEventsPage="TemporaryEventsPage",e.TemporaryEventsPresets="TemporaryEventsPresets",e.TemporaryEventsView="TemporaryEventsView",e.ToggleHideWikiPageRevision="ToggleHideWikiPageRevision",e.TopicBySlug="TopicBySlug",e.TopicFeedBySlug="TopicFeedBySlug",e.TranslatedComment="TranslatedComment",e.TranslatedPost="TranslatedPost",e.TranslatedPosts="TranslatedPosts",e.TranslatedStrings="TranslatedStrings",e.TrendingCarousel="TrendingCarousel",e.TrendingSearches="TrendingSearches",e.TrophyCategories="TrophyCategories",e.TrophyCategoriesIdentity="TrophyCategoriesIdentity",e.UnbanSubredditUser="UnbanSubredditUser",e.UnignoreReports="UnignoreReports",e.UnlockedCommunitiesPage="UnlockedCommunitiesPage",e.UnmuteMember="UnmuteMember",e.UpdateAccountGender="UpdateAccountGender",e.UpdateAccountPreferences="UpdateAccountPreferences",e.UpdateAchievementTrophyIsNew="UpdateAchievementTrophyIsNew",e.UpdateAchievementTrophyIsPinned="UpdateAchievementTrophyIsPinned",e.UpdateAdsPaymentMethod="UpdateAdsPaymentMethod",e.UpdateAutomation="UpdateAutomation",e.UpdateAutomationRank="UpdateAutomationRank",e.UpdateBrandOnboarding="UpdateBrandOnboarding",e.UpdateChatMessagesAsRead="UpdateChatMessagesAsRead",e.UpdateCollectibleOutfitSubmission="UpdateCollectibleOutfitSubmission",e.UpdateComment="UpdateComment",e.UpdateCommentDistinguishedState="UpdateCommentDistinguishedState",e.UpdateCommentFollowState="UpdateCommentFollowState",e.UpdateCommentLockedState="UpdateCommentLockedState",e.UpdateCommentSaveState="UpdateCommentSaveState",e.UpdateCommentSendRepliesState="UpdateCommentSendRepliesState",e.UpdateCommentStickyState="UpdateCommentStickyState",e.UpdateCommentVoteState="UpdateCommentVoteState",e.UpdateCommercialCommunicationState="UpdateCommercialCommunicationState",e.UpdateCommunityStatus="UpdateCommunityStatus",e.UpdateContributorRequestTimestamp="UpdateContributorRequestTimestamp",e.UpdateDraft="UpdateDraft",e.UpdateEventTime="UpdateEventTime",e.UpdateHatefulContentFilters="UpdateHatefulContentFilters",e.UpdateHighlightedPost="UpdateHighlightedPost",e.UpdateInboxActivitySeenState="UpdateInboxActivitySeenState",e.UpdateMessageDistinguishedState="UpdateMessageDistinguishedState",e.UpdateModeratorHierarchy="UpdateModeratorHierarchy",e.UpdateModPnSettingStatus="UpdateModPnSettingStatus",e.UpdateModPnSettingThreshold="UpdateModPnSettingThreshold",e.UpdateModPreferences="UpdateModPreferences",e.UpdateMultiredditFavoriteState="UpdateMultiredditFavoriteState",e.UpdateNotificationPreferences="UpdateNotificationPreferences",e.UpdatePost="UpdatePost",e.UpdatePostCollaborators="UpdatePostCollaborators",e.UpdatePostDistinguishedState="UpdatePostDistinguishedState",e.UpdatePostFlair="UpdatePostFlair",e.UpdatePostFollowState="UpdatePostFollowState",e.UpdatePostHideState="UpdatePostHideState",e.UpdatePostLevelCrowdControlSettings="UpdatePostLevelCrowdControlSettings",e.UpdatePostLockedState="UpdatePostLockedState",e.UpdatePostNsfwState="UpdatePostNsfwState",e.UpdatePostPollVoteState="UpdatePostPollVoteState",e.UpdatePostReminderState="UpdatePostReminderState",e.UpdatePostRequirements="UpdatePostRequirements",e.UpdatePostSaveState="UpdatePostSaveState",e.UpdatePostSendRepliesState="UpdatePostSendRepliesState",e.UpdatePostSpoilerState="UpdatePostSpoilerState",e.UpdatePostStickyState="UpdatePostStickyState",e.UpdatePostVoteState="UpdatePostVoteState",e.UpdateProfileFollowState="UpdateProfileFollowState",e.UpdateProfilePrivacyPreferences="UpdateProfilePrivacyPreferences",e.UpdateProfileSettings="UpdateProfileSettings",e.UpdateProfileSocialLinks="UpdateProfileSocialLinks",e.UpdateProfileStyles="UpdateProfileStyles",e.UpdateRecommendationPreferences="UpdateRecommendationPreferences",e.UpdateRedditorAllowlistState="UpdateRedditorAllowlistState",e.UpdateRedditorBlockState="UpdateRedditorBlockState",e.UpdateReportState="UpdateReportState",e.UpdateSavedResponse="UpdateSavedResponse",e.UpdateScheduledPost="UpdateScheduledPost",e.UpdateSensitiveAdsPreferences="UpdateSensitiveAdsPreferences",e.UpdateSpokenLanguagesPreference="UpdateSpokenLanguagesPreference",e.UpdateStorefrontListings="UpdateStorefrontListings",e.UpdateSubredditAchievementsSettings="UpdateSubredditAchievementsSettings",e.UpdateSubredditBanner="UpdateSubredditBanner",e.UpdateSubredditChannelsSettings="UpdateSubredditChannelsSettings",e.UpdateSubredditChatChannel="UpdateSubredditChatChannel",e.UpdateSubredditColors="UpdateSubredditColors",e.UpdateSubredditEmojiPermissions="UpdateSubredditEmojiPermissions",e.UpdateSubredditFavoriteState="UpdateSubredditFavoriteState",e.UpdateSubredditFlair="UpdateSubredditFlair",e.UpdateSubredditFlairPromptSettings="UpdateSubredditFlairPromptSettings",e.UpdateSubredditIcon="UpdateSubredditIcon",e.UpdateSubredditModeratorState="UpdateSubredditModeratorState",e.UpdateSubredditMuteAndNotificationLevelSettings="UpdateSubredditMuteAndNotificationLevelSettings",e.UpdateSubredditMuteSettings="UpdateSubredditMuteSettings",e.UpdateSubredditNotificationSettings="UpdateSubredditNotificationSettings",e.UpdateSubredditPostFlairSettings="UpdateSubredditPostFlairSettings",e.UpdateSubredditQuarantineOptInState="UpdateSubredditQuarantineOptInState",e.UpdateSubredditRule="UpdateSubredditRule",e.UpdateSubredditSettings="UpdateSubredditSettings",e.UpdateSubredditSubscriptions="UpdateSubredditSubscriptions",e.UpdateSubredditUserFlairSettings="UpdateSubredditUserFlairSettings",e.UpdateSubredditWidget="UpdateSubredditWidget",e.UpdateTemporaryEventConfig="UpdateTemporaryEventConfig",e.UpdateTopicPreferences="UpdateTopicPreferences",e.UpdateUserFlair="UpdateUserFlair",e.UpdateUserFlairAndEnabledStatus="UpdateUserFlairAndEnabledStatus",e.UpdateWelcomePageContent="UpdateWelcomePageContent",e.UpdateWelcomePageState="UpdateWelcomePageState",e.UpsertBanEvasionSubredditSettings="UpsertBanEvasionSubredditSettings",e.UpsertModSafetySubredditSettings="UpsertModSafetySubredditSettings",e.UpsertWikiContributorBan="UpsertWikiContributorBan",e.UpsertWikiPage="UpsertWikiPage",e.UserAvatarBackgrounds="UserAvatarBackgrounds",e.UserAvatarOutfits="UserAvatarOutfits",e.UserCollectibleSubmissions="UserCollectibleSubmissions",e.UserCommunityAchievements="UserCommunityAchievements",e.UserDrawer="UserDrawer",e.UserFlairSettings="UserFlairSettings",e.UserFlairTemplates="UserFlairTemplates",e.UserHoverCard="UserHoverCard",e.UserNameById="UserNameById",e.UserProfile="UserProfile",e.ValidateCreatePostInput="ValidateCreatePostInput",e.ValidateCreateSubredditInput="ValidateCreateSubredditInput",e.ValidateSavedResponseTemplate="ValidateSavedResponseTemplate",e.VerifyUserIdentity="VerifyUserIdentity",e.WhereToPost="WhereToPost",e.WikiApprovedContributors="WikiApprovedContributors",e.WikiBannedContributors="WikiBannedContributors",e.WikiComparisonDiff="WikiComparisonDiff",e.WikiGeneralSettings="WikiGeneralSettings",e.WikiPage="WikiPage",e.WikiPageContributors="WikiPageContributors",e.WikiPageRevisions="WikiPageRevisions",e.WikiPageSettings="WikiPageSettings",e.WikiPageTree="WikiPageTree",e.WikiRecentRevisions="WikiRecentRevisions",e.WikiRevisionByCursor="WikiRevisionByCursor",e.XFeed="XFeed"}(Jl||(Jl={})),Jl.AcceptModeratorInvite,Jl.AddBrandAnalyticsSearchQueryKeyword,Jl.AddSubredditWidget,Jl.AddWikiContributor,Jl.AddWikiPageEditor,Jl.ApproveRedditor,Jl.BackupVault,Jl.BanSubredditUser,Jl.CancelEconRecurringPayment,Jl.CancelPaySubscription,Jl.CancelTemporaryEventRun,Jl.ChangePaymentMethod,Jl.ChangeStripePaymentMethod,Jl.ChatBanChatChannelUser,Jl.ChatBanSubredditUser,Jl.ChatCreateShareUrl,Jl.ChatCreateSubredditChannel,Jl.ChatCreateUccChatChannel,Jl.ChatDeleteChannel,Jl.ChatModApprove,Jl.ChatModRemove,Jl.ChatPinMessagesToSubredditChannel,Jl.ChatRetractChatChannelUserRoleInvitation,Jl.ChatUnbanChatChannelUser,Jl.ChatUnbanSubredditUser,Jl.ChatUpdateAccountPreferences,Jl.ChatUpdateChannel,Jl.ChatUpdateChannelModerationSettings,Jl.ChatUpdateChatChannelUserRolePromotion,Jl.ChatUpdateChatChannelUsersRoles,Jl.ChatUpdateCrowdControlLevel,Jl.ChatUpdateRedditorBlockState,Jl.Checkout,Jl.CheckoutDevvitProducts,Jl.ClaimFreeNft,Jl.ClearPostFlair,Jl.ClearUserFlair,Jl.ComposeMessage,Jl.CreateAdAccount,Jl.CreateAutomation,Jl.CreateAvatar,Jl.CreateAwardOrder,Jl.CreateCaptchaToken,Jl.CreateCustomPostSnapshot,Jl.CreateEconOrder,Jl.CreateMediaUploadLease,Jl.CreateModUserNote,Jl.CreatePaymentIntent,Jl.CreateProfileStructuredStylesUploadLease,Jl.CreateSavedResponse,Jl.CreateStorefrontOrder,Jl.CreateSubreddit,Jl.CreateSubredditRule,Jl.CreateSubredditStructuredStylesUploadLease,Jl.CreateUserFlair,Jl.CustomFeedAddSubreddits,Jl.CustomFeedCreate,Jl.CustomFeedDelete,Jl.CustomFeedRemoveSubreddits,Jl.CustomFeedUpdateSubscriptionState,Jl.DeclineModeratorInvite,Jl.DeleteAchievementNotifications,Jl.DeleteAutomation,Jl.DeleteComment,Jl.DeleteInboxNotifications,Jl.DeleteModUserNote,Jl.DeletePost,Jl.DeletePostDraft,Jl.DeleteProfileSocialLinks,Jl.DeleteSavedResponse,Jl.DeleteScheduledPost,Jl.DeleteSubredditChatChannel,Jl.DeleteSubredditEmoji,Jl.DeleteSubredditFlairTemplate,Jl.DeleteSubredditMuteSettings,Jl.DeleteSubredditRule,Jl.DeleteSubredditWidget,Jl.DisapproveRedditor,Jl.EnrollInStreaks,Jl.ExposeVariant,Jl.GenerateSubredditEmojiUploadLease,Jl.HideInboxAnnouncements,Jl.IdentityUserPreferences,Jl.IgnoreReports,Jl.MarkInboxAnnouncementsRead,Jl.MarkNotificationRead,Jl.MarkPrivateMessageAsRead,Jl.ModBulkApprove,Jl.ModBulkIgnore,Jl.ModBulkLock,Jl.ModBulkMarkNSFW,Jl.ModBulkMarkSpoiler,Jl.ModBulkRemove,Jl.ModBulkUnignore,Jl.ModBulkUnlock,Jl.ModBulkUnmarkNSFW,Jl.ModBulkUnmarkSpoiler,Jl.ModBulkUpdatePostFlair,Jl.ModGetUserRedditorInfoByName,Jl.ModToolsSetYearInReviewAvailability,Jl.MuteMember,Jl.OptInToGatedSubreddit,Jl.PostGuidanceValidation,Jl.PromotePost,Jl.PublishSubmissionGroups,Jl.RegisterPushToken,Jl.RegisterVaultAddress,Jl.RemoveHighlightedPost,Jl.RemoveWikiContributor,Jl.RemoveWikiContributorBan,Jl.RemoveWikiPageEditor,Jl.RenderSavedResponseTemplate,Jl.ReorderFlairs,Jl.ReorderHighlightedPosts,Jl.ReorderSavedResponses,Jl.ReorderSubredditRules,Jl.ReorderSubredditWidgets,Jl.ReportAward,Jl.ReportComment,Jl.ReportPost,Jl.ReportUserDetails,Jl.RequestCommunitySettingsChange,Jl.RestoreWikiPageRevision,Jl.SaveSubredditEmoji,Jl.SaveWikiPageSettings,Jl.SendMessageToSubreddit,Jl.SetBrandAnalyticsKeywords,Jl.SetProfileSocialLinks,Jl.SetSubredditEmojisEnabled,Jl.SetSuggestedSort,Jl.StoreUxtargetingAction,Jl.SubmitMedia,Jl.SubmitScheduledPostNow,Jl.SubredditWidgets,Jl.ToggleHideWikiPageRevision,Jl.UnbanSubredditUser,Jl.UnignoreReports,Jl.UnmuteMember,Jl.UpdateAccountGender,Jl.UpdateAccountPreferences,Jl.UpdateAchievementTrophyIsNew,Jl.UpdateAchievementTrophyIsPinned,Jl.UpdateAdsPaymentMethod,Jl.UpdateAutomation,Jl.UpdateAutomationRank,Jl.UpdateBrandOnboarding,Jl.UpdateChatMessagesAsRead,Jl.UpdateCollectibleOutfitSubmission,Jl.UpdateComment,Jl.UpdateCommentDistinguishedState,Jl.UpdateCommentFollowState,Jl.UpdateCommentLockedState,Jl.UpdateCommentSaveState,Jl.UpdateCommentSendRepliesState,Jl.UpdateCommentStickyState,Jl.UpdateCommentVoteState,Jl.UpdateCommercialCommunicationState,Jl.UpdateCommunityStatus,Jl.UpdateContributorRequestTimestamp,Jl.UpdateEventTime,Jl.UpdateHighlightedPost,Jl.UpdateInboxActivitySeenState,Jl.UpdateMessageDistinguishedState,Jl.UpdateModPnSettingStatus,Jl.UpdateModPnSettingThreshold,Jl.UpdateModPreferences,Jl.UpdateMultiredditFavoriteState,Jl.UpdateNotificationPreferences,Jl.UpdatePostCollaborators,Jl.UpdatePostDistinguishedState,Jl.UpdatePostFlair,Jl.UpdatePostFollowState,Jl.UpdatePostHideState,Jl.UpdatePostLevelCrowdControlSettings,Jl.UpdatePostLockedState,Jl.UpdatePostNsfwState,Jl.UpdatePostPollVoteState,Jl.UpdatePostReminderState,Jl.UpdatePostRequirements,Jl.UpdatePostSaveState,Jl.UpdatePostSendRepliesState,Jl.UpdatePostSpoilerState,Jl.UpdatePostStickyState,Jl.UpdatePostVoteState,Jl.UpdateProfileFollowState,Jl.UpdateProfilePrivacyPreferences,Jl.UpdateProfileSettings,Jl.UpdateProfileSocialLinks,Jl.UpdateProfileStyles,Jl.UpdateRecommendationPreferences,Jl.UpdateRedditorAllowlistState,Jl.UpdateRedditorBlockState,Jl.UpdateReportState,Jl.UpdateSavedResponse,Jl.UpdateScheduledPost,Jl.UpdateSensitiveAdsPreferences,Jl.UpdateSpokenLanguagesPreference,Jl.UpdateStorefrontListings,Jl.UpdateSubredditAchievementsSettings,Jl.UpdateSubredditBanner,Jl.UpdateSubredditChatChannel,Jl.UpdateSubredditColors,Jl.UpdateSubredditEmojiPermissions,Jl.UpdateSubredditFavoriteState,Jl.UpdateSubredditFlair,Jl.UpdateSubredditFlairPromptSettings,Jl.UpdateSubredditIcon,Jl.UpdateSubredditModeratorState,Jl.UpdateSubredditMuteAndNotificationLevelSettings,Jl.UpdateSubredditMuteSettings,Jl.UpdateSubredditNotificationSettings,Jl.UpdateSubredditPostFlairSettings,Jl.UpdateSubredditQuarantineOptInState,Jl.UpdateSubredditRule,Jl.UpdateSubredditSettings,Jl.UpdateSubredditSubscriptions,Jl.UpdateSubredditUserFlairSettings,Jl.UpdateSubredditWidget,Jl.UpdateUserFlair,Jl.UpdateUserFlairAndEnabledStatus,Jl.UpdateWelcomePageContent,Jl.UpdateWelcomePageState,Jl.UpsertModSafetySubredditSettings,Jl.UpsertWikiContributorBan,Jl.UpsertWikiPage,Jl.AchievementTrophyById,Jl.AchievementUnlockedNotifications,Jl.AddSubredditWidget,Jl.AllowlistedRedditorInfo,Jl.BackupVault,Jl.BlockedAccounts,Jl.BoostedPostAdInsights,Jl.BrandAnalyticsSearchKeyword,Jl.ChatBannedUsers,Jl.ChatBlockedRedditors,Jl.ChatContentControlSettings,Jl.ChatCrowdControlSettings,Jl.ChatCurrentUserContext,Jl.ChatGetChatChannelBannedUsers,Jl.ChatGetUccChannelTaggingInfo,Jl.ChatIsUserBannedFromChatChannel,Jl.ChatQueryTagSubreddits,Jl.ChatRedditors,Jl.ChatRedditorsByName,Jl.ChatReportForm,Jl.ChatSearchChatMessageReactionIcons,Jl.ChatShareUrl,Jl.ChatSubreddit,Jl.ChatUnitDetails,Jl.ClaimFreeNft,Jl.CommunityName,Jl.CommunitySearch,Jl.CommunitySuggestions,Jl.ConvertMarkdownToRTJSON,Jl.ConvertRTJSONToMarkdown,Jl.CreateAvatar,Jl.CreateCustomPostSnapshot,Jl.CreateTemporaryEventConfig,Jl.DeleteSubredditWidget,Jl.EligibleCommunitiesPage,Jl.EndPostEvent,Jl.EnrollInStreaks,Jl.EvaluateCommentAutomationsByPostId,Jl.FetchTitle,Jl.GeneratedUsernames,Jl.GetAnswersDynamicConfig,Jl.GetApprovedUsers,Jl.GetFundingInstrumentSecret,Jl.GetIsCommentGuidanceAvailableFromPostId,Jl.GetMessageRecipientSubredditInfo,Jl.GetVaultRegistrationChallenge,Jl.IdentityImmersiveTranslationSetting,Jl.IsEmailValidForRegistration,Jl.IsUsernameValidForRegistration,Jl.MediaAuthInfo,Jl.ModAutomationRules,Jl.ModeratorEvaluateCommentAutomations,Jl.ModeratorEvaluatePostAutomations,Jl.MutedSubreddits,Jl.PreviewCommentAutomation,Jl.PreviewPostAutomation,Jl.RedditorByName,Jl.RedditorIdByName,Jl.RegisterVaultAddress,Jl.ReorderSubredditWidgets,Jl.ReportUserDetails,Jl.SafetyFilterEvaluationsAsModerator,Jl.ScheduleTemporaryEventRun,Jl.SettingsModNotificationModal,Jl.SubredditByName,Jl.SubredditStyles,Jl.SubredditTypeahead,Jl.SubredditWidgets,Jl.TaxonomyTopicsInfo,Jl.TrophyCategories,Jl.UnlockedCommunitiesPage,Jl.UpdateEventTime,Jl.UpdateSubredditAchievementsSettings,Jl.UpdateSubredditWidget,Jl.UpdateTemporaryEventConfig,Jl.UserCommunityAchievements,Jl.ValidateCreatePostInput,Jl.ValidateCreateSubredditInput,Jl.ValidateSavedResponseTemplate,Jl.WikiComparisonDiff,Jl.WikiRevisionByCursor;const Xl=["https://ads.reddit.com","https://reddit-service-ads-ui"];function Zl(e){window.Sentry?.captureMessage?.(e)}const ec=[429,403];async function tc({operation:e,variables:t={},init:o={}}){try{const n=await fetch((Xl.some((e=>jt.origin.startsWith(e)))?"https://www.reddit.com":"")+"/svc/shreddit/graphql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({operation:e,variables:t,csrf_token:Ln.get("csrf_token")}),...o});if(n.ok)return n.json();const i=await n.text();Zl(`Client GQL Request failed with status ${n.status}: ${i}`);const s=zl(n);throw s&&ec.includes(n.status)&&function(e,t){const o=t??document.querySelector("shreddit-app");o&&o.dispatchEvent(V("faceplate-alert",{level:le.error,message:e}))}(s),new Error(i)}catch(t){throw Zl(`Unable to complete the request for GQL operation "${e}": ${t}`),t}}async function oc(e,t,o,n){const i={input:{action:e,eligibleExperience:{experience:t,uxVariant:o},source:n}},{data:s}=await tc({operation:Jl.StoreUxtargetingAction,variables:i});return s.storeUxTargetingAction?.ok||window.Sentry?.captureMessage?.("Uxtargeting action could not be stored"),s.storeUxTargetingAction?.ok}function nc(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function ic(e){return"object"===nc(e)}function sc(e,t){return e.length<124?e:t}var ac,rc;function dc(e){if(!ic(e))throw new Error(`Message is expected to be an object, but got ${nc(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if("string"!=typeof e.type)throw new Error(`Message is expects the 'type' property to be a string, but got ${nc(e.type)}`);switch(e.type){case rc.ConnectionInit:case rc.ConnectionAck:case rc.Ping:case rc.Pong:if(null!=e.payload&&!ic(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break;case rc.Subscribe:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${nc(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!ic(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${nc(e.payload)}`);if("string"!=typeof e.payload.query)throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${nc(e.payload.query)}`);if(null!=e.payload.variables&&!ic(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${nc(e.payload.variables)}`);if(null!=e.payload.operationName&&"string"!==nc(e.payload.operationName))throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${nc(e.payload.operationName)}`);if(null!=e.payload.extensions&&!ic(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${nc(e.payload.extensions)}`);break;case rc.Next:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${nc(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!ic(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${nc(e.payload)}`);break;case rc.Error:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${nc(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(t=e.payload,!(Array.isArray(t)&&t.length>0&&t.every((e=>"message"in e))))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break;case rc.Complete:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${nc(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break;default:throw new Error(`Invalid message 'type' property "${e.type}"`)}var t;return e}function lc(e,t){return dc(e),JSON.stringify(e,t)}function cc(e){const{url:t,connectionParams:o,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:s=0,keepAlive:a=0,disablePong:r,connectionAckWaitTimeout:d=0,retryAttempts:l=5,retryWait:c=async function(e){let t=1e3;for(let o=0;o<e;o++)t*=2;await new Promise((e=>setTimeout(e,t+Math.floor(2700*Math.random()+300))))},shouldRetry:u=uc,isFatalConnectionProblem:h,on:p,webSocketImpl:m,generateID:g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},jsonMessageReplacer:f,jsonMessageReviver:_}=e;let v;if(m){if(!("function"==typeof(E=m)&&"constructor"in E&&"CLOSED"in E&&"CLOSING"in E&&"CONNECTING"in E&&"OPEN"in E))throw new Error("Invalid WebSocket implementation provided");v=m}else"undefined"!=typeof WebSocket?v=WebSocket:"undefined"!=typeof global?v=global.WebSocket||global.MozWebSocket:"undefined"!=typeof window&&(v=window.WebSocket||window.MozWebSocket);var E;if(!v)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const b=v,y=(()=>{const e=(()=>{const e={};return{on:(t,o)=>(e[t]=o,()=>{delete e[t]}),emit(t){var o;"id"in t&&(null===(o=e[t.id])||void 0===o||o.call(e,t))}}})(),t={connecting:(null==p?void 0:p.connecting)?[p.connecting]:[],opened:(null==p?void 0:p.opened)?[p.opened]:[],connected:(null==p?void 0:p.connected)?[p.connected]:[],ping:(null==p?void 0:p.ping)?[p.ping]:[],pong:(null==p?void 0:p.pong)?[p.pong]:[],message:(null==p?void 0:p.message)?[e.emit,p.message]:[e.emit],closed:(null==p?void 0:p.closed)?[p.closed]:[],error:(null==p?void 0:p.error)?[p.error]:[]};return{onMessage:e.on,on(e,o){const n=t[e];return n.push(o),()=>{n.splice(n.indexOf(o),1)}},emit(e,...o){for(const n of[...t[e]])n(...o)}}})();function S(e){const t=[y.on("error",(o=>{t.forEach((e=>e())),e(o)})),y.on("closed",(o=>{t.forEach((e=>e())),e(o)}))]}let C,T,w=0,I=!1,A=0,P=!1;async function R(){clearTimeout(T);const[e,n]=await(null!=C?C:C=new Promise(((e,n)=>(async()=>{if(I){if(await c(A),!w)return C=void 0,n({code:1e3,reason:"All Subscriptions Gone"});A++}y.emit("connecting");const i=new b("function"==typeof t?await t():t,"graphql-transport-ws");let s,l;function u(){isFinite(a)&&a>0&&(clearTimeout(l),l=setTimeout((()=>{i.readyState===b.OPEN&&(i.send(lc({type:rc.Ping})),y.emit("ping",!1,void 0))}),a))}S((e=>{C=void 0,clearTimeout(s),clearTimeout(l),n(e),uc(e)&&4499===e.code&&(i.close(4499,"Terminated"),i.onerror=null,i.onclose=null)})),i.onerror=e=>y.emit("error",e),i.onclose=e=>y.emit("closed",e),i.onopen=async()=>{try{y.emit("opened",i);const e="function"==typeof o?await o():o;if(i.readyState!==b.OPEN)return;i.send(lc(e?{type:rc.ConnectionInit,payload:e}:{type:rc.ConnectionInit},f)),isFinite(d)&&d>0&&(s=setTimeout((()=>{i.close(ac.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")}),d)),u()}catch(e){y.emit("error",e),i.close(ac.InternalClientError,sc(e instanceof Error?e.message:new Error(e).message,"Internal client error"))}};let h=!1;i.onmessage=({data:t})=>{try{const o=function(e,t){return dc("string"==typeof e?JSON.parse(e,t):e)}(t,_);if(y.emit("message",o),"ping"===o.type||"pong"===o.type)return y.emit(o.type,!0,o.payload),void("pong"===o.type?u():r||(i.send(lc(o.payload?{type:rc.Pong,payload:o.payload}:{type:rc.Pong})),y.emit("pong",!1,o.payload)));if(h)return;if(o.type!==rc.ConnectionAck)throw new Error(`First message cannot be of type ${o.type}`);clearTimeout(s),h=!0,y.emit("connected",i,o.payload),I=!1,A=0,e([i,new Promise(((e,t)=>S(t)))])}catch(e){i.onmessage=null,y.emit("error",e),i.close(ac.BadResponse,sc(e instanceof Error?e.message:new Error(e).message,"Bad response"))}}})())));e.readyState===b.CLOSING&&await n;let i=()=>{};const l=new Promise((e=>i=e));return[e,i,Promise.race([l.then((()=>{if(!w){const t=()=>e.close(1e3,"Normal Closure");isFinite(s)&&s>0?T=setTimeout((()=>{e.readyState===b.OPEN&&t()}),s):t()}})),n])]}function O(e){if(uc(e)&&(t=e.code,![1e3,1001,1006,1005,1012,1013,1013].includes(t)&&t>=1e3&&t<=1999||[ac.InternalServerError,ac.InternalClientError,ac.BadRequest,ac.BadResponse,ac.Unauthorized,ac.SubprotocolNotAcceptable,ac.SubscriberAlreadyExists,ac.TooManyInitialisationRequests].includes(e.code)))throw e;var t;if(P)return!1;if(uc(e)&&1e3===e.code)return w>0;if(!l||A>=l)throw e;if(!u(e))throw e;if(null==h?void 0:h(e))throw e;return I=!0}return n||(async()=>{for(w++;;)try{const[,,e]=await R();await e}catch(e){try{if(!O(e))return}catch(e){return null==i?void 0:i(e)}}})(),{on:y.on,subscribe(e,t){const o=g(e);let n=!1,i=!1,s=()=>{w--,n=!0};return(async()=>{for(w++;;)try{const[a,r,d]=await R();if(n)return r();const l=y.onMessage(o,(e=>{switch(e.type){case rc.Next:return void t.next(e.payload);case rc.Error:return i=!0,n=!0,t.error(e.payload),void s();case rc.Complete:return n=!0,void s()}}));return a.send(lc({id:o,type:rc.Subscribe,payload:e},f)),s=()=>{n||a.readyState!==b.OPEN||a.send(lc({id:o,type:rc.Complete},f)),w--,n=!0,r()},void await d.finally(l)}catch(e){if(!O(e))return}})().then((()=>{i||t.complete()})).catch((e=>{t.error(e)})),()=>{n||s()}},async dispose(){if(P=!0,C){const[e]=await C;e.close(1e3,"Normal Closure")}},terminate(){C&&y.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function uc(e){return ic(e)&&"code"in e&&"reason"in e}async function hc(){const e=Ln.get("csrf_token")??"",t=await fetch("/svc/shreddit/token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({csrf_token:e})});return t.ok?t.json():null}!function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"}(ac||(ac={})),function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"}(rc||(rc={}));const pc=(()=>{let e,t=!1,o=!1;const n=()=>{t=!0},i=()=>{o=!0};function s({reconnectOnClose:s,onConnectedCallback:a,lazyCloseTimeout:r}){return(!e||s&&t||o)&&(e=function({onConnectedCallback:e,onCompletedCallback:t,onCloseFunction:o,lazyCloseTimeout:n=5e3}){let i=!1;return cc({url:"wss://gql-realtime.reddit.com/query",connectionAckWaitTimeout:5e3,lazyCloseTimeout:n,retryAttempts:1,shouldRetry:()=>i,on:{connecting:()=>{i=!1},closed:e=>{if(1e3===e.code)throw o(),new Error("Connection has been terminated.")},message:o=>{o.type===rc.ConnectionAck&&(e?.(),i=!0),o.type===rc.Complete&&t?.()}},lazy:!0,connectionParams:async()=>{const e=await hc();return e?{Authorization:`Bearer ${e.token}`}:{}}})}({onCloseFunction:n,onConnectedCallback:a,onCompletedCallback:i,lazyCloseTimeout:r})),e}return({query:e,onData:t,onClose:o,onConnectedCallback:n,reconnectOnClose:i=!1,lazyCloseTimeout:a})=>s({reconnectOnClose:i,onConnectedCallback:n,lazyCloseTimeout:a}).subscribe(e,{next:t,error:e=>o?.(e),complete:()=>o?.()})})();class mc{constructor(e){this.unsubscribeFn=null,this.lastSubscribeParams=null,this.unsubscribe=()=>{this.unsubscribeFn?.(),this.unsubscribeFn=null,this.lastSubscribeParams=null,window.removeEventListener("pageshow",this.onPageShow),window.removeEventListener("pagehide",this.onPageHide)},this.subscribe=e=>{this.unsubscribe(),this.unsubscribeFn=pc(e),this.lastSubscribeParams=e,window.addEventListener("pageshow",this.onPageShow),window.addEventListener("pagehide",this.onPageHide)},this.onPageShow=e=>{e.persisted&&this.lastSubscribeParams&&this.subscribe(this.lastSubscribeParams)},this.onPageHide=e=>{e.persisted&&this.suspend()},e.addController(this)}suspend(){this.unsubscribeFn?.(),this.unsubscribeFn=null}hostDisconnected(){this.unsubscribe()}}const gc={_rplIsReducedMotion:!1,get mediaQuery(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches},get rplIsReducedMotion(){return"function"==typeof this._rplIsReducedMotion?this._rplIsReducedMotion():this._rplIsReducedMotion},get isReducedMotion(){return this.rplIsReducedMotion||this.mediaQuery}},fc={keyframes:[],options:{duration:0}},_c=new Map,vc=new WeakMap;function Ec(e){return e??fc}function bc(e,t){_c.set(e,Ec(t))}function yc(e,t,o){vc.set(e,{...vc.get(e),[t]:Ec(o)})}function Sc(e,t){const o=vc.get(e);if(o?.[t])return e?.noAnimate?Ic(o[t]):o[t];const n=_c.get(t);return n?e?.noAnimate?Ic(n):n:fc}function Cc(e,t,o){return new Promise((n=>{if(o?.duration===1/0)throw new Error("Promise-based animations must be finite.");const i=function(e,t){return gc.isReducedMotion?Ic({keyframes:e,options:t}):{keyframes:e,options:t}}(t,o),s=e.animate(i.keyframes,i.options);s.addEventListener("cancel",n,{once:!0}),s.addEventListener("finish",n,{once:!0})}))}function Tc(e){return Promise.all(e.getAnimations().map((e=>new Promise((t=>{const o=()=>requestAnimationFrame(t);e.addEventListener("cancel",o,{once:!0}),e.addEventListener("finish",o,{once:!0}),e.cancel()})))))}const wc=e=>{const t=e.toString().toLowerCase();return t.indexOf("ms")>-1?parseFloat(t):t.indexOf("s")>-1?1e3*parseFloat(t):parseFloat(t)},Ic=({keyframes:e,options:t})=>({keyframes:e,options:{...t,duration:0}}),Ac=(e,t)=>{var o,n;const i=e._$AN;if(void 0===i)return!1;for(const e of i)null===(n=(o=e)._$AO)||void 0===n||n.call(o,t,!1),Ac(e,t);return!0},Pc=e=>{let t,o;do{if(void 0===(t=e._$AM))break;o=t._$AN,o.delete(e),e=t}while(0===(null==o?void 0:o.size))},Rc=e=>{for(let t;t=e._$AM;e=t){let o=t._$AN;if(void 0===o)t._$AN=o=new Set;else if(o.has(e))break;o.add(e),Nc(t)}};function Oc(e){void 0!==this._$AN?(Pc(this),this._$AM=e,Rc(this)):this._$AM=e}function Mc(e,t=!1,o=0){const n=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(n))for(let e=o;e<n.length;e++)Ac(n[e],!1),Pc(n[e]);else null!=n&&(Ac(n,!1),Pc(n));else Ac(this,e)}const Nc=e=>{var t,o,n,i;e.type==a.CHILD&&(null!==(t=(n=e)._$AP)&&void 0!==t||(n._$AP=Mc),null!==(o=(i=e)._$AQ)&&void 0!==o||(i._$AQ=Oc))};class Dc extends s{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,o){super._$AT(e,t,o),Rc(this),this.isConnected=e._$AU}_$AO(e,t=!0){var o,n;e!==this.isConnected&&(this.isConnected=e,e?null===(o=this.reconnected)||void 0===o||o.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),t&&(Ac(this,e),Pc(this))}setValue(e){if(c(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}const Lc=()=>new Uc;class Uc{}const kc=new WeakMap,xc=i(class extends Dc{render(e){return l}update(e,[t]){var o;const n=t!==this.G;return n&&void 0!==this.G&&this.ot(void 0),(n||this.rt!==this.lt)&&(this.G=t,this.ct=null===(o=e.options)||void 0===o?void 0:o.host,this.ot(this.lt=e.element)),l}ot(e){var t;if("function"==typeof this.G){const o=null!==(t=this.ct)&&void 0!==t?t:globalThis;let n=kc.get(o);void 0===n&&(n=new WeakMap,kc.set(o,n)),void 0!==n.get(this.G)&&this.G.call(this.ct,void 0),n.set(this.G,e),void 0!==e&&this.G.call(this.ct,e)}else this.G.value=e}get rt(){var e,t,o;return"function"==typeof this.G?null===(t=kc.get(null!==(e=this.ct)&&void 0!==e?e:globalThis))||void 0===t?void 0:t.get(this.G):null===(o=this.G)||void 0===o?void 0:o.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}}),Fc=()=>{let e=document.activeElement;for(;e?.shadowRoot?.activeElement;)e=e.shadowRoot.activeElement;return e};function Bc(e,t){return new Promise((o=>{e.addEventListener(t,(function n(i){i.target===e&&(e.removeEventListener(t,n),o())}))}))}function Vc(e,t,{maximumMatches:o=1/0}={maximumMatches:1/0}){const n=[];return function i(s){if(!(n.length>=o)){if(s instanceof Element){!n.includes(s)&&e(s)&&n.push(s);const o=e=>e.getRootNode({composed:!0})?.host!==t;s instanceof HTMLSlotElement&&o(s)&&s.assignedElements({flatten:!0}).forEach(i),null!==s.shadowRoot&&"open"===s.shadowRoot.mode&&i(s.shadowRoot)}Array.from(s.children).forEach(i)}}(t),n}function Gc(e){const t=e.tagName.toLowerCase();return!e.hasAttribute("inert")&&("-1"!==e.getAttribute("tabindex")&&(!e.hasAttribute("disabled")&&(!("input"===t&&"radio"===e.getAttribute("type")&&!e.hasAttribute("checked"))&&(o=e,!!Boolean(o.offsetParent||o.offsetWidth||o.offsetHeight||o.getClientRects().length)&&("hidden"!==window.getComputedStyle(e).visibility&&(!("audio"!==t&&"video"!==t||!e.hasAttribute("controls"))||(!!e.hasAttribute("tabindex")||(!(!e.hasAttribute("contenteditable")||"false"===e.getAttribute("contenteditable"))||(!("a"!==t||!e.hasAttribute("href"))||["button","input","select","textarea","audio","video","summary"].includes(t))))))))));var o}function Wc(e){return Vc(Gc,e)}function Hc(e){return Vc(Gc,e,{maximumMatches:1})[0]??null}let $c=[];class qc{constructor(e){this.currentFocus=null,this.tabDirection="forward",this.disableFocusTrap=!1,this.checkFocusRaf=null,this.handleFocusIn=e=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=e=>{if("Tab"!==e.key||this.disableFocusTrap||!this.isActive())return;e.shiftKey?this.tabDirection="backward":this.tabDirection="forward",e.preventDefault();const t=Fc(),o=Wc(this.element);let n=o.findIndex((e=>e===t));if(-1===n)return this.currentFocus=o[0],void this.currentFocus?.focus({preventScroll:!0});const i="forward"===this.tabDirection?1:-1;n+i>=o.length?n=0:n+i<0?n=o.length-1:n+=i,this.currentFocus=o[n],this.currentFocus?.focus({preventScroll:!0}),setTimeout((()=>this.checkFocus()))},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e}activate(){$c.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){$c=$c.filter((e=>e!==this.element)),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return $c[$c.length-1]===this.element}disableFocusTrapping(){this.disableFocusTrap=!0}enableFocusTrapping(){this.disableFocusTrap=!1}checkFocus(){this.isActive()&&!this.disableFocusTrap&&(this.checkFocusRaf&&cancelAnimationFrame(this.checkFocusRaf),this.checkFocusRaf=requestAnimationFrame((()=>{const e=Wc(this.element);if(!this.element.matches(":focus-within")){const t=e[0],o=e[e.length-1],n="forward"===this.tabDirection?t:o;"function"==typeof n?.focus&&(this.currentFocus=n,this.currentFocus?.focus())}})))}}function Yc(e,t){return t in e}const jc=Symbol("mixins/with-event-dispatcher");class Kc{constructor(e){this.host=e}get namespace(){return null!==this.host.eventNamespaceOverride?this.host.eventNamespaceOverride:this.host.tagName.toLowerCase()}eventId(e){return""===e&&(e="generic"),this.namespace+":"+e}dispatch(e,t={bubbles:!0,cancelable:!0,composed:!0}){return this.host.dispatchEvent(new CustomEvent(this.eventId(e),t))}}class Qc extends(function(e){if(Yc(e,jc))return e;class t extends e{constructor(){super(...arguments),this.eventNamespaceOverride=null,this.emitter=new Kc(this)}}return t[jc]=!0,t}(e)){}const zc=e=>{const t=document.createElement("style");return t.textContent=e.cssText,document.head.appendChild(t),{remove:()=>{document.head.removeChild(t)},update:e=>{t.textContent=e.cssText}}},Jc=t`:host{box-sizing:border-box}:host *,:host ::after,:host ::before{box-sizing:inherit}[hidden]{display:none!important}`,Xc=t`.styled-scrollbar{--_scrollbar-color:var(--scrollbar-color, var(--color-neutral-border));--_scrollbar-background:var(--scrollbar-background, var(--color-neutral-background));scrollbar-color:transparent transparent;scrollbar-width:thin}.styled-scrollbar::-webkit-scrollbar{width:16px;height:16px}.styled-scrollbar::-webkit-scrollbar-track{background:var(--_scrollbar-background)}.styled-scrollbar:hover{scrollbar-color:var(--_scrollbar-color) transparent}.styled-scrollbar:hover::-webkit-scrollbar-thumb{background:var(--_scrollbar-color);border:6px solid var(--_scrollbar-background);border-radius:8px}`;zc(t`.rpl-scroll-lock{overflow:hidden!important}`);const Zc=new Set;function eu(e){Zc.add(e),document.body.classList.contains("rpl-scroll-lock")||document.body.classList.add("rpl-scroll-lock")}function tu(e){Zc.delete(e),0===Zc.size&&document.body.classList.remove("rpl-scroll-lock")}function ou(e){return e.scrollHeight!==e.clientHeight}function nu(e){return 0===Math.floor(e.scrollTop)}function iu(e){return Math.ceil(e.scrollTop)>=e.scrollHeight-e.offsetHeight}const su={Show:"show",Hide:"hide"},au=Symbol("mixins/with-portal"),ru={_root:document.body,set portalRoot(e){this._root=e},get portalRoot(){return du(this._root)}},du=e=>"function"==typeof e?e():e;function lu(e){if(Yc(e,au))return e;class t extends e{get portalRoot(){return du(this._portalRoot??ru.portalRoot)}set portalRoot(e){this._portalRoot=e}connectedCallback(){super.connectedCallback(),this.style.display="none"}attachPortal(){this.portalRoot.appendChild(this.portalContainer)}removePortal(){this.portalContainer.parentElement&&this.portalContainer.parentElement.removeChild(this.portalContainer)}createRenderRoot(){return this.portalContainer=document.createElement("div"),this.portalShadowRoot=this.portalContainer.attachShadow(this.constructor.shadowRootOptions),u(this.portalShadowRoot,this.constructor.elementStyles),this.portalShadowRoot}}return t[au]=!0,t}const cu=Symbol("mixins/with-dialog-child"),uu=Symbol("dialog-child");const hu=e=>!!e&&(uu in e&&e instanceof HTMLElement),pu=Symbol("mixins/with-template-child");function mu(e){if(Yc(e,pu))return e;class t extends e{constructor(){super(...arguments),this.contentAppended=!1}appendTemplateContentTo(e,t={cache:!0}){if(t.cache&&this.contentAppended)return;let o=this.firstElementChild;for(;"slot"===o?.tagName.toLowerCase();){const e=o.assignedElements()[0];if(!e)break;o=e}if("template"!==o?.tagName.toLowerCase())return;const n=o.content.cloneNode(!0);e.innerHTML="",e.appendChild(n),this.contentAppended=!0}}return t[pu]=!0,t}class gu extends(mu(lu(Qc))){constructor(){super(...arguments),this.styledDialogChildren=new Set,this.originalTrigger=null,this.triggerElement=null,this.dialogRef=Lc(),this.panelRef=Lc(),this.overlayRef=Lc(),this.open=!1,this.overlayBlur=!1,this.dialogId="",this.dialogClassName="",this.label="",this.blocking=!1,this.noAnimate=!1,this.disableCacheContents=!1,this.handleCloseButtonClicked=e=>{e.stopPropagation(),this.requestClose("close-button")},this.handleTriggerElementEvent=e=>{const t=e.detail;if(t.dialogId===this.dialogId)return t.action===su.Hide?this.hide():this.handleTriggerShowAction(t)},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.modal.isActive()&&this.open&&(e.stopPropagation(),this.requestClose("keyboard"))}}connectedCallback(){super.connectedCallback(),this.portalContainer.id=this.dialogId,this.portalContainer.classList.add(this.tagName.toLowerCase()),this.dialogClassName&&this.portalContainer.classList.add(this.dialogClassName),this.modal=new qc(this.portalContainer),document.addEventListener("rpl-dialog-trigger:trigger-clicked",this.handleTriggerElementEvent)}willUpdate(e){e.has("open")&&this.hasUpdated&&this.handleOpenChange(),e.has("litTemplateChildren")&&this.handleLitTemplateChildrenChange(),super.willUpdate(e);const t=Array.from(e.entries()).map((([e,t])=>({key:e,changed:t!==this[e],newValue:this[e]})));this.emitter.dispatch("internal-sync",{detail:t})}async firstUpdated(){this.dialogRef.value&&(this.dialogRef.value.hidden=!this.open),this.open&&(this.attachPortal(),this.litTemplateChildren||this.appendTemplateContentTo(this.portalContainer,{cache:!this.disableCacheContents}),this.addOpenListeners(),this.modal.activate(),this.handleOpenFocus(),eu(this))}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate(),this.removePortal(),this.removeAttribute("open"),tu(this),document.removeEventListener("rpl-dialog-trigger:trigger-clicked",this.handleTriggerElementEvent)}async requestClose(e){if(this.blocking)return;if(this.emitter.dispatch("request-close",{cancelable:!0,detail:{source:e}})||!this.panelRef.value)return this.hide();{const e=Sc(this,this.animationNames.denyClose);Cc(this.panelRef.value,e.keyframes,e.options)}}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown),this.portalContainer.addEventListener("rpl-modal-card:close-button-clicked",this.handleCloseButtonClicked)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown),this.portalContainer.removeEventListener("rpl-modal-card:close-button-clicked",this.handleCloseButtonClicked)}handleTriggerShowAction(e){if(!this.open&&!this.triggerElement)return this.triggerElement=e.triggerElement,e.noModal?this.show():this.showModal()}handleSlotChange(e){}handleDialogChildConnected(e){}handleDialogChildDisconnected(e){}internalHandleDialogChildConnected(e){const t=e.composedPath()[0];hu(t)&&!this.styledDialogChildren.has(t)&&(this.styledDialogChildren.add(t),this.handleDialogChildConnected(t))}internalHandleDialogChildDisconnected(e){const t=e.composedPath()[0];hu(t)&&this.styledDialogChildren.has(t)&&(this.styledDialogChildren.delete(t),this.handleDialogChildDisconnected(t))}async handleLitTemplateChildrenChange(){await this.updateComplete,h(this.litTemplateChildren,this.portalContainer)}async handleOpenFocus(e){this.originalTrigger=Fc();const t=this.portalContainer.querySelector("[autofocus]");t&&t.removeAttribute("autofocus"),e&&await e,requestAnimationFrame((()=>{!this.emitter.dispatch("initial-focus",{cancelable:!0})||(t?t.focus({preventScroll:!0}):this.modal.checkFocus()),t&&t.setAttribute("autofocus","")}))}async handleOpenChange(){if(this.open){if(this.attachPortal(),this.appendTemplateContentTo(this.portalContainer,{cache:!this.disableCacheContents}),this.emitter.dispatch("show"),this.addOpenListeners(),this.modal.activate(),this.triggerElement&&this.triggerElement.addOpenAttributes(),eu(this),!this.dialogRef.value||!this.overlayRef.value||!this.panelRef.value)return this.emitter.dispatch("after-show");await this.handleOpenFocus(Promise.all([Tc(this.dialogRef.value),Tc(this.overlayRef.value)])),this.dialogRef.value.hidden=!1;const e=Sc(this,this.animationNames.show),t=Sc(this,this.animationNames.overlayShow);return await Promise.all([Cc(this.panelRef.value,e.keyframes,e.options),Cc(this.overlayRef.value,t.keyframes,t.options)]),this.emitter.dispatch("after-show")}{if(this.emitter.dispatch("hide"),this.removeOpenListeners(),this.modal.deactivate(),this.dialogRef.value&&this.overlayRef.value&&this.panelRef.value){await Promise.all([Tc(this.dialogRef.value),Tc(this.overlayRef.value)]);const e=Sc(this,this.animationNames.hide),t=Sc(this,this.animationNames.overlayHide);await Promise.all([Cc(this.overlayRef.value,t.keyframes,t.options).then((()=>{this.overlayRef.value&&(this.overlayRef.value.hidden=!0)})),Cc(this.panelRef.value,e.keyframes,e.options).then((()=>{this.panelRef.value&&(this.panelRef.value.hidden=!0)}))])}this.dialogRef.value&&(this.dialogRef.value.hidden=!0),this.overlayRef.value&&(this.overlayRef.value.hidden=!1),this.panelRef.value&&(this.panelRef.value.hidden=!1),tu(this),this.removePortal();const e=this.originalTrigger;return"function"==typeof e?.focus&&setTimeout((()=>e.focus({preventScroll:!0}))),this.triggerElement&&(this.triggerElement.removeOpenAttributes(),this.triggerElement=null),this.emitter.dispatch("after-hide")}}async showModal(){if(!this.open)return this.modal.enableFocusTrapping(),this.open=!0,Bc(this,this.emitter.eventId("after-show"))}checkFocus(){this.modal.checkFocus()}async show(){if(!this.open)return this.modal.disableFocusTrapping(),this.open=!0,Bc(this,this.emitter.eventId("after-show"))}async hide(){if(this.open)return this.open=!1,Bc(this,this.emitter.eventId("after-hide"))}renderTopOfDialog(){return l}render(){return o` <div part="base" class="${Fe({dialog:!0,"dialog-open":this.open,...this.renderDialogBaseClasses()})}" ${xc(this.dialogRef)}> <div part="overlay" class="${Fe({"dialog-overlay":!0,"dialog-overlay-blur":this.overlayBlur,"dialog-overlay-no-modal":this.modal.disableFocusTrap})}" @click="${()=>this.requestClose("overlay")}" tabindex="-1" ${xc(this.overlayRef)}></div> <div part="panel" class="dialog-panel" role="dialog" aria-modal="${!this.modal.disableFocusTrap}" aria-hidden="${this.open?"false":"true"}" aria-label="${this.label}" tabindex="-1" ${xc(this.panelRef)}> ${this.renderTopOfDialog()} <slot @slotchange="${this.handleSlotChange}" @rpl-dialog-child-connected="${this.internalHandleDialogChildConnected}" @rpl-dialog-child-disconnected="${this.internalHandleDialogChildDisconnected}"></slot> </div> </div> `}}E([O({type:Boolean,reflect:!0})],gu.prototype,"open",void 0),E([O({type:Boolean,reflect:!0,attribute:"overlay-blur"})],gu.prototype,"overlayBlur",void 0),E([O({reflect:!0,attribute:"dialog-id"})],gu.prototype,"dialogId",void 0),E([O({reflect:!0,attribute:"dialog-classname"})],gu.prototype,"dialogClassName",void 0),E([O({reflect:!0})],gu.prototype,"label",void 0),E([O({type:Boolean})],gu.prototype,"blocking",void 0),E([O({type:Boolean,attribute:"no-animate"})],gu.prototype,"noAnimate",void 0),E([O({type:Boolean,reflect:!0,attribute:"disable-cache-contents"})],gu.prototype,"disableCacheContents",void 0),E([M()],gu.prototype,"litTemplateChildren",void 0);var fu=t`${Jc}:host{--transition-duration:250ms;display:contents}.dialog{display:flex;align-items:center;justify-content:center;position:fixed;top:0;right:0;bottom:0;left:0;z-index:var(--z-index-dialog,1000);user-select:none;pointer-events:none}.dialog-panel{display:flex;flex-direction:column;z-index:2;width:fit-content;max-width:calc(100% - var(--spacer-2xl));max-height:calc(100% - var(--spacer-2xl));background-color:var(--color-ui-modalbackground);border-radius:var(--radius-md);box-shadow:var(--boxshadow-modal)}.dialog-variant-plain .dialog-panel{max-width:100%;max-height:100%;background-color:transparent;border-radius:initial;box-shadow:initial}.dialog-panel:focus{outline:0}.dialog-open{user-select:auto}.dialog-open .dialog-overlay,.dialog-open .dialog-panel{pointer-events:auto}.dialog-open .dialog-panel{display:flex;opacity:1}.dialog-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.5)}.dialog-overlay-blur{backdrop-filter:blur(var(--dialog-backdrop-blur, 4px))}.dialog-overlay-no-modal{display:none!important}`;let _u=class extends gu{constructor(){super(...arguments),this.animationNames={show:"dialog.show",hide:"dialog.hide",denyClose:"dialog.denyClose",overlayShow:"dialog.overlay.show",overlayHide:"dialog.overlay.hide"},this.variant="default"}handleDialogChildConnected(e){e.appearance="modal","plain"!==this.variant&&this.styledDialogChildren.size>0&&(this.variant="plain")}renderDialogBaseClasses(){return{[`dialog-variant-${this.variant}`]:!0}}};_u.styles=fu,E([O({type:String,reflect:!0})],_u.prototype,"variant",void 0),_u=E([P("rpl-dialog")],_u),bc("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}}),bc("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}}),bc("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}}),bc("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}}),bc("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});const vu=async e=>{const t=()=>new Promise((e=>setTimeout(e,0)));return e.hasUpdated||await e.updateComplete,t()};class Eu{constructor(e,t){this.host=e,this.config=t,this.rafId=null,this._connectedElements=new Map,this._wasObserving=[],e.addController(this)}async hostConnected(){const e=this.host.hasUpdated;if(this.resizeObserver??(this.resizeObserver=new ResizeObserver(((e,t)=>{this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame((()=>(this.rafId=null,this.config.callback.call(this.host).call(this.host,e,t))))}))),e){for(const e of this._wasObserving)this.connectElement(e);this._wasObserving=[]}!e&&this.config.observeAllOnFirstUpdate&&(await vu(this.host),this.observeAllElements())}hostDisconnected(){this._wasObserving=this.connectedElements,this.unobserveAllElements()}fetchElement(e){return this.config.elements[e]?.call(this.host)??null}get connectedElements(){return Array.from(this._connectedElements.keys())}get unconnectedElements(){return Object.keys(this.config.elements).filter((e=>!this._connectedElements.has(e)))}connectElement(e){const t=this.fetchElement(e);return t&&(this._connectedElements.has(e)&&this.resizeObserver.unobserve(this._connectedElements.get(e)),this.resizeObserver.observe(t,{box:"border-box"}),this._connectedElements.set(e,t)),!!t}observeAllElements(){for(const e of this.unconnectedElements)this.connectElement(e)}unobserveAllElements(){this.resizeObserver.disconnect(),this._connectedElements.clear()}replaceObservedElement(e){return this.connectElement(e)}}var bu=t`${Jc}${Xc}:host{--background-color:var(--color-ui-modalbackground);--_overlay-height:var(--scrollbox-overlay-height, 2.5em);--_overlay-margin:calc(var(--_overlay-height) * -1);--_overlay-z-index:var(--overlay-z-index, 1)}@media (prefers-color-scheme:dark){:host{--background-color-transparent:rgba(0, 0, 0, 0)}}@media (prefers-color-scheme:light){:host{--background-color-transparent:rgba(255, 255, 255, 0)}}:host{display:flex;flex-direction:column;min-height:0;flex-shrink:1;flex-grow:0;overflow:auto;padding:0 4px;margin:0 -4px}:host{-ms-overflow-style:none;scrollbar-width:none}:host::-webkit-scrollbar{display:none;width:0!important}.visibility-ref-bottom,.visibility-ref-top{pointer-events:none}.visibility-ref-bottom{position:relative;bottom:1px}.bottom-overlay,.top-overlay{position:sticky;height:var(--_overlay-height);min-height:var(--_overlay-height);margin-top:var(--_overlay-margin);opacity:1;transition:opacity .2s;pointer-events:none;z-index:var(--_overlay-z-index)}.overlay--hidden{opacity:0}.top-overlay{top:-1px;background:linear-gradient(to bottom,var(--background-color) 20%,var(--background-color-transparent))}.bottom-overlay{bottom:-1px;background:linear-gradient(to top,var(--background-color) 20%,var(--background-color-transparent))}`;class yu extends Qc{constructor(){super(...arguments),this.visibilityEls={},this.showTopOverlay=!1,this.showBottomOverlay=!1,this.disableOverlay=!1,this.updateOverlayVisibility=e=>{for(const t of e){if(!(t.target instanceof HTMLElement))continue;const{position:e}=t.target.dataset,o=!t.isIntersecting;"bottom"===e&&(this.showBottomOverlay=o),"top"===e&&(this.showTopOverlay=o)}this.emitter.dispatch("visibility-change")},this.createVisibilityRef=e=>{if(!(e instanceof HTMLElement))return;const t=e.dataset.position;this.visibilityEls[t]&&this.intersectionObserver.unobserve(this.visibilityEls[t]),this.intersectionObserver.observe(e),this.visibilityEls[t]=e}}connectedCallback(){super.connectedCallback(),this.intersectionObserver=new IntersectionObserver(this.updateOverlayVisibility,{root:this,threshold:[0,1]})}render(){return o` <div class="${Fe({"top-overlay":!0,"overlay--hidden":!this.showTopOverlay||this.disableOverlay})}"></div> <div class="visibility-ref-top" ${xc(this.createVisibilityRef)} data-position="top"></div> <slot></slot> <div class="visibility-ref-bottom" ${xc(this.createVisibilityRef)} data-position="bottom"></div> <div class="${Fe({"bottom-overlay":!0,"overlay--hidden":!this.showBottomOverlay||this.disableOverlay})}"></div> `}}E([M()],yu.prototype,"showTopOverlay",void 0),E([M()],yu.prototype,"showBottomOverlay",void 0),E([M()],yu.prototype,"disableOverlay",void 0);let Su=class extends yu{};Su.styles=bu,Su=E([P("rpl-scrollbox")],Su);class Cu extends(function(e){var t;if(Yc(e,cu))return e;class o extends e{constructor(){super(...arguments),this[t]=!0,this.dockable=!1,this.docked=!1,this.appearance="modal"}async connectedCallback(){super.connectedCallback(),this.hasUpdated||await this.updateComplete,this.dispatchEvent(new CustomEvent("rpl-dialog-child-connected",{bubbles:!0,composed:!0}))}disconnectedCallback(){this.dispatchEvent(new CustomEvent("rpl-dialog-child-disconnected",{bubbles:!0,composed:!0}))}}return t=uu,o[cu]=!0,E([M()],o.prototype,"dockable",void 0),E([M()],o.prototype,"docked",void 0),E([O({type:String,reflect:!0,attribute:"appearance"})],o.prototype,"appearance",void 0),o}(Qc)){constructor(){super(...arguments),this.resizeController=new Eu(this,{observeAllOnFirstUpdate:!0,callback:()=>this.handleResize,elements:{content:()=>this.contentRef}}),this.isFooterEmpty=!0,this.shouldContentScroll=!1,this._scrollableContent=!1,this.autoClose=!1,this.autoDock=!1,this.contentRef=void 0,this.headerRef=Lc(),this.footerRef=Lc(),this.emitCloseButtonClickEvent=()=>{this.emitter.dispatch("close-button-clicked",{bubbles:!0,composed:!0,detail:{}})},this.emitDockButtonClickEvent=()=>{this.emitter.dispatch("dock-button-clicked",{bubbles:!0,composed:!0,detail:{}})},this.handleCloseButtonClick=e=>{this.autoClose&&this.emitCloseButtonClickEvent()},this.handleCloseButtonKeydown=e=>{this.autoClose&&"Enter"===e.key&&this.emitCloseButtonClickEvent()},this.handleDockButtonClick=e=>{this.autoDock&&this.emitDockButtonClickEvent()},this.handleDockButtonKeydown=e=>{this.autoDock&&"Enter"===e.key&&this.emitDockButtonClickEvent()},this.handleResize=()=>{this.updateShouldContentScroll(),this.emitter.dispatch("resize")},this.updateShouldContentScroll=async()=>{this.shouldContentScroll=!!this.contentRef&&ou(this.contentRef),this.style.setProperty("--modal-card-scrollbar-width",this.contentRef?.offsetWidth-this.contentRef?.clientWidth+"px")}}willUpdate(e){if(e.has("docked")){const e=this.shadowRoot?.querySelector("rpl-scrollbox");if(!e)return;this.docked?(e.style.scrollBehavior="auto",e.scrollTo({top:0,behavior:"auto"}),e.style.scrollBehavior="",e.style.overflow="hidden"):e.style.overflow=""}}setContentRef(e){if(!e)return;const t=e;this.contentRef=t,this.resizeController.replaceObservedElement("content")}get headerHeight(){return this.headerRef.value?.clientHeight}handleSlotChange(e){this.isFooterEmpty=!(this.footerSlot?.length||this.primaryButtonSlot?.length||this.secondaryButtonSlot?.length||this.tertiaryButtonSlot?.length)}render(){const e=this.dockable&&"bottom-sheet"===this.appearance,t=o` <div class="${Fe({"header-action-container":!0,"header-action-container-floating":this.shouldContentScroll})}" part="header-action-container"> ${e?o`<slot name="dock-button" part="dock-button" class="${Fe({"dock-button-docked":this.docked})}" @click="${this.handleDockButtonClick}" @keydown="${this.handleDockButtonKeydown}"></slot>`:l} <slot name="close-button" part="close-button" @click="${this.handleCloseButtonClick}" @keydown="${this.handleCloseButtonKeydown}"></slot> </div>`,n=o` <div class="modal-card-header-container" part="header-container"> <div part="header" class="${Fe({"modal-card-header":!0,"modal-card-header-with-icon":this.titleGraphic.length>0,"modal-card-header-with-collapse":e})}" ${xc(this.headerRef)}> <slot name="title-graphic"></slot> <slot name="title"></slot> </div> </div> ${this._scrollableContent?o`<rpl-scrollbox .disableOverlay="${this.docked}"><slot></slot></rpl-scrollbox>`:o`<slot></slot>`}`;return o` ${this.shouldContentScroll?t:l} <div class="${Fe({"modal-card-content":!0,"styled-scrollbar":!0,"modal-card-content-docked":this.docked})}" part="content"> <rpl-scrollbox ${xc(this.setContentRef)} .disableOverlay="${this.docked}"> ${[this.shouldContentScroll?l:t,n]} </rpl-scrollbox> </div> <div part="footer" class="${Fe({"modal-card-footer":!0,"modal-card-footer-sticky":this.shouldContentScroll,"modal-card-footer-empty":this.isFooterEmpty})}" ?hidden="${e&&this.docked}" ${xc(this.footerRef)}> <slot name="tertiary-button" @slotchange="${this.handleSlotChange}"></slot> <div class="primary-secondary-button-container"> <slot name="secondary-button" @slotchange="${this.handleSlotChange}"></slot> <slot name="primary-button" @slotchange="${this.handleSlotChange}"></slot> </div> <slot name="footer" @slotchange="${this.handleSlotChange}"></slot> </div> `}}E([M()],Cu.prototype,"isFooterEmpty",void 0),E([M()],Cu.prototype,"shouldContentScroll",void 0),E([O({type:Boolean,reflect:!0,attribute:"scrollable-content"})],Cu.prototype,"_scrollableContent",void 0),E([O({type:Boolean,reflect:!0,attribute:"auto-close"})],Cu.prototype,"autoClose",void 0),E([O({type:Boolean,reflect:!0,attribute:"auto-dock"})],Cu.prototype,"autoDock",void 0),E([F({slot:"title-graphic"})],Cu.prototype,"titleGraphic",void 0),E([F({slot:"footer",flatten:!0})],Cu.prototype,"footerSlot",void 0),E([F({slot:"primary-button",flatten:!0})],Cu.prototype,"primaryButtonSlot",void 0),E([F({slot:"secondary-button",flatten:!0})],Cu.prototype,"secondaryButtonSlot",void 0),E([F({slot:"tertiary-button",flatten:!0})],Cu.prototype,"tertiaryButtonSlot",void 0);var Tu=t`${Jc}:host{--scrollbar-background:var(--color-ui-modalbackground);display:flex;flex-direction:column;align-items:center;height:100%;position:relative;font-size:16px;box-sizing:border-box;max-height:inherit;min-height:inherit;overflow:auto;padding:0;background-color:var(--color-ui-modalbackground)}:host([appearance=modal]){border-radius:var(--rem16);box-shadow:var(--boxshadow-modal)}:host([appearance=bottom-sheet]){border-top-left-radius:var(--radius-md);border-top-right-radius:var(--radius-md);width:100%;max-height:calc(var(--bottom-sheet-expanded-height) - 1rem)}.modal-card-content{box-sizing:border-box;padding:var(--content-padding,var(--spacer-md));width:100%;display:flex;flex-direction:column;flex:1 1;overflow:auto}:host([appearance=bottom-sheet]) .modal-card-content{padding:0 var(--content-padding,var(--spacer-md)) var(--content-padding,var(--spacer-md))}:host([appearance=bottom-sheet]) .modal-card-content-docked{padding:0 var(--content-padding,var(--spacer-md)) 0}.header-action-container{display:inline-flex;position:absolute;top:0;right:0;margin:var(--content-padding,var(--spacer-md));z-index:2;gap:var(--spacer-xs)}:host([appearance=bottom-sheet]) .header-action-container{margin:0 var(--content-padding,var(--spacer-md)) var(--content-padding,var(--spacer-md))}.header-action-container.header-action-container-floating{margin:var(--content-padding,var(--spacer-md)) calc(var(--content-padding,var(--spacer-md)) + var(--modal-card-scrollbar-width)) var(--content-padding,var(--spacer-md))}:host([appearance=bottom-sheet]) .header-action-container.header-action-container-floating{margin:0 calc(var(--content-padding,var(--spacer-md)) + var(--modal-card-scrollbar-width)) var(--content-padding,var(--spacer-md))}slot:not([name]){padding:var(--spacer-xs) 0;font-size:var(--rem14);display:flex;flex-direction:column}:host([scrollable-content]) slot:not([name]){display:contents}:host([scrollable-content]) slot:not([name])::slotted(.rpl-modal-card-scrollable){min-height:0;flex-shrink:1;overflow:auto}slot[name=title]{font-size:var(--rem18);font-weight:700;text-align:left}slot[name=tertiary-button]{font-size:14px;text-align:center}slot[name=close-button],slot[name=dock-button]{display:inline-flex;transition:transform .2s;transform-origin:center}slot[name=dock-button].dock-button-docked{transform:rotate(180deg)}.modal-card-close-button-floating slot[name=close-button],.modal-card-close-button-floating slot[name=dock-button]{box-shadow:var(--elevation-sm);border-radius:999px}.modal-card-header{display:flex;gap:var(--spacer-sm);width:100%;max-width:calc(100% - var(--spacer-3xl));box-sizing:border-box;text-align:left}:host([appearance=bottom-sheet]) .modal-card-header{padding-bottom:var(--rem8)}.modal-card-header,.modal-card-header-with-icon{flex-direction:row;padding:0 var(--spacer-2xl) 0 0}.modal-card-header-with-collapse{padding:0 5rem 0 0}.modal-card-footer{display:flex;flex-direction:column;width:100%;background:var(--color-ui-modalbackground);padding:var(--spacer-md);box-sizing:border-box;gap:var(--spacer-sm)}.modal-card-footer-empty{display:none}.modal-card-footer-sticky{box-shadow:var(--elevation-md)}.primary-secondary-button-container{gap:var(--spacer-sm);display:flex;flex-direction:column}@media (min-width:640px){:host([appearance=bottom-sheet]) slot[name=tertiary-button],:host([appearance=modal]) slot[name=tertiary-button]{align-items:center}:host([appearance=bottom-sheet]) .modal-card-footer,:host([appearance=modal]) .modal-card-footer{flex-direction:row;align-items:center;justify-content:space-between}:host([appearance=bottom-sheet]) .primary-secondary-button-container,:host([appearance=modal]) .primary-secondary-button-container{flex-direction:row;margin-left:auto}}`;let wu=class extends Cu{};wu.styles=Tu,wu=E([P("rpl-modal-card")],wu);let Iu=0;var Au;!function(e){e.Enabled="Enabled",e.Pending="Pending",e.NoServiceWorker="NoServiceWorker",e.NoPushManager="NoPushManager",e.NoSubscription="NoSubscription",e.NoNotificationAPI="NoNotificationAPI",e.Blocked="Blocked",e.Error="Error"}(Au||(Au={}));const Pu=e=>qt({source:"notification_system_settings",action:e,noun:"push_notifications"});let Ru=!1;function Ou(...e){document.querySelector("shreddit-app")?.trackEvent(qt(...e))}async function Mu(e=!1,t=navigator.serviceWorker){const o=await(t?.getRegistration());if(!o)return!1;let n=await o.pushManager.getSubscription();if(n&&!e)return!0;const i={userVisibleOnly:!0,applicationServerKey:"BJ2nJR9HeBwCWe4s7bKfKgWZkx2Q8Q59yBdSVLxWIhPaWuzHDUxQ2YJnhLvbAVujWBZYuQv60V6a6oipSw09FT0"};Ru=!0;try{return Ou({source:"notification",action:"request",noun:"pushToken"}),n=await o.pushManager.subscribe(i),n?(await async function(e){if(!(await tc({operation:Jl.RegisterPushToken,variables:{pushToken:e,language:document.documentElement.lang||Na["en-US"],timezoneName:Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Los_Angeles",timestamp:(new Date).toISOString()}})).data.registerWebPushToken?.ok)throw new Error("Error registering push token");Ss.setItem("push-token-last-refresh-ms",Date.now().toString())}(JSON.stringify(n)),Ou({source:"notification",action:"register",noun:"pushToken"}),!0):!1}catch{return Ou({source:"notification",action:"bail",noun:"pushToken"}),!1}finally{Ru=!1}}const Nu=()=>"Notification"in globalThis&&void 0!==globalThis.Notification?Notification:null;async function Du(e=navigator.serviceWorker){const t=await e.getRegistration(),o=(await(t?.pushManager.getSubscription()))?.unsubscribe();return o&&Ou(Pu("disable")),o}async function Lu(e=navigator.serviceWorker,t=Nu()){if(!t)return Au.NoNotificationAPI;try{await Fu.promise;const o=await(e?.getRegistration());if(!o)return Au.NoServiceWorker;if(!o.pushManager)return Au.NoPushManager;if("denied"===t.permission)return Au.Blocked;if("default"===t.permission)return Au.Pending;return await o.pushManager.getSubscription()?Au.Enabled:Ru?Au.Pending:Au.NoSubscription}catch{return Au.Error}}async function Uu(e=navigator.serviceWorker,t=Nu()){if("denied"===t.permission)return await ku(),!1;const o=await t.requestPermission();if("granted"===o){const t=await Mu(!1,e);return t&&Ou(Pu("enable")),t}return"denied"===o&&(await ku(),!1)}function ku(){return async function(e){let t=null;const n=`alert-dialog-${Iu}`,i=e.closeText||"Close dialog",s=e.okText||"Ok",a=e=>{e.stopPropagation(),t?.hide()},r=o`<rpl-modal-card> ${e.title?o`<h2 slot="title" class="text-16 font-semibold">${e.title}</h2>`:l} <p>${e.text}</p> <div slot="primary-button"> ${je({children:s,appearance:"primary",attributes:{"aria-label":s,onclick:a}})} </div> <div slot="close-button"> ${je({appearance:"secondary",shape:"pill",leadingIcon:p({size:m.Small}),size:Be.Small,attributes:{"aria-label":i,onclick:a}})} </div> </rpl-modal-card>`,d=document.createDocumentFragment();h(o`<rpl-dialog open id="${n}" dialog-id="${n}" label="${e.title}" .litTemplateChildren="${r}"></rpl-dialog>`,d),Iu++,document.body.appendChild(d),t=document.querySelector(`rpl-dialog#${n}`),t.showModal(),await new Promise((e=>{t?.addEventListener("rpl-dialog:after-hide",(()=>e()),{once:!0})})),t.remove()}({title:"Notifications Disabled",text:"Use your browser settings menu to allow notifications for this site."})}let xu=!1;const Fu=new ie,Bu=(e=navigator.serviceWorker)=>{if(!e)return;const t=document.getElementsByTagName("shreddit-app")?.[0],o={action_info:{page_type:os()},screen:{height:window?.screen.height,width:window?.screen.width},referrer:Vt(t?.getAttribute("referrer")||document.referrer,window.location.href)};e.controller?.postMessage({command:"registerClient",v2EventBoilerPlate:o,disablePNs:"true"===t?.getAttribute("disable-pns")})},Vu=(e=navigator.serviceWorker)=>{e?.addEventListener("message",(t=>{const{data:o}=t;switch(o.command||o.type){case"registerWithServiceWorker":return Bu(e)}}))},Gu=new ie;window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),Gu.resolve(e)}));const Wu=()=>Gu.promise;window.addEventListener("appinstalled",(()=>{const e=qt({source:"mweb",action:"install",noun:"pwa"});document.querySelector("shreddit-app")?.trackEvent(e)}));const Hu=(e=window)=>!!e.matchMedia?.("(display-mode: standalone), (display-mode: minimal-ui), (display: window-controls-overlay)").matches,$u="report";let qu=null,Yu=class extends e{constructor(){super(...arguments),this._activatedFeatures=new Set,this.pubSubController=new kn(this),this._onFeatureActivated=e=>{this.registerFeatureActivation(e.name)}}connectedCallback(){super.connectedCallback(),qu=this;const e=this.dataset.activatedFeatures?.split("|").filter((e=>e))??[];this._activatedFeatures=new Set(e),this.pubSubController.subscribe(en.FeatureActivated,this._onFeatureActivated,!1)}_refreshDataset(){this.dataset.activatedFeatures=Array.from(this._activatedFeatures).join("|")}registerFeatureActivation(e){this._activatedFeatures.add(e),this._refreshDataset()}hasFeatureBeenActivated(e){return this._activatedFeatures.has(e)}};Yu=E([P("shreddit-activated-feature-meta")],Yu);const ju=e=>!!qu&&qu.hasFeatureBeenActivated(e),Ku=new Set;window.addEventListener("beforeRoute",(()=>{Ku.clear()}));const Qu=async({name:e,queryParams:t,routeParams:o,bodyParams:n,renderMode:i,root:s=document})=>{const a=s.querySelector(`faceplate-loader[name=${e}]`),r=s.querySelector(`faceplate-iframe[name=${e}], faceplate-partial[name=${e}]`),d=r instanceof xe,l=d&&i&&i!==pe.Replace;if((Ku.has(e)||ju(e))&&!l)return;if(!r)throw new Error(`${e} not found`);if(a&&r&&a.nextElementSibling!==r)throw new Error(`Both loader and loader element for ${e} was found, but they are not siblings`);if(a&&a?.loading!==ce.Programmatic||r?.loading!==ce.Programmatic)throw new Error(`${e} cannot be activated`);const c=r.src,u=d?r.renderMode:void 0,h=new URLSearchParams(t).toString();if(h){const e=r.src.includes("?");r.src=`${r.src}${e?"&":"?"}${h}`}if(o)for(const e in o){const t=o[e];r.src=r.src.replace(`/:${e}`,t?`/${t}`:"")}const p=r.getAttribute("method");n&&(r.setAttribute("method",he.Post),Object.entries(n).forEach((([e,t])=>{const o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.setAttribute("value",t),r.appendChild(o)}))),i&&d&&(r.renderMode=i),l||Ku.add(e);const m=await Promise.allSettled([a?.load(),r.load()]);return l&&(r.src=c,u&&(r.renderMode=u),p?r.setAttribute("method",p):null===p&&r.removeAttribute("method")),xn(en.FeatureActivated,{name:e}),xn(`activate-${e}`),m},zu="AchievementsModal_W1BJpN",Ju="AchievementsProgressToast_6M6xx1",Xu="AddAmaCollaboratorsModal_BvmjY3",Zu="AwardDialog_GzBkf2",eh="AwardGoldPurchase_2vyXH0",th="CommentDeletionModal_NHxzSQ",oh="CommentShareMenu_G1sJ5P",nh="CommunityAppearanceMenuContent_cX3DcT",ih="CommunityCreationFlow_qKTVdG",sh="CommunityHighlightEditModal_mWj1xn",ah="CommunityHighlightManageModal_X8NVJB",rh="CommunityListModal_cWH9Dd",dh="CommunitySubscriptionPurchaseDialog_pFCmLZ",lh="CommunityWidgetEditModal_GxQLgk",ch="CtlReporting_Nn03Ds",uh="CustomFeedAddModal_GPgCvP",hh="CustomFeedEditDetailsModal_1tH02m",ph="DevvitPrivacyModal_n98hrb",mh="ExplainerDialog_Psng26",gh="FlairReorderModal_BhtyTj",fh="GuidesConfirmationModal_6mWYhL",_h="KlpShareMenu_L4BQCJ",vh="LeadGenDialog_4ym4rB",Eh="ManageSubscriptionsListDialog_fGNPSg",bh="ModActionsSummary_clnskQ",yh="ModActivityPreviewHovercard_QsHM7h",Sh="ModLogTakedownPreview_sL20RW",Ch="ModQueueActivityPanel_wWhGwy",Th="ModQueuePdp_JyX3BC",wh="ModRulesItems_pvKs2G",Ih="ModUserNotes_V4JnwL",Ah="ModUserOverview_qJnHZL",Ph="ModUserPosts_hP2nPl",Rh="ModUserProfileComments_QC2gD0",Oh="ModUserSingleNote_V4JnwO",Mh="PostDeletionModal_dTjGQh",Nh="PostLevelCrowdControlFormContent_Vy24nw",Dh="PremiumModal_r1FXhv",Lh="PromotePostInsightsPanel_MnMmHF",Uh="PromotePostModal_kKSj67",kh="PurchaseDialog_Ytnr5G",xh="PurchaseGold_tMQ0Qf",Fh="RedditChat_0nn1mJ",Bh="ReportFlow_sBPX0C",Vh="ReportForm_N0yZlW",Gh="SavedResponsesReorderModal_TkNsVJ",Wh="ShareMenu_tv6gfD",Hh="SubredditMuteModal_VT4PHZ",$h="SubredditPostingEligibilityModalActivatable_v3LpNz",qh="TemporaryEventsPresets_BVPM81",Yh="UpdatePostFlairModal_0lB6xr",jh="UserFlairAssignModal_bRnWkC",Kh="UserManagementRightPanel_CKVp5T",Qh="WhereToPost_rYDLdr";function zh(e,t,o){return e.some((e=>{const[n,i]=e.split(":");return t===n&&(!i||o===i)}))}let Jh=Qu;const Xh=Symbol("mixins/with-overlays");let Zh=window.location;class ep extends Ei{report(e){if("network"===e.alertDetails?.kind){const t=zl(e.alertDetails.response);return super.report({...e,message:t})}return super.report(e)}}const tp=function(e){if(kt(e,Dl))return e;class t extends e{constructor(...e){super(...e),this.canLoadRequests=!1,this._canLoadRequests=!1,this.resolvePendingRequests=()=>{this._canLoadRequests=!0,this._pendingRequestsResolver?.()},this.pauseIncomingRequests=()=>{this._canLoadRequests=!1};const t=[];new Promise((e=>{this._pendingRequestsResolver=e})).then((()=>{t.forEach((([e,t])=>{e(t)}))})),window.fetch=new Proxy(window.fetch,{apply:(e,o,[n,i])=>{const s=i?.headers?.Accept?.includes("text/vnd.reddit.partial+html")||"string"==typeof n&&n.includes("render-mode=partial")||n instanceof URL&&n.search.includes("render-mode=partial");return this._canLoadRequests||!s?e(n,i):new Promise((o=>{t.push([o,e(n,i)])}))}}),window.Response=new Proxy(window.Response,{construct(e,[t,o]){const n=Reflect.construct(e,[t,o]);return(o?.headers instanceof Headers&&o?.headers?.has("x-verified-res")||o?.headers?.["x-verified-res"])&&n.headers.delete("x-verified-res"),n}}),window.Headers.prototype.set=new Proxy(window.Headers.prototype.set,{apply(e,t,[o,n]){if("x-verified-res"!==o)return Reflect.apply(e,t,[o,n])}})}connectedCallback(){super.connectedCallback(),this._canLoadRequests=this.canLoadRequests}}return t[Dl]=!0,E([O({type:Boolean,attribute:"can-load-requests"})],t.prototype,"canLoadRequests",void 0),t}(function(e){var t;return sl in e?e:((t=class extends e{constructor(){super(...arguments),this.supportsDvh=!1,this._cleanupDvhPolyfill=()=>{},this._updateHeight=()=>{this._setDynamicViewportUnit((document.documentElement.clientHeight/100).toFixed(1)+"px")},this._updateHeightDebounced=il(this._updateHeight,50)}connectedCallback(){super.connectedCallback(),this.supportsDvh=CSS.supports("height: 100dvh"),this._polyfillDvh()}disconnectedCallback(){super.disconnectedCallback(),this._cleanupDvhPolyfill()}_polyfillDvh(){if(this.supportsDvh)this._setDynamicViewportUnit("1dvh");else{const e=window.matchMedia?.("(orientation: landscape)");e?.addEventListener?.("change",this._updateHeightDebounced),window.addEventListener("resize",this._updateHeightDebounced),this._updateHeight(),this._cleanupDvhPolyfill=()=>{window.removeEventListener("resize",this._updateHeightDebounced),e?.removeEventListener?.("change",this._updateHeightDebounced)}}}_setDynamicViewportUnit(e){document.documentElement.style?.setProperty?.("--dvh-unit",e),document.documentElement.style?.setProperty?.("--viewport-height","calc(calc(var(--dvh-unit) * 100))")}})[sl]=!0,t)}(function(e){if(kt(e,Fn))return e;class t extends e{constructor(){super(...arguments),this._windowEvents=new W(this,(()=>window)),this._cache=new Map,this.subscribers=new Map,this.registerSubscriber=this._windowEvents.define("pubsub-subscribe",(e=>{const{topic:t,subscriber:o,readCache:n,readCacheOnce:i}=e.detail;this.getOrCreateTopicSubs(t)?.add(o),n&&this._cache.has(t)&&(o(this._cache.get(t)),i&&this._cache.delete(t))})),this.unregisterSubscriber=this._windowEvents.define("pubsub-unsubscribe",(e=>{const{topic:t,subscriber:o}=e.detail;this.getOrCreateTopicSubs(t)?.delete(o)})),this.publish=this._windowEvents.define("pubsub-publish",(e=>{const{topic:t,data:o}=e.detail;this.getOrCreateTopicSubs(t).forEach((e=>e(o))),this._cache.set(t,o)}))}getOrCreateTopicSubs(e){return this.subscribers.has(e)||this.subscribers.set(e,new Set),this.subscribers.get(e)}}return t[Fn]=!0,t}(Ft(function(e){if(kt(e,Xh))return e;class t extends e{goToMweb(){Zh.href=`${CLIENT_CONFIG.ORIGIN}/register/`}getAuthFlowManager(){return document.querySelector("auth-flow-manager")}constructor(...e){super(...e),this.isUserLoggedIn=!1,this._overlayEvents=new W(this),this.displays=[],this.handleLoggedInAction=async(e,t)=>{if(!this.isUserLoggedIn)if(window.navigator.onLine){await this.displayAuthFlow({...e.detail,...t})||this.goToMweb()}else this.showBrowserOfflineToast()},this.onLoggedInAction=(e,t)=>{const o=this.getActionSourceFromEvent(e),n=e.detail?.thingType,i=e.detail?.username,s=e.detail?.subreddit_name;this.handleLoggedInAction(e,{...t,...n?{thingType:n}:{},...i?{username:i}:{},...s?{subredditName:s}:{},actionSource:o})},this.handleFaceplateTrack=(e,t)=>{const o=Xe(e.detail);zh(Pt,o)&&this.handleLoggedInAction(e,{...t,actionSource:this.getActionSource(e.detail?.action,e.detail?.noun),san:o})},this.handleEventTrack=e=>{const t=Xe(e.detail.details),o=e.detail.details?.popup?.button_text;zh(Pt,t,o)&&this.handleLoggedInAction(e,{actionSource:this.getActionSource(e.detail?.details?.action,e.detail?.details?.noun),san:t})},this.registerDisplay=this._overlayEvents.define("register-overlay-display",(e=>{const t=e.detail.display;-1===this.displays.indexOf(t)&&this.displays.push(t)})),this.unregisterDisplay=this._overlayEvents.define("unregister-overlay-display",(e=>{const t=e.detail.display,o=this.displays.indexOf(t);-1!==o&&this.displays.splice(o,1)})),this.dismissOverlay=this._overlayEvents.define("dismiss-overlay",(()=>{for(const e of this.displays)e.dismissOverlay()})),this._overlayEvents.define(It.upvote,this.onLoggedInAction),this._overlayEvents.define(It.upvoteTry,this.onLoggedInAction),this._overlayEvents.define(It.downvote,this.onLoggedInAction),this._overlayEvents.define(It.downvoteTry,this.onLoggedInAction),this._overlayEvents.define(It.reply,this.onLoggedInAction),this._overlayEvents.define(It.join,this.onLoggedInAction),this._overlayEvents.define(It.signup,this.onLoggedInAction),this._overlayEvents.define(It.save,this.onLoggedInAction),this._overlayEvents.define(It.follow,this.onLoggedInAction),this._overlayEvents.define(It.awards,this.onLoggedInAction),this._overlayEvents.define(It.purchaseProduct,this.onLoggedInAction),this._overlayEvents.define(It.vaultLogin,this.onLoggedInAction),this._overlayEvents.define(It.report,this.onLoggedInAction),this._overlayEvents.define(It["devvit-action"],this.onLoggedInAction),this._overlayEvents.define(It["faceplate-track"],this.handleFaceplateTrack),this._overlayEvents.define(It["track-event"],this.handleEventTrack)}displayOverlay(e,t){let o=!1;for(const n of this.displays)n.displayOverlay(e,t),o=!0;return o}async displayAuthFlow(e={}){const t=this.getAuthFlowManager();if(t){if(At.includes(e.san??""))return t.show(Do.Login);try{if(t.hasStep(Do.LoggedInAction))return t.show(Do.LoggedInAction,{queryParams:e});{const t=new URLSearchParams(window.location.search).get("token")??void 0;return await Jh({name:"SignupDrawer_LcD4fG",renderMode:pe.Contents,queryParams:{...e,...t&&{token:t}}}),!0}}catch(o){return t.show(Do.Register,{queryParams:{thingId:e.thingId,actionSource:e.actionSource}})}}return this.displayOverlay("auth-flow",e)}showBrowserOfflineToast(){const e=V("faceplate-alert",{level:le.warning,message:"No internet connection. Please try again."});this.dispatchEvent(e)}getActionSource(e,t){if("click"===e)switch(t){case yt.UpvoteComment:return bt.Upvote;case yt.DownvoteComment:return bt.Downvote;case yt.ReplyComment:return bt.Reply;case yt.Report:return bt.Report}}getActionSourceFromEvent(e){return e.type===It.upvoteTry?bt.Upvote:e.type===It.downvoteTry?bt.Downvote:e.type}}return t[Xh]=!0,t}(e))))),op=()=>{},np=[Ul.FIRST_CONTENTFUL_PAINT,...kl];let ip=class extends tp{get csrfProviderToken(){return Ln.get("csrf_token")??""}constructor(){super(),this.isUserLoggedIn=!1,this.isBfCacheRestore=!1,this.isNavigationControllerRestore=!1,this.isFlexNavigation=!1,this.translationContextValue=Oa,this.prefetch=!1,this.debug=!1,this.isBlank=!1,this.routeName="",this.actionInfoHydration={},this.serverRenderId="",this.correlationId="",this.feedCorrelationId="",this.loid="",this.canonicalUrl="",this.deviceType=bi.MOBILE,this.referrer=document.referrer,this.referrerType=yi.Reddit,this.country="US",this.browser="unknown",this.isCanary=!1,this.shouldDisableSendBeacon=!1,this.shouldUpdateRecaptcha=!1,this.useLocalStorageEventsCaching=!1,this.shouldTrackAppInstalled=!1,this.appName=Ki,this.shouldObservePerformance=!1,this.release="unknown",this.moreCommentsRoute="",this._moreCommentsRoute="",this.microAppName="unknown",this.microAppPool="unknown",this.microAppDeployment="unknown",this.clientHash="",this.skipStylingOverrideFetch=!1,this.commentsPartialSSR="",this.devvitAllowNavigation=!1,this.disablePNs=!1,this.reportTranslationMetrics=!1,this.hasNonImmersiveTranslations=!1,this.userLanguage="",this.perfMetrics={},this.ttfb_fcp_sent=!1,this.lcp_sent=!1,this.cls_sent=!1,this.inp_sent=!1,this.success=!0,this.screenViewData={},this._events=new W(this),this._v2Events=new ui(this,(()=>{})),this._alertReporter=new ep(this),this._screenReaderAlertReceiver=new Bl(this),this._w3Reporter=new qs(this,(()=>({auth_state:this.isUserLoggedIn?"logged_in":"logged_out",browser:this.browser,deployment_type:this.isCanary?"canary":"main",device_type:this.deviceType,page_type:(this.pageType??"").toLowerCase(),referrer_type:this.referrerType}))),this._visibilityChange=new gr(this),this._navigationController=new Sl(this),this._alertsBuffer=[],this._connectBufferTimeMs=2500,this._isAlertBuffering=!0,this.updateTranslationContextCookie=()=>{ql({country:this.country,name:"reddit_translation_status",value:JSON.stringify(this.translationContextValue),options:ga})},this.handleOnline=()=>{window.removeEventListener("faceplate-alert",op);Array.from(document.querySelectorAll("faceplate-toast")).forEach((e=>e.remove()))},this.handleOffline=()=>{this._alertReporter.report({level:le.error,message:"You seem to be offline. Connect to the internet to reload."}),window.addEventListener("faceplate-alert",op)},this.handleFaceplateTrack=e=>{const t=e.detail,o={...qt(t),action_info:{...t.action_info,page_type:t.action_info?.page_type||this._getPageType()}};this._handleEvent(o),this._logIfMissingCorrelationId(o,"faceplate-track")},this.handleUpdateTranslationContext=e=>{if(this.hasNonImmersiveTranslations)return;const t=e?.detail;t&&"object"==typeof t&&(this.translationContextValue={...this.translationContextValue,...t},this.updateTranslationContextCookie())},this.toggleSidebar=this._events.define("logo-click",(()=>{this.classList.toggle("sidebar-open")})),this.onPageHide=()=>{Os(this._moreCommentsRoute)},this.onPageShow=async e=>{const t=performance.getEntriesByType("navigation").some((e=>"back_forward"===e.type))||performance.navigation.type===PerformanceNavigation.TYPE_BACK_FORWARD,o=e.persisted,n=await this._w3Reporter.getW3ReportSender();t&&(this.isBfCacheRestore=o,n({name:"shreddit_page_shows_total",type:br.Counter,value:1,labels:{browser:this.browser,cached:`${o}`,auth_state:this.isUserLoggedIn?"logged_in":"logged_out",page_type:this._getPageType()}}))},this.updateCorrelationIdsFromStorage=()=>{let e={};try{e=JSON.parse(this.dataset.faceplateTrackingContext||"{}")}catch(e){window.Sentry?.captureException?.(e)}try{const t=window.sessionStorage.getItem("correlationId"),o=window.sessionStorage.getItem("feedCorrelationId");t&&(this.correlationId=t,window.sessionStorage.removeItem("correlationId")),o&&(this.feedCorrelationId=this.feedCorrelationId||o,window.sessionStorage.removeItem("feedCorrelationId"));const n={correlation_id:this.correlationId,...this.feedCorrelationId?{feed:{correlation_id:this.feedCorrelationId}}:{}};Ze(n,e),this.dataset.faceplateTrackingContext=JSON.stringify(n)}catch(e){window.Sentry?.captureException?.(e)}},this.isErrorPage=()=>!!(document.querySelector("shreddit-forbidden")||document.querySelector("guard-community-modal")||document.querySelector(".subreddit-content-error")),this.initScreenViewData=()=>{try{const e=this.querySelector("shreddit-screenview-data")?.getAttribute("data")||"{}";this.screenViewData=JSON.parse(e)}catch(e){console.error("invalid screenview data")}},this.onFaceplateRequest=e=>{this.addCSRFToken(e);const{body:t}=e.detail.request;if(t?.meta&&(t.meta.page_not_found=""),"/svc/shreddit/perfMetrics"===e.detail.resource){t.meta={...t.meta,route_name:this.routeName,page_type:this.pageType||"",prefetch:this.prefetch.toString(),microapp_name:this.microAppName,device_type:this.deviceType,is_ssr:this.commentsPartialSSR?this.commentsPartialSSR:"unknown"},this.success=!this.isErrorPage();!!document.querySelector("shreddit-forbidden[not_found]")&&(t.meta.page_not_found=1);const o=this.getPerformanceAttribution(t);this.handleWebVitalW3Reporting(t.metrics,{hybrid:!1,attribution:o}),this.batchPerfV2Event(t.metrics,{attribution:o}),Object.keys(t.metrics).every((e=>!np.includes(e)))&&e.preventDefault()}},this.onPixelFired=e=>{const t={level:le.debug,name:"pixel",meta:e.detail};!this._alertReporter.report(t)&&this._isAlertBuffering&&this._alertsBuffer.push(t)},this._enrichScreenView=this._events.define("screenview-data-loaded",(e=>{this.screenViewData=e.detail})),this._updateCanonicalUrl=this._events.define("canonical-url-updated",(e=>{this.canonicalUrl=e.detail})),this._firstCommentUpdate=this._events.define("first-comment-updated",(()=>{const e=this.querySelector("faceplate-partial.lb-lazy-preload");e&&e.classList.remove("hidden")})),this._pageviewUnsuccessful=this._events.define("unsuccessful-pageview",(()=>{this.success=!1})),this._handleEvent=e=>{if(this.shouldOmitRblGVS(e))return;Ps(e,this._moreCommentsRoute);let t={};if(this.debug)try{t=JSON.parse(document.getElementById("debug-event-data")?.value??"{}")}catch(e){console.error("Unable to parse JSON from `debug-event-data`.")}const o=function(e,t){const o=Rn(e);o||(t.user_preferences?.language,t.platform?.language_list,t.platform?.primary_language,t.platform?.browser_name,t.platform?.browser_version),o||On(e)||t.request?.edgebucket;const n={...e,app:{...t.app},user_preferences:{...e.user_preferences,...t.user_preferences},user:{...e.user,...t.user},request:{...e.request,...t.request},platform:{...e.platform,...t.platform},session:{...e.session,...t.session},uuid:bn()};return n.user_preferences&&!Object.keys(n.user_preferences).length&&(n.user_preferences={}),n.platform&&!Object.keys(n.platform).length&&(n.platform={}),o&&e.pwa?.installed&&(n.platform.browser_name="pwa"),n}(e,t),n={level:le.debug,name:"v2event",meta:JSON.stringify({...o})};!this._alertReporter.report(n)&&this._isAlertBuffering&&this._alertsBuffer.push(n)},this._logIfMissingCorrelationId=(e,t)=>{try{const o=te(this,"faceplateTrackingContext");e.correlation_id||window.Sentry?.captureMessage?.(`${t} missing correlation-id`,{tags:{connected:this.isConnected,updated:this.hasUpdated,event:`${e.source}|${e.action}|${e.noun}`,correlationId:!!this.correlationId,faceplateTrackingCorrelationId:!(!o||!o.correlation_id)}}),this.feedCorrelationId&&!e.feed?.correlation_id&&window.Sentry?.captureMessage?.(`${t} missing correlation-id`,{tags:{connected:this.isConnected,updated:this.hasUpdated,event:`${e.source}|${e.action}|${e.noun}`,feedCorrelationId:!!this.feedCorrelationId,faceplateTrackingFeedCorrelationId:!(!o||!o.feed?.correlation_id)}})}catch(e){window.Sentry?.captureMessage?.(`Error reporting on ${t} with missing correlation_id: ${e.message}`)}},this._trackEvent=this._events.define("track-event",(async e=>{const t=this._addEventDetails(e);this._handleEvent(t),this._logIfMissingCorrelationId(t,"track-event")})),this._getPageType=()=>(this.pageType??"").toLowerCase(),this._onLoadEmbed=this._events.define("on-load-embed",(()=>{var e;this.trackEvent((e=this.screenViewData,qt({source:tt.Global,action:ot.Load,noun:et.Embed},e)))})),this._onEmbedClicked=this._events.define("on-embed-clicked",(e=>{this.trackEvent(((e,t)=>{const o={...e,action_info:{...e?.action_info,type:Bi.Whitespace}};return t?.post&&(o.post=t.post),t?.action_info?.position&&(o.action_info.position=t.action_info.position),qt({source:tt.Global,action:ot.Click,noun:et.Embed},o)})(this.screenViewData,e.detail.details))})),this._onEmbedEntrypointClicked=this._events.define("on-embed-entrypoint-clicked",(e=>{this.trackEvent(((e,t)=>{const o={...e};return t?.comment&&(o.comment=t?.comment),qt({source:tt.Share,action:ot.Click,noun:et.SnippetEmbed},o)})(this.screenViewData,e.detail.details))})),this._onEmbedEntrypointViewed=this._events.define("on-embed-entrypoint-viewed",(e=>{this.trackEvent(((e,t)=>{const o={...e,action_info:{...e?.action_info,type:Bi.HighlightTextComponent}};return t?.comment&&(o.comment=t?.comment),qt({source:tt.Share,action:ot.View,noun:et.HighlightMenu},o)})(this.screenViewData,e.detail.details))})),this._storeCorrelationId=this._events.define("store-correlation-id",(()=>{try{this.correlationId&&window.sessionStorage.setItem("correlationId",this.correlationId)}catch(e){window.Sentry?.captureException?.(e)}})),this._storeFeedCorrelationId=this._events.define("store-feed-correlation-id",(()=>{try{this.feedCorrelationId&&window.sessionStorage.setItem("feedCorrelationId",this.feedCorrelationId)}catch(e){window.Sentry?.captureException?.(e)}})),this.addEventListener("update-translation-context",this.handleUpdateTranslationContext),this.addEventListener("faceplate-request",this.onFaceplateRequest),window.addEventListener("pixelFired",this.onPixelFired),window.addEventListener("faceplate-track",this.handleFaceplateTrack),window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline),window.addEventListener("beforeRoute",(()=>Os(this._moreCommentsRoute))),this.initScreenViewData();const e=this.querySelector("shreddit-canonical-url-updater");this.canonicalUrl=e?.getAttribute("value")??"",this._setTimeoutForAlertBuffer()}static get styles(){return[ze,Ke(":host {\n  display: block;\n}\n")]}render(){return this.isBlank?o`<devvit-effect-wrapper loid="${this.loid}" ?devvitAllowNavigation="${this.devvitAllowNavigation}"> <slot></slot> </devvit-effect-wrapper>`:o` <devvit-effect-wrapper loid="${this.loid}" ?devvitAllowNavigation="${this.devvitAllowNavigation}"> <slot></slot> </devvit-effect-wrapper> `}connectedCallback(){super.connectedCallback(),new Ad(this),this.updateCorrelationIdsFromStorage(),window.addEventListener("pageshow",this.onPageShow),window.addEventListener("pagehide",this.onPageHide),this.isFlexNavigation=!!document.querySelector("flex-left-nav-container"),this._moreCommentsRoute=this.moreCommentsRoute,this.removeAttribute("more-comments-route"),wd.deviceType=this.deviceType,this.success=!this.isErrorPage(),this.initScreenViewData(),this._visibilityChange.trackScreenview(),Ll()&&!document.documentElement.classList.contains("theme-dark")&&document.documentElement.classList.add("theme-dark"),this.skipStylingOverrideFetch||(this.styleOverrideController=new Id(this)),this.shouldTrackAppInstalled&&(async(e=window)=>qt({source:"onboarding",action:"check",noun:"app_install"},{action_info:{type:await Gl(e)}}))().then((e=>this.trackEvent(e))),(async(e,t=window)=>{if(Hu(t)&&(ql({name:"pwa",value:"1",country:e,options:ga}),!Ss.getItem("pwa-pn-prompt"))){const e=await Lu();[Au.Pending,Au.NoSubscription].includes(e)&&(Uu(),Ss.setItem("pwa-pn-prompt",`${Date.now()}`))}})(this.country),this.pageType!==cn.Embed&&(async(e=navigator.serviceWorker)=>{const t=window.CLIENT_EXPERIMENTS??{},o="enabled"===t.shreddit_service_worker_registration;if("enabled"===t.shreddit_service_worker_killswitch){const t=await(e?.getRegistrations());for(const e of t)e.unregister()}else if(o){try{const t=await(e?.register("/sw.js",{type:"module",updateViaCache:"all"}));Fu.resolve(t)}catch(e){return void Fu.reject(e)}Bu(e),Vu(e),xu||(window.addEventListener("afterRoute",(()=>Bu(e))),xu=!0)}})().then((()=>{!async function(e=navigator.serviceWorker,t=Nu()){if(await Lu(e,t)!==Au.Enabled)return!1;const o=Number(Ss.getItem("push-token-last-refresh-ms")??"0");!(Date.now()-o<144e5)&&Mu(!0,e)}()})),this.reportTranslationMetrics&&(this._translationMetricsController=new Nl(this))}willUpdate(e){this.hasUpdated&&(e.has("correlationId")||e.has("feedCorrelationId"))&&this.updateCorrelationIdsFromStorage()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pageshow",this.onPageShow),window.removeEventListener("pagehide",this.onPageHide),window.removeEventListener("pixelFired",this.onPixelFired),window.removeEventListener("faceplate-track",this.handleFaceplateTrack),window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}getPerformanceAttribution(e){return Object.keys(e.metrics).reduce(((t,o)=>{const n=e.meta[o]??{};if(o===Ul.LARGEST_CONTENTFUL_PAINT&&!this.lcp_sent){const{lcpEntry:e,timeToFirstByte:t}=n;n.expectedLcpElement=Qn(e?.element),"number"==typeof t&&(n.expectedLcpTtfb=Math.round(t))}return Object.assign(t,{[o]:n})}),{})}addCSRFToken(e){const t=e.detail.request.body;t&&("function"!=typeof t.append?Object.getPrototypeOf(t)===Object.getPrototypeOf({})&&(t.csrf_token=this.csrfProviderToken):t.append("csrf_token",this.csrfProviderToken))}trackClickWordmark(){this.trackEvent(ks())}buildPerfEvent(e,t){const o={source:"client",action:"record",noun:e,perf_metrics:t,action_info:{page_type:this.pageType}};return this._visibilityChange._screenviewId&&(o.screenview_id=this._visibilityChange._screenviewId),o}batchPerfV2Event(e,{attribution:t}){const o={...this.perfMetrics,...e};if(this.perfMetrics=o,this.debug&&(window.perfMetrics=this.perfMetrics),!this.ttfb_fcp_sent&&void 0!==o["first-contentful-paint"]&&void 0!==o["time-to-first-byte"]){const e={time_to_first_byte:o["time-to-first-byte"],first_contentful_paint:o["first-contentful-paint"]},t=this.buildPerfEvent("ttfb_fcp",e);this._handleEvent(qt(t)),this.ttfb_fcp_sent=!0}if(!this.inp_sent&&void 0!==o[Ul.INTERACTION_TO_NEXT_PAINT]){const e={interaction_to_next_paint:o[Ul.INTERACTION_TO_NEXT_PAINT]},t=this.buildPerfEvent("inp",e);this._handleEvent(qt(t)),this.inp_sent=!0}if(!this.cls_sent&&void 0!==o[Ul.CUMULATIVE_LAYOUT_SHIFT]){const e={cumulative_layout_shift_float:o[Ul.CUMULATIVE_LAYOUT_SHIFT]},t=this.buildPerfEvent("cls",e);this._handleEvent(qt(t)),this.cls_sent=!0}if(!this.lcp_sent&&void 0!==o[Ul.LARGEST_CONTENTFUL_PAINT]){const e={largest_contentful_paint:o[Ul.LARGEST_CONTENTFUL_PAINT]},{expectedLcpElement:n,expectedLcpTtfb:i}=t?.[Ul.LARGEST_CONTENTFUL_PAINT]??{};e.expected_lcp_element=n,null!=i&&(e.expected_lcp_ttfb=i);const s=this.buildPerfEvent("lcp",e);this._handleEvent(qt(s)),this.lcp_sent=!0}}handleWebVitalW3Reporting(e,{hybrid:t,attribution:o}){Object.entries(e).forEach((([e,n])=>{if(!(isFinite(n)&&n>0))return;const i={device_type:this.deviceType,is_logged_in:this.isUserLoggedIn?"true":"false",microapp_deployment:this.microAppDeployment,microapp_name:this.microAppName,microapp_pool:this.microAppPool,page_type:this.pageType||"",route_name:this.routeName,hybrid_nav:t?"true":"false",comments_lit_ssr:this.commentsPartialSSR?this.commentsPartialSSR:"unknown",flex_nav_m2:String(this.isFlexNavigation)};switch(e){case Ul.FIRST_CONTENTFUL_PAINT:this._w3ReportWebVital({name:"shreddit_first_contentful_paint_seconds",type:br.Histogram,value:n/1e3,labels:i});break;case Ul.LARGEST_CONTENTFUL_PAINT:{const{expectedLcpElement:e}=o?.[Ul.LARGEST_CONTENTFUL_PAINT]??{};i.expected_lcp_element=e,this._w3ReportWebVital({name:"shreddit_largest_contentful_paint_seconds",type:br.Histogram,value:n/1e3,labels:i});break}case Ul.TIME_TO_FIRST_BYTE:this._w3ReportWebVital({name:"shreddit_time_to_first_byte_seconds",type:br.Histogram,value:n/1e3,labels:i});break;case Ul.CUMULATIVE_LAYOUT_SHIFT:this._w3ReportWebVital({name:"shreddit_cumulative_layout_shift",type:br.Histogram,value:n,labels:i});break;case Ul.INTERACTION_TO_NEXT_PAINT:this._w3ReportWebVital({name:"shreddit_interaction_to_next_paint_seconds",type:br.Histogram,value:n/1e3,labels:i})}}))}_w3ReportWebVital(...e){return Nr(...e)}_isScreenview(e){return"global"===e.source&&"view"===e.action&&"screen"===e.noun}shouldOmitRblGVS(e){const t=Rn(e),o=e.action_info?.page_type===cn.AdsRblSurvey;return t&&o}_addEventDetails(e){const t=e.composedPath(),o=e.detail.details;for(const e of t)if(e instanceof HTMLElement){const t=te(e,"faceplateTrackingContext");t&&Ze(o,t)}return Ze(o,{action_info:{page_type:this._getPageType(),...this.actionInfoHydration},request:{canonical_url:this.canonicalUrl}}),o}_setTimeoutForAlertBuffer(){const e=e=>{this._isAlertBuffering&&(e.stopImmediatePropagation(),this._alertsBuffer.push(e.detail))},t=()=>{this._alertsBuffer=this._alertsBuffer.filter((e=>!this._alertReporter.report(e)))};this.addEventListener("faceplate-alert",e);const o=setInterval(t,250);setTimeout((()=>{clearInterval(o),t(),this.removeEventListener("faceplate-alert",e),this._isAlertBuffering=!1,this._alertsBuffer=[]}),this._connectBufferTimeMs)}};E([li({context:"logged-in"}),O({type:Boolean,attribute:"user-logged-in"})],ip.prototype,"isUserLoggedIn",void 0),E([li({context:"translation-context"}),M()],ip.prototype,"translationContextValue",void 0),E([O({type:Boolean})],ip.prototype,"prefetch",void 0),E([O({type:Boolean})],ip.prototype,"debug",void 0),E([O({type:Boolean})],ip.prototype,"isBlank",void 0),E([O({type:String})],ip.prototype,"routeName",void 0),E([O({type:String})],ip.prototype,"pageType",void 0),E([O({type:Object})],ip.prototype,"actionInfoHydration",void 0),E([O({type:String})],ip.prototype,"serverRenderId",void 0),E([O({type:String,attribute:"correlation-id",reflect:!0})],ip.prototype,"correlationId",void 0),E([O({type:String,attribute:"feed-correlation-id",reflect:!0})],ip.prototype,"feedCorrelationId",void 0),E([O({type:String})],ip.prototype,"loid",void 0),E([O({type:String})],ip.prototype,"canonicalUrl",void 0),E([O({type:String})],ip.prototype,"deviceType",void 0),E([O({type:String,attribute:"referrer"})],ip.prototype,"referrer",void 0),E([O({type:String,attribute:"referrer-type"})],ip.prototype,"referrerType",void 0),E([O({type:String,attribute:"country"})],ip.prototype,"country",void 0),E([O({type:String,attribute:"browser"})],ip.prototype,"browser",void 0),E([O({type:Boolean,attribute:"is-canary"})],ip.prototype,"isCanary",void 0),E([O({type:Boolean,attribute:"disable-send-beacon"})],ip.prototype,"shouldDisableSendBeacon",void 0),E([O({type:Boolean,attribute:"update-recaptcha"})],ip.prototype,"shouldUpdateRecaptcha",void 0),E([O({type:Boolean,attribute:"use-local-storage-events-caching"})],ip.prototype,"useLocalStorageEventsCaching",void 0),E([O({type:Boolean,attribute:"should-track-app-installed"})],ip.prototype,"shouldTrackAppInstalled",void 0),E([O({type:String,attribute:"app-name"})],ip.prototype,"appName",void 0),E([O({type:Boolean,attribute:"should-observe-performance"})],ip.prototype,"shouldObservePerformance",void 0),E([O({type:String,attribute:"release"})],ip.prototype,"release",void 0),E([O({type:String,attribute:"more-comments-route"})],ip.prototype,"moreCommentsRoute",void 0),E([O({type:String,attribute:"microapp-name"})],ip.prototype,"microAppName",void 0),E([O({type:String,attribute:"microapp-pool"})],ip.prototype,"microAppPool",void 0),E([O({type:String,attribute:"microapp-deployment"})],ip.prototype,"microAppDeployment",void 0),E([O({type:String,attribute:"clienthash"})],ip.prototype,"clientHash",void 0),E([O({type:Boolean,attribute:"skip-styling-override-fetch"})],ip.prototype,"skipStylingOverrideFetch",void 0),E([O({type:String,attribute:"comments-partial-ssr"})],ip.prototype,"commentsPartialSSR",void 0),E([O({type:Boolean,attribute:"devvit-allow-navigation"})],ip.prototype,"devvitAllowNavigation",void 0),E([O({type:Boolean,attribute:"disable-pns"})],ip.prototype,"disablePNs",void 0),E([O({type:Boolean,attribute:"report-translation-metrics"})],ip.prototype,"reportTranslationMetrics",void 0),E([O({type:Boolean,attribute:"has-non-immersive-translations"})],ip.prototype,"hasNonImmersiveTranslations",void 0),E([O({type:String,attribute:"user-language"})],ip.prototype,"userLanguage",void 0),E([M()],ip.prototype,"perfMetrics",void 0),ip=E([P("shreddit-app")],ip);g("shreddit-logo",'<svg xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 216 216"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    xml:space="preserve">\n      <defs>\n        <linearGradient id="orangeredGradient" gradientTransform="rotate(90)">\n          <stop offset="0%" stop-color="#FE7B0E"></stop>\n          <stop offset="100%" stop-color="#EF0A22"></stop>\n        </linearGradient>\n      </defs>\n      <defs>\n<style>\n  .snoo-cls-1 {\n    fill: url(#snoo-radial-gragient);\n  }\n\n  .snoo-cls-1, .snoo-cls-2, .snoo-cls-3, .snoo-cls-4, .snoo-cls-5, .snoo-cls-6, .snoo-cls-7, .snoo-cls-8, .snoo-cls-9, .snoo-cls-10, .snoo-cls-11 {\n    stroke-width: 0px;\n  }\n\n  .snoo-cls-2 {\n    fill: url(#snoo-radial-gragient-2);\n  }\n\n  .snoo-cls-3 {\n    fill: url(#snoo-radial-gragient-3);\n  }\n\n  .snoo-cls-4 {\n    fill: url(#snoo-radial-gragient-4);\n  }\n\n  .snoo-cls-5 {\n    fill: url(#snoo-radial-gragient-6);\n  }\n\n  .snoo-cls-6 {\n    fill: url(#snoo-radial-gragient-8);\n  }\n\n  .snoo-cls-7 {\n    fill: url(#snoo-radial-gragient-5);\n  }\n\n  .snoo-cls-8 {\n    fill: url(#snoo-radial-gragient-7);\n  }\n\n  .snoo-cls-9 {\n    fill: #842123;\n  }\n\n  .snoo-cls-10 {\n    fill: #ff4500;\n  }\n\n  .snoo-cls-11 {\n    fill: #ffc49c;\n  }\n</style>\n<radialGradient id="snoo-radial-gragient" cx="169.75" cy="92.19" fx="169.75" fy="92.19" r="50.98" gradientTransform="translate(0 11.64) scale(1 .87)" gradientUnits="userSpaceOnUse">\n  <stop offset="0" stop-color="#feffff"></stop>\n  <stop offset=".4" stop-color="#feffff"></stop>\n  <stop offset=".51" stop-color="#f9fcfc"></stop>\n  <stop offset=".62" stop-color="#edf3f5"></stop>\n  <stop offset=".7" stop-color="#dee9ec"></stop>\n  <stop offset=".72" stop-color="#d8e4e8"></stop>\n  <stop offset=".76" stop-color="#ccd8df"></stop>\n  <stop offset=".8" stop-color="#c8d5dd"></stop>\n  <stop offset=".83" stop-color="#ccd6de"></stop>\n  <stop offset=".85" stop-color="#d8dbe2"></stop>\n  <stop offset=".88" stop-color="#ede3e9"></stop>\n  <stop offset=".9" stop-color="#ffebef"></stop>\n</radialGradient>\n<radialGradient id="snoo-radial-gragient-2" cx="47.31" fx="47.31" r="50.98" xlink:href="#snoo-radial-gragient"></radialGradient>\n<radialGradient id="snoo-radial-gragient-3" cx="109.61" cy="85.59" fx="109.61" fy="85.59" r="153.78" gradientTransform="translate(0 25.56) scale(1 .7)" xlink:href="#snoo-radial-gragient"></radialGradient>\n<radialGradient id="snoo-radial-gragient-4" cx="-6.01" cy="64.68" fx="-6.01" fy="64.68" r="12.85" gradientTransform="translate(81.08 27.26) scale(1.07 1.55)" gradientUnits="userSpaceOnUse">\n  <stop offset="0" stop-color="#f60"></stop>\n  <stop offset=".5" stop-color="#ff4500"></stop>\n  <stop offset=".7" stop-color="#fc4301"></stop>\n  <stop offset=".82" stop-color="#f43f07"></stop>\n  <stop offset=".92" stop-color="#e53812"></stop>\n  <stop offset="1" stop-color="#d4301f"></stop>\n</radialGradient>\n<radialGradient id="snoo-radial-gragient-5" cx="-73.55" cy="64.68" fx="-73.55" fy="64.68" r="12.85" gradientTransform="translate(62.87 27.26) rotate(-180) scale(1.07 -1.55)" xlink:href="#snoo-radial-gragient-4"></radialGradient>\n<radialGradient id="snoo-radial-gragient-6" cx="107.93" cy="166.96" fx="107.93" fy="166.96" r="45.3" gradientTransform="translate(0 57.4) scale(1 .66)" gradientUnits="userSpaceOnUse">\n  <stop offset="0" stop-color="#172e35"></stop>\n  <stop offset=".29" stop-color="#0e1c21"></stop>\n  <stop offset=".73" stop-color="#030708"></stop>\n  <stop offset="1" stop-color="#000"></stop>\n</radialGradient>\n<radialGradient id="snoo-radial-gragient-7" cx="147.88" cy="32.94" fx="147.88" fy="32.94" r="39.77" gradientTransform="translate(0 .54) scale(1 .98)" xlink:href="#snoo-radial-gragient"></radialGradient>\n<radialGradient id="snoo-radial-gragient-8" cx="131.31" cy="73.08" fx="131.31" fy="73.08" r="32.6" gradientUnits="userSpaceOnUse">\n  <stop offset=".48" stop-color="#7a9299"></stop>\n  <stop offset=".67" stop-color="#172e35"></stop>\n  <stop offset=".75" stop-color="#000"></stop>\n  <stop offset=".82" stop-color="#172e35"></stop>\n</radialGradient>\n</defs>\n<path class="snoo-cls-10" d="m108,0h0C48.35,0,0,48.35,0,108h0c0,29.82,12.09,56.82,31.63,76.37l-20.57,20.57c-4.08,4.08-1.19,11.06,4.58,11.06h92.36s0,0,0,0c59.65,0,108-48.35,108-108h0C216,48.35,167.65,0,108,0Z"></path>\n<circle class="snoo-cls-1" cx="169.22" cy="106.98" r="25.22"></circle>\n<circle class="snoo-cls-2" cx="46.78" cy="106.98" r="25.22"></circle>\n<ellipse class="snoo-cls-3" cx="108.06" cy="128.64" rx="72" ry="54"></ellipse>\n<path class="snoo-cls-4" d="m86.78,123.48c-.42,9.08-6.49,12.38-13.56,12.38s-12.46-4.93-12.04-14.01c.42-9.08,6.49-15.02,13.56-15.02s12.46,7.58,12.04,16.66Z"></path>\n<path class="snoo-cls-7" d="m129.35,123.48c.42,9.08,6.49,12.38,13.56,12.38s12.46-4.93,12.04-14.01c-.42-9.08-6.49-15.02-13.56-15.02s-12.46,7.58-12.04,16.66Z"></path>\n<ellipse class="snoo-cls-11" cx="79.63" cy="116.37" rx="2.8" ry="3.05"></ellipse>\n<ellipse class="snoo-cls-11" cx="146.21" cy="116.37" rx="2.8" ry="3.05"></ellipse>\n<path class="snoo-cls-5" d="m108.06,142.92c-8.76,0-17.16.43-24.92,1.22-1.33.13-2.17,1.51-1.65,2.74,4.35,10.39,14.61,17.69,26.57,17.69s22.23-7.3,26.57-17.69c.52-1.23-.33-2.61-1.65-2.74-7.77-.79-16.16-1.22-24.92-1.22Z"></path>\n<circle class="snoo-cls-8" cx="147.49" cy="49.43" r="17.87"></circle>\n<path class="snoo-cls-6" d="m107.8,76.92c-2.14,0-3.87-.89-3.87-2.27,0-16.01,13.03-29.04,29.04-29.04,2.14,0,3.87,1.73,3.87,3.87s-1.73,3.87-3.87,3.87c-11.74,0-21.29,9.55-21.29,21.29,0,1.38-1.73,2.27-3.87,2.27Z"></path>\n<path class="snoo-cls-9" d="m62.82,122.65c.39-8.56,6.08-14.16,12.69-14.16,6.26,0,11.1,6.39,11.28,14.33.17-8.88-5.13-15.99-12.05-15.99s-13.14,6.05-13.56,15.2c-.42,9.15,4.97,13.83,12.04,13.83.17,0,.35,0,.52,0-6.44-.16-11.3-4.79-10.91-13.2Z"></path>\n<path class="snoo-cls-9" d="m153.3,122.65c-.39-8.56-6.08-14.16-12.69-14.16-6.26,0-11.1,6.39-11.28,14.33-.17-8.88,5.13-15.99,12.05-15.99,7.07,0,13.14,6.05,13.56,15.2.42,9.15-4.97,13.83-12.04,13.83-.17,0-.35,0-.52,0,6.44-.16,11.3-4.79,10.91-13.2Z"></path>\n    </svg>\n  ');let sp=class extends e{static get styles(){return Ke(":host {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  height: 192px;\n  isolation: isolate;\n}\n:host:before {\n  content: '';\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  background-color: var(--color-global-orangered);\n  opacity: 0.75;\n  border-radius: 100%;\n  animation: scaleout 1.5s infinite ease-in-out;\n}\n:host shreddit-logo {\n  font-size: 64px;\n  height: 64px;\n  width: 64px;\n  z-index: 1;\n}\n@keyframes scaleout {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(1.5);\n    opacity: 0;\n  }\n}\n")}render(){return o` <shreddit-logo></shreddit-logo> `}};sp=E([P("shreddit-loading")],sp);class ap extends e{render(){return o` <slot></slot> `}}ap.styles=t`:host{display:block}`;let rp=class extends ap{constructor(){super(...arguments),this.pageTitle=""}update(e){super.update(e),this.setPageTitle(this.pageTitle)}setPageTitle(e){document.title=e,Fl(this,{message:e,options:{priority:xl.assertive}})}connectedCallback(){super.connectedCallback(),this.setPageTitle(this.pageTitle)}};E([O({type:String,attribute:"title"})],rp.prototype,"pageTitle",void 0),rp=E([P("shreddit-title")],rp);let dp=class extends ap{constructor(){super(...arguments),this.href="",this.delay=0,this._timeout=void 0}connectedCallback(){super.connectedCallback(),this.delay>0?this._timeout=window.setTimeout((()=>this.redirect()),this.delay):this.redirect()}disconnectedCallback(){window.clearTimeout(this._timeout)}redirect(){window.location.href!==this.href&&window.location.replace(this.href)}};E([O({type:String,attribute:"href"})],dp.prototype,"href",void 0),E([O({type:Number,attribute:"delay"})],dp.prototype,"delay",void 0),dp=E([P("shreddit-redirect")],dp);const lp=(()=>{const e="test";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}})(),cp=()=>{if(window.serverTimestamp&&lp){const{serverTimestamp:e}=window;try{const t=sessionStorage.getItem("serverTimestamps");if(t){return JSON.parse(t)[`${e}`]}}catch(e){}}const e=window.performance.getEntriesByType("navigation")[0];return e&&e.responseEnd-e.responseStart<8};let up=class extends e{connectedCallback(){super.connectedCallback(),window.serverTimestamp=this.timestamp;const e=`${this.timestamp}`;if(lp){const t=sessionStorage.getItem("serverTimestamps")||"{}";let o={};try{o=JSON.parse(t)}catch(e){sessionStorage.setItem("serverTimestamps","{}")}sessionStorage.setItem("serverTimestamps",JSON.stringify(Object.assign(Object.assign({},o),{[e]:void 0!==o[e]})))}}};E([O({type:Number})],up.prototype,"timestamp",void 0),up=E([P("faceplate-server-session")],up);const hp=Symbol("mixins/connect-event");let pp=class extends(function(e){if(hp in e)return e;class t extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),window.queueMicrotask((()=>this.dispatchConnectEvent()))}dispatchConnectEvent(){if(!this.isConnected)return;const e=this.makeConnectEvent();return this.dispatchEvent(e),e}makeConnectEvent(){throw new Error("FaceplateEvent makeConnectEvent() method not implemented!")}}return t[hp]=!0,t}(HTMLElement)){static get styles(){return t`:host{display:none}`}makeConnectEvent(){const e=this.getAttribute("level");let t;if(e){const o=e.toLowerCase();if(!Object.hasOwnProperty.call(le,o))return V("faceplate-error",new Error(`Unknown level value "${e}" specified on <faceplate-alert> element`));const n=parseInt(o,10);t=isNaN(n)?le[o]:n}const o=this.getAttribute("message"),n=this.getAttribute("name"),i=this.getAttribute("meta"),s=this.getAttribute("count"),a=this.getAttribute("show-when-offline");return V("faceplate-alert",{level:t,name:n||void 0,message:o||void 0,meta:i||void 0,count:null===s?1:parseInt(s),originalAlert:this,emitTime:window.performance.now(),showWhenOffline:null!==a||void 0})}dispatchConnectEvent(){super.dispatchConnectEvent(),this.hasAttribute("auto-remove")&&"false"!==this.getAttribute("auto-remove")&&this.remove()}};pp=E([P("faceplate-alert")],pp);const mp=Symbol("mixins/user-action");let gp=class extends(function(e){if(mp in e)return e;class t extends e{constructor(){super(...arguments),this._userActionEnabled=!1,this._loadingHandleClick=()=>{this._userActionEnabled&&this.userActionCallback()},this._loadingHandleKeyDown=e=>{this._userActionEnabled&&("Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),e.stopPropagation(),this.userActionCallback()))}}get isActionable(){return this._userActionEnabled}enableUserActions(){this._userActionEnabled||(this._userActionEnabled=!0,this.addEventListener("click",this._loadingHandleClick),this.addEventListener("keydown",this._loadingHandleKeyDown))}disableUserActions(){this._userActionEnabled&&(this._userActionEnabled=!1,this.removeEventListener("click",this._loadingHandleClick),this.removeEventListener("keydown",this._loadingHandleKeyDown))}userActionCallback(){}}return t[mp]=!0,t}(eo(e))){constructor(){super(...arguments),this.src="",this.srcset="",this.sizes="",this.loading=ce.Lazy,this.width=0,this.height=0,this.perfmark="",this.isRequestInProgress=!1}static get styles(){return t`:host{display:inline-block}:host([loading=action]) div.placeholder{cursor:pointer}div{display:flex;align-items:center;justify-content:center;text-align:center;height:inherit;width:inherit;margin:auto;position:relative;overflow:hidden;border-radius:inherit}img{width:100%;height:100%}*{max-height:inherit;max-width:inherit;min-height:inherit;min-width:inherit;object-fit:inherit}`}connectedCallback(){super.connectedCallback(),this.img||this.executeLoadingStrategy()}update(e){e.has("src")&&(this.img=void 0,this.isRequestInProgress=!1,this.executeLoadingStrategy()),super.update(e)}executeLoadingStrategy(){this.loading===ce.Lazy?this.enableObserver():this.loading===ce.Action?this.enableUserActions():this.loading===ce.Eager&&this.loadContent()}observerIsIntersectingCallback(){this.isObserved&&this.disableObserver(),this.isRequestInProgress||this.loadContent()}userActionCallback(){this.isActionable&&this.disableUserActions(),this.isRequestInProgress||this.loadContent()}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver(),this.isActionable&&this.disableUserActions()}async loadContent(){const{src:e}=this,t=new Image;t.onload=()=>{if(t.src!==new URL(this.src,location.origin).href)return;this.isRequestInProgress=!1,this.img=t,this.requestUpdate(),this.perfmark&&this.updateComplete.then((()=>{performance.mark(this.perfmark)}));const e=V("faceplate-load",{resource:t.src,src:this.src});this.dispatchEvent(e)},t.onerror=()=>{const e=V("faceplate-error",new Error("Image failed to load"));this.dispatchEvent(e)},this.isRequestInProgress=!0,t.src=e}render(){const e=this.isRequestInProgress&&this.loading===ce.Action;let t=o` <slot name="${n(e?"loading":void 0)}"></slot> `;return this.img&&(t=o` <img src="${this.img.src}" srcset="${n(this.srcset)}" sizes="${n(this.sizes)}" alt="${n(this.alt)}"> `),o` <div class="${this.img?"loaded":"placeholder"}" style="${f({width:this.width?this.width+"px":"inherit",height:this.height?this.height+"px":"inherit"})}" tabindex="${n(this.isActionable?0:void 0)}"> ${t} </div> `}};E([O({type:String})],gp.prototype,"src",void 0),E([O({type:String})],gp.prototype,"srcset",void 0),E([O({type:String})],gp.prototype,"sizes",void 0),E([O({type:String})],gp.prototype,"loading",void 0),E([O({type:Number})],gp.prototype,"width",void 0),E([O({type:Number})],gp.prototype,"height",void 0),E([O({type:String})],gp.prototype,"perfmark",void 0),E([O({type:String})],gp.prototype,"alt",void 0),gp=E([P("faceplate-img")],gp);const fp=e=>{const{error:t,metadata:o,element:n,componentName:i}=e,s=n.translationContextValue?.isTranslationActive;let a;try{o&&(a=JSON.stringify({isTranslationActive:s,...o}))}catch(e){}const r="string"==typeof t?t:void 0;let d=`[${i}] ${t.message??t?.msg??r??"unknown error"}`;a&&(d+=` ${a}`),function(e,t){const o=qt({source:"translate_button",action:"error",noun:"app"},{action_info:{reason:t}});Je(e,o)}(n,d),function(e){try{const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&t.captureException(e)}catch(e){}}(d)};function _p(){const e=window.location?.search??"";return new URLSearchParams(e).has("tl")}function vp(){let e="",t="";try{const o=Ln.get("reddit_translation_status")??"",n=!!sr(o)?.isTranslationActive,i=document.querySelector("shreddit-app")?.getAttribute("user-language");i&&(e=n?"on":"off",t=i)}catch(e){}return{translation_setting_state:e,target_language:t}}const Ep="force_seo",bp="p",yp="impressionid",Sp="campaignId",Cp="forceAutoplay",Tp="unloadPixelTimeout",wp="ti",Ip="debugAdPixels",Ap="videoAdLooping";function Pp(){return document.querySelector("shreddit-app")?.getAttribute("correlation-id")}var Rp;!function(e){e.All="all",e.Posts="link",e.Subreddits="sr",e.Users="user",e.Comments="comment",e.Media="media"}(Rp||(Rp={})),new Set([Rp.Posts,Rp.Subreddits,Rp.Users,Rp.Comments,Rp.Media]);const Op={DAY:"day",HOUR:"hour",WEEK:"week",MONTH:"month",YEAR:"year",ALL:"all"};var Mp;new Set(Object.values(Op)),function(e){e.Comments="comments",e.Hot="hot",e.New="new",e.Relevance="relevance",e.Top="top"}(Mp||(Mp={}));const Np=Mp.Relevance;new Set([Mp.Comments,Mp.Hot,Mp.New,Mp.Relevance,Mp.Top]),new Set([Mp.Hot,Mp.New]);const Dp=5;var Lp,Up,kp,xp,Fp,Bp,Vp,Gp;!function(e){e.Trending="trending",e.PromotedTrend="promoted_trend",e.Recent="recent",e.TrendingApproval="trending_approval_tool"}(Lp||(Lp={})),function(e){e.PromotedTrend="promoted_trend",e.Search="search",e.SearchBar="search_bar",e.Trending="trending"}(Up||(Up={})),function(e){e.Spellcheck="spellcheck"}(kp||(kp={})),function(e){e.PostCommunity="post_community",e.PostProfile="post_profile",e.PostTitle="post_title",e.PostBody="post",e.PostThumbnail="post_thumbnail"}(xp||(xp={})),function(e){e.Comment="comment",e.CommentAuthor="comment_author",e.CommentSearchBar="comment_search_bar",e.GoToThreadLink="go_to_comment_link"}(Fp||(Fp={})),function(e){e.All="all",e.Posts="posts",e.Communities="communities",e.People="people",e.Comments="comments",e.Media="media"}(Bp||(Bp={})),function(e){e.PdpCommentSearchInput="pdp-comment-search-input",e.HeaderSmall="reddit-header-small",e.HeaderLarge="reddit-header-large"}(Vp||(Vp={})),function(e){e.commentComposerHost="shreddit-async-loader[bundleName=comment_composer]",e.addCommentButton="faceplate-tracker[source=shreddit_comment_count_button]",e.pdpCommentsTreeSortContainer=".pdp-comments-tree-sort-container",e.pdpCommentSearchInput="pdp-comment-search-input",e.pdpAmaCommentTabWrapper=".pdp-ama-comment-tab-wrapper",e.shredditCommentsSortDropdown="shreddit-comments-sort-dropdown"}(Gp||(Gp={})),Bp.All,Rp.All,Bp.Posts,Rp.Posts,Bp.Communities,Rp.Subreddits,Bp.People,Rp.Users,Bp.Comments,Rp.Comments,Bp.Media,Rp.Media;const Wp={[Rp.All]:Bp.All,[Rp.Posts]:Bp.Posts,[Rp.Subreddits]:Bp.Communities,[Rp.Users]:Bp.People,[Rp.Comments]:Bp.Comments,[Rp.Media]:Bp.Media};var Hp,$p,qp,Yp;!function(e){e.Covid="covid",e.Election="election",e.NsfwSetting="nsfw_setting"}(Hp||(Hp={})),function(e){e.Serp="serp",e.Qf="qf",e.PopularCarousel="popular_carousel",e.PdpCommentSearch="pdp_comment_search",e.PdpCommentSearchBar="pdp_comment_search_bar",e.QueryRecommendation="query_recommendation"}($p||($p={})),function(e){e.IsBlank="data-is-blank",e.IsPromoted="data-is-promoted"}(qp||(qp={})),function(e){e.GLOBAL="global",e.COMMUNITY="community",e.PDP="pdp",e.PROFILE="profile",e.CUSTOM_FEED="custom_feed"}(Yp||(Yp={}));const jp={type:Yp.GLOBAL,path:"/"},Kp="search-typeahead-expandable-section-",Qp={searchSduiPost:"search-sdui-post"},zp="last-dropdown-item",Jp=new Set([cn.Home,cn.Popular,cn.Community,cn.MFeed,cn.ArenaFeed]),Xp=new Set([cn.SearchResults,cn.SearchDropdown,cn.PostDetail,"search_results_trending","typeahead","search_dropdown","search_authors_tab","search_comments_tab","search_communities_tab","search_posts_tab"]),Zp=new Set([...Jp,...Xp]),em=new Set([cn.PostDetail,cn.SingleCommentThread,cn.Community,cn.ProfileOverview,cn.MFeed]);function tm(){const e=Ss.getItem(ys.GoodVisitFS);return e?JSON.parse(e):null}const om=new Set([cn.Guides,cn.GuidesConversation]);function nm(e){let t=!1,o=!1;om.has(e)&&(t=!0);const n=function(){const e=Ss.getItem(ys.GoodVisitGuides);if(e)return JSON.parse(e);return null}();if(n){const e=new Date(n.expires)<=new Date,t=om.has(n.source);!e&&t&&(o=!0)}return{isGuidesSession:t,isGuidesLocalStorageSession:o}}function im(e){let t=!1,o=!1;e===cn.Klp&&(t=!0);const n=function(){const e=Ss.getItem(ys.GoodVisitKLP);if(e)return JSON.parse(e);return null}();if(n){const e=new Date(n.expires)<=new Date,t=n.source===cn.Klp;!e&&t&&(o=!0)}return{isKLPSession:t,isKLPLocalStorageSession:o}}const sm=Vn(Ft(e));let am=class extends sm{constructor(){super(),this.referrerType=yi.Reddit,this.pageType=cn.Unknown,this.screenViewDataAttr=void 0,this.localStorageAvailable=!1,this.timeoutId=null,this.count=null,this.goodVisitQueue=[],this.hasSeoSession=null,this.updatedAt=null,this.initialized=!1,this.screenViewData={},this.isFeedSearchSession=null,this.isFeedSearchLocalStorageSession=null,this.isKLPSession=null,this.isKLPLocalStorageSession=null,this.isGuidesSession=null,this.isGuidesLocalStorageSession=null,this.leaveEventType="beforeunload",this._windowEvents=new W(this,(()=>window)),this.pageHideListener=()=>{this.clearTimeout(),this.saveState()},this.pageShowListener=()=>{this.boot()},this.screenViewDataLoadedListener=e=>{this.screenViewData=e},this.storePlatformGoodVisit=()=>{!function(e,t,o){let n=e,i={};if(!Zp.has(e))return;if(Xp.has(e)){if(i=o?JSON.parse(o):{search:t.search},!i.search)return;i?.search?.structure_type&&[Up.Trending,Up.PromotedTrend].includes(i?.search?.structure_type)&&(n=cn.SearchResultsTrending)}Jp.has(e)&&(i={timer:{referrer_correlation_id:Pp()}});const s=JSON.stringify({key:bn(),source:n,expires:new Date((new Date).getTime()+5e3),eventPayload:i});Ss.setItem(ys.GoodVisitFS,s)}(this.pageType,this.screenViewData,this.screenViewDataAttr)},this.storePlatformKLPGoodVisit=()=>{!function(e,t){if(e!==cn.Klp)return;const o=JSON.stringify({key:bn(),source:cn.Klp,expires:new Date((new Date).getTime()+5e3),eventPayload:t});Ss.setItem(ys.GoodVisitKLP,o)}(this.pageType,this.screenViewData)},this.storePlatformGuidesGoodVisit=()=>{!function(e,t){if(!om.has(e))return;const o=JSON.stringify({source:e,expires:new Date((new Date).getTime()+5e3),eventPayload:t});Ss.setItem(ys.GoodVisitGuides,o)}(this.pageType,this.screenViewData)},this._onPageLeave=()=>{this.isKLPSession?this.storePlatformKLPGoodVisit():this.isGuidesSession?this.storePlatformGuidesGoodVisit():this.storePlatformGoodVisit(),this.screenViewData={}},this._onPagehide=this._windowEvents.define("pagehide",this.pageHideListener),this._onPageshow=this._windowEvents.define("pageshow",this.pageShowListener),this._onBeforeRoute=this._windowEvents.define("beforeRoute",this._onPageLeave),this.tick=()=>{null!==this.count&&(this.count+=1e3,this.updatedAt=(new Date).getTime(),this.goodVisitQueue.length>0&&this.count>=this.goodVisitQueue[0]&&this.trackGoodVisit(),this.count>=3e4?this.clearState():this.timeoutId=window.setTimeout(this.tick,1e3))},this.isKLPReferredPage=()=>this.isPostPage()||this.isTopicPage()||this.isCommunityPage()||this.isReferredKLPPage(),this.isKLPGoodVisitSession=()=>this.isKLPSession||this.isKLPLocalStorageSession&&this.isKLPReferredPage(),this.isGuidesGoodVisitSession=()=>this.isGuidesSession||this.isGuidesLocalStorageSession,this.isPostPage=()=>this.pageType===cn.PostDetail||this.pageType===cn.SingleCommentThread,this.isTopicPage=()=>this.pageType===cn.TopicPage,this.isReferredKLPPage=()=>this.pageType===cn.Klp&&this.referrerType===yi.Reddit,this.isCommunityPage=()=>this.pageType===cn.Community,this.isArenaFeedPage=()=>this.pageType===cn.ArenaFeed,this.isPostStatsPage=()=>this.pageType===cn.PostStats,this.clearTimeout=()=>{null!==this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=null},this.trackGoodVisit=()=>{if(this.goodVisitQueue.length>0){let e;switch(!0){case this.isKLPGoodVisitSession():e=(({isGoodVisitFeedTimer:e,millis:t,screenViewData:o})=>({screenViewData:o,timer:{type:e?Ti.GoodVisitFeed:Ti.GoodVisit,millis:t}}))({isGoodVisitFeedTimer:this.isKLPReferredPage(),millis:this.goodVisitQueue[0],screenViewData:this.screenViewData});break;case this.isGuidesGoodVisitSession():e=(({isSeo:e,millis:t,screenViewData:o})=>({screenViewData:o,timer:{type:e?Ti.GoodVisit:Ti.GoodVisitGuides,millis:t}}))({isSeo:this.isSeoSession,millis:this.goodVisitQueue[0],screenViewData:this.screenViewData});break;case this.isPostStatsPage():e={screenViewData:this.screenViewData,timer:{type:Ti.GoodVisitPostStats,millis:this.goodVisitQueue[0],referrer:this.referrerType}};break;default:e=function({millis:e,screenViewData:t,isFeedSearchSession:o,isFeedSearchLocalStorageSession:n}){let i,s,a=Ti.GoodVisit;if(o)if(n){const e=tm();i=e?.source;const o=Jp.has(e?.source),n=Xp.has(e?.source);if(o){const{timer:t}=e?.eventPayload||{};a=Ti.GoodVisitFeed,s=t?.referrer_correlation_id}if(n){a=Ti.GoodVisitSearch;const{search:o}=e?.eventPayload||{};t.search={...t?.search||{},...o||{},conversation_id:o?.conversation_id??"",impression_id:o?.impression_id??"",origin_page_type:o?.origin_page_type??"",query:o?.query??"",query_id:o?.query_id??""}}}else a=Ti.GoodVisitSearch;return{screenViewData:t,timer:{type:a,millis:e,...i&&{referrer:i},...s&&{referrer_correlation_id:s}}}}({millis:this.goodVisitQueue[0],screenViewData:this.screenViewData,isFeedSearchSession:this.isFeedSearchSession,isFeedSearchLocalStorageSession:this.isFeedSearchLocalStorageSession})}const t=(({screenViewData:e,timer:t,hostPageType:o,translationMetrics:n})=>qt({source:tt.Global,action:ot.View,noun:Di({noun:et.Heartbeat,pageType:o})},{...e,timer:t,translation_metrics:n}))({...e,hostPageType:this.pageType,translationMetrics:vp()});this.trackEvent(t),this.goodVisitQueue.shift()}},this.localStorageAvailable=Ss.isAvailable(),this.leaveEventType=da.eventType}getState(){return{count:this.count,updatedAt:this.updatedAt}}attributeChangedCallback(e,t,o){super.attributeChangedCallback(e,t,o),"pagetype"===e&&t!==o&&(this.clearTimeout(),this.boot())}get isSeoSession(){return this.referrerType===yi.Seo||!!this.hasSeoSession}connectedCallback(){if(super.connectedCallback(),!this.initialized){if(this.initialized=!0,this.boot(),window.addEventListener(this.leaveEventType,this._onPageLeave),this.subscribe(en.ScreenViewDataLoaded,this.screenViewDataLoadedListener),window.location.search.includes("force_seo")){const e=new URL(window.location.href);e.searchParams.delete("force_seo"),history.replaceState({},"",e.toString())}this.subscribe(en.ScreenViewDataLoaded,(e=>this.screenViewData=e))}}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener(this.leaveEventType,this._onPageLeave),this.unsubscribe(en.ScreenViewDataLoaded,this.screenViewDataLoadedListener),this.clearTimeout()}boot(){if(this.timeoutId)return;const{isFeedSearchSession:e,isFeedSearchLocalStorageSession:t}=function(e,t){let o=!1,n=!1;if(!em.has(e))return{isFeedSearchSession:o,isFeedSearchLocalStorageSession:n};t===yi.RedditSearch&&(o=!0);const i=tm();if(i){const e=new Date(i.expires)<=new Date,t=Zp.has(i.source);!e&&t&&(o=!0,n=!0)}return{isFeedSearchSession:o,isFeedSearchLocalStorageSession:n}}(this.pageType,this.referrerType);this.isFeedSearchSession=e,this.isFeedSearchLocalStorageSession=t;const{isKLPSession:o,isKLPLocalStorageSession:n}=im(this.pageType);this.isKLPSession=o,this.isKLPLocalStorageSession=n;const{isGuidesSession:i,isGuidesLocalStorageSession:s}=nm(this.pageType);this.isGuidesSession=i,this.isGuidesLocalStorageSession=s,this.referrerType===yi.Seo||this.isFeedSearchSession||this.isKLPGoodVisitSession()||this.isGuidesSession||this.isArenaFeedPage()||this.isPostStatsPage()?this.initState():this.referrerType===yi.Other?this.clearState():this.loadState(),this.tick()}initState(){this.count=0,this.updatedAt=(new Date).getTime(),this.referrerType===yi.Seo||this.isGuidesSession?this.goodVisitQueue=[3e4]:this.goodVisitQueue=[15e3,3e4]}clearState(){this.hasSeoSession=!1,this.count=null,this.updatedAt=null,this.localStorageAvailable&&Ss.removeItem(ys.GoodVisit)}loadState(){if(!this.localStorageAvailable)return;const e=Ss.getItem(ys.GoodVisit);var t;if(e)try{const o=JSON.parse(e);if(!(null!==(t=o)&&"number"==typeof t.count&&"number"==typeof t.updatedAt&&Array.isArray(t.goodVisitQueue)&&t.goodVisitQueue.every((e=>"number"==typeof e))))throw new Error("Invalid SEO session object");this.hasSeoSession=!0,this.count=o.count,this.updatedAt=o.updatedAt,this.goodVisitQueue=o.goodVisitQueue;const n=(new Date).getTime();n-this.updatedAt>5e3&&this.clearState()}catch(e){this.clearState()}}saveState(){if(!this.localStorageAvailable)return;if(null===this.count)return;const e=JSON.stringify({count:this.count,updatedAt:this.updatedAt,goodVisitQueue:this.goodVisitQueue});Ss.setItem(ys.GoodVisit,e)}};E([O({type:String})],am.prototype,"referrerType",void 0),E([O({type:cn})],am.prototype,"pageType",void 0),E([O({type:String,attribute:"screenview-data-attr"})],am.prototype,"screenViewDataAttr",void 0),am=E([P("shreddit-good-visit-tracker")],am);let rm=class extends e{constructor(){super(...arguments),this.value=""}connectedCallback(){super.connectedCallback(),this.dispatchEvent(V("canonical-url-updated",this.value))}};E([O({type:String})],rm.prototype,"value",void 0),rm=E([P("shreddit-canonical-url-updater")],rm);const dm=Vn(e);let lm=class extends dm{constructor(){super(...arguments),this.isNsfwBlocked=!1,this.isEmbed=!1,this.isEmbedFlexible=!1}static get styles(){return t`:host{--default-aspect-ratio:2;--configured-aspect-ratio:var(--aspect-ratio, var(--default-aspect-ratio));--computed-aspect-ratio:calc(100% / var(--configured-aspect-ratio));--default-min-height:150px;--configured-min-height:var(--min-height, var(--default-min-height));--default-max-height:100vh;--configured-max-height:var(--max-height, var(--default-max-height));--aspect-ratio-padding:min(
          max(var(--configured-min-height), var(--computed-aspect-ratio)),
          var(--configured-max-height)
        );display:block;height:0;padding-bottom:var(--aspect-ratio-padding);position:relative}:host([is-nsfw-blocked]){--configured-min-height:300px}slot{display:block;height:100%;position:absolute;width:100%}`}connectedCallback(){super.connectedCallback(),this.isEmbed&&requestAnimationFrame((()=>{const e=document.getElementById("embed-title")?.clientHeight;e&&(this.shadowRoot?.host.style.setProperty("--max-height",(this.isEmbedFlexible?innerWidth>260?530-e+20:330-e+20:292-e+20)+"px"),this.isEmbedFlexible&&this.shadowRoot?.host.style.setProperty("--configured-min-height","100px"))}))}render(){return o`<slot></slot>`}};var cm;E([O({type:Boolean,attribute:"is-nsfw-blocked"})],lm.prototype,"isNsfwBlocked",void 0),E([O({type:Boolean,attribute:"is-embed"})],lm.prototype,"isEmbed",void 0),E([O({type:Boolean,attribute:"is-embed-flexible"})],lm.prototype,"isEmbedFlexible",void 0),lm=E([P("shreddit-aspect-ratio")],lm),function(e){e.Unknown="UNKNOWN",e.Private="PRIVATE",e.GoldOnly="GOLD_ONLY",e.Banned="BANNED",e.Quarantined="QUARANTINED"}(cm||(cm={}));let um=class extends e{constructor(){super(...arguments),this.country="",this.name="",this.nsfw=!1,this.logged=!1,this.reason=cm.Unknown,this.hasCustomButtons=!1,this.unauthorized=!1,this.forbidden=!1,this.not_found=!1,this.rate_limit=!1,this.server_error=!1}static get styles(){return[ze,Ke(":host {\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n  height: calc(var(--viewport-height) - var(--shreddit-header-height) - var(--shreddit-bottom-padding));\n  padding: 1.5rem;\n  overflow: hidden;\n}\n.text {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 0.5rem;\n}\n.text.server-error-text {\n  width: 80%;\n}\n.text.server-error-text > h1 {\n  font-size: 1rem;\n  font-weight: 500;\n  line-height: 1rem;\n}\nh1 {\n  margin-top: 1rem;\n  font-weight: 600;\n  line-height: 2rem;\n}\np {\n  margin: 1rem 0 1.5rem;\n}\n.icon {\n  box-sizing: border-box;\n  background: var(--color-tone-6);\n  font-size: 2rem;\n  line-height: 0;\n  padding: 1rem;\n  overflow: hidden;\n  border-radius: 50%;\n}\nicon-quarantined.icon {\n  color: var(--color-global-white);\n  background: #f8d758;\n}\n.icon.server-error-icon {\n  background: none;\n}\n.buttons {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n.buttons-vertical {\n  flex-direction: column;\n}\n")]}connectedCallback(){super.connectedCallback();const e=V("unsuccessful-pageview");this.dispatchEvent(e)}handleAcceptNsfwClick(){ql({country:this.country,name:"over18",value:"true",options:ga});const e=new URL(window.location.href);e.searchParams.set("force_seo","1"),window.location.href=e.toString()}handleAcceptQuarantinedClick(){const e=Ln.get("_options");if(e){const t=JSON.parse(decodeURIComponent(e));t.pref_quarantine_optin=!0,ql({country:this.country,name:"_options",value:JSON.stringify(t),options:ga})}else{const e=JSON.stringify({pref_quarantine_optin:!0});ql({country:this.country,name:"_options",value:e,options:ga})}window.location.reload()}render(){const e="flex-auto max-w-full mb-lg",t=this.nsfw?o` <icon-nsfw class="icon" fill></icon-nsfw> `:this.reason===cm.Private||this.reason===cm.GoldOnly?o` <icon-privacy class="icon" fill></icon-privacy> `:this.reason===cm.Banned?o` <icon-ban class="icon" fill></icon-ban> `:this.reason===cm.Quarantined?o` <icon-quarantined class="icon" fill></icon-quarantined> `:this.not_found||this.unauthorized||this.forbidden||this.rate_limit?o` <icon-meme class="icon" fill></icon-meme> `:this.server_error?o` <icon-spoiler class="icon server-error-icon"></icon-spoiler> `:null,n=!(this.logged||this.not_found||this.server_error||this.rate_limit||this.nsfw||this.reason===cm.Quarantined||this.reason===cm.Banned),i=this.reason===cm.Private||this.reason===cm.GoldOnly||this.reason===cm.Banned||this.not_found?o` ${je({appearance:"primary",size:Be.Small,attributes:{href:"/",className:e},children:"View Other Communities"})} `:n?o` ${je({appearance:"primary",size:Be.Small,attributes:{href:"/login/",className:e},children:"Log In"})} <span>New to reddit? <a href="https://www.reddit.com/register/"> Sign up </a></span> `:this.nsfw?o` ${je({appearance:"primary",size:Be.Small,attributes:{href:"/",className:e},children:"No, go home"})} <button class="button button-small button-primary ml-xs ${e} ml-xs" @click="${this.handleAcceptNsfwClick}"> Yes, show post </button> `:this.reason===cm.Quarantined?o` ${je({appearance:"primary",size:Be.Small,attributes:{href:"/",className:e},children:"No, thank you"})} <button class="ml-xs button button-small button-primary ${e}" @click="${this.handleAcceptQuarantinedClick}"> Continue </button> `:null;return o` ${t} <div class="text${this.server_error?" server-error-text":""}"> <h1><slot name="title"></slot></h1> <p><slot name="message"></slot></p> </div> <nav class="${n?"buttons buttons-vertical":"buttons"}"> ${this.hasCustomButtons?o`<slot name="custom-buttons"></slot>`:i} </nav> `}};E([O({type:String})],um.prototype,"country",void 0),E([O({type:String})],um.prototype,"name",void 0),E([O({type:Boolean})],um.prototype,"nsfw",void 0),E([O({type:Boolean})],um.prototype,"logged",void 0),E([O({type:String})],um.prototype,"reason",void 0),E([O({type:Boolean,attribute:"has-custom-buttons"})],um.prototype,"hasCustomButtons",void 0),E([O({type:Boolean})],um.prototype,"unauthorized",void 0),E([O({type:Boolean})],um.prototype,"forbidden",void 0),E([O({type:Boolean})],um.prototype,"not_found",void 0),E([O({type:Boolean})],um.prototype,"rate_limit",void 0),E([O({type:Boolean})],um.prototype,"server_error",void 0),um=E([P("shreddit-forbidden")],um);const hm=Vn(e);let pm=class extends hm{constructor(){super(...arguments),this.data={}}connectedCallback(){super.connectedCallback(),this.dispatchEvent(V("screenview-data-loaded",this.data)),this.publish(en.ScreenViewDataLoaded,this.data)}};function mm(e){return e===Bt.CardView}function gm(e){return e===Bt.CompactView}function fm(e){return e===Bt.ModQueueCompactView}E([O({type:Object})],pm.prototype,"data",void 0),pm=E([P("shreddit-screenview-data")],pm);let _m=class extends e{constructor(){super(...arguments),this.country="",this.cookieDomain="",this._events=new W(this),this._onLayoutViewChange=this._events.define("layout-view-change",(e=>{const{selected:t}=e.detail;ql({country:this.country,name:"compact",value:gm(t)?"true":"false",options:{...ga,domain:this.cookieDomain||void 0}})}))}static get styles(){return t`:host{display:flex;align-items:center}`}render(){return o` <slot></slot>`}};E([O({type:String})],_m.prototype,"country",void 0),E([O({type:String,attribute:"cookie-domain"})],_m.prototype,"cookieDomain",void 0),_m=E([P("shreddit-layout-event-setter")],_m);const vm=new WeakMap;function Em(e,t=document){let o=vm.get(t);o||(o=new Map,vm.set(t,o));let n=o.get(e);return n||(n={key:e},o.set(e,n)),n}const bm=Symbol("mixins/pagination"),ym=function(e){const t=new WeakMap,o=$();return{getContextKey:(e,t)=>Em(e,t),appointLeader(n,i){if(t.has(i)){if(t.get(i).isConnected)throw new Error(`Cannot appoint leader for key "${i.key}" in the same context twice.`)}t.set(i,n);const s=o.getRegisteredElements(i);if(s)for(const t of s)e(n,t)},dismissLeader(e,o){const n=t.get(o);n&&n===e&&t.delete(o)},getLeader:e=>t.get(e),registerFollower(n,i){o.register(i,n);const s=t.get(i);s&&e(s,n)},unregisterFollower(e,t){o.unregister(t,e)},getFollowers:e=>o.getRegisteredElements(e)}}(((e,t)=>{t.syncPagination(e)}));function Sm(e){if(bm in e)return e;class t extends e{constructor(){super(...arguments),this.pages=1,this._pageIndex=1,this._pageNames=void 0}get pageIndex(){return this._pageIndex}set pageIndex(e){if(e===this._pageIndex)return;const t=this._pageIndex;this._pageIndex=e,this.pageIndexChangedCallback(t)}get pageNames(){return this._pageNames}set pageNames(e){e&&(this.pages=e.length),this._pageNames=e}syncLinkedPageables(){if(this._paginationLeaderContext){const e=ym.getFollowers(this._paginationLeaderContext);if(!e||!e.size)return;for(const t of e)t.syncPagination(this)}if(this._paginationFollowerContext){const e=ym.getLeader(this._paginationFollowerContext);e&&(e.pageIndex=this._pageIndex)}}syncPagination(e){this.pageIndex=e.pageIndex,this.pages=e.pages,this.pageNames=e.pageNames}getPaginationContext(){const e=this.getRootNode();if(e!==this&&(e instanceof Document||e instanceof ShadowRoot))return e}connectedCallback(){super.connectedCallback&&super.connectedCallback();const e=this.getPaginationContext();if(!e)return;const t=this.getAttribute("for");t&&(this._paginationFollowerContext=ym.getContextKey(t,e),ym.registerFollower(this,this._paginationFollowerContext)),this.id&&!t&&(this._paginationLeaderContext=ym.getContextKey(this.id,e),ym.appointLeader(this,this._paginationLeaderContext))}disconnectedCallback(){super.connectedCallback&&super.connectedCallback(),this._paginationLeaderContext&&(ym.dismissLeader(this,this._paginationLeaderContext),this._paginationLeaderContext=void 0),this._paginationFollowerContext&&(ym.unregisterFollower(this,this._paginationFollowerContext),this._paginationFollowerContext=void 0)}nextPage(){this.pageIndex=Math.min(this.pages,this.pageIndex+1)}previousPage(){this.pageIndex=Math.max(1,this.pageIndex-1)}pageIndexChangedCallback(e){this.syncLinkedPageables()}}return t[bm]=!0,t}function Cm(e,t){const o=e.composedPath();for(const e of o){const o=e.dataset,n=o&&o[t];if(null!=n)return n}return null}const Tm=(e,t)=>{const o=e.composedPath(),n=Array.isArray(t)?t.map((e=>e.toUpperCase())):[t.toUpperCase()];for(const e of o)if(n.includes(e.tagName))return!0;return!1};var wm;!function(e){e.VIDEO_PLAYER="video-player",e.SUBREDDIT_LINK="subreddit-link",e.COMMENTS_BUTTON="comments-button",e.OVERFLOW_BUTTON="overflow-button",e.VOTE="vote",e.JOIN="join",e.SHARE="share",e.PROMOTE_POST_BUTTON="promote-post-button",e.TEXT_BODY="text-body",e.SUMMARY_DROPDOWN_MENU="summary-dropdown-menu",e.SUMMARY_MENU="summary-menu"}(wm||(wm={}));const Im=e=>Am(e,Si)?e:void 0,Am=(e,t)=>Object.values(t).includes(e),Pm=(e,t)=>void 0===e?void 0:t(e),Rm=({archived:e,authorId:t,createdTimestamp:o,domain:n,id:i,feedIndex:s,nsfw:a,isStickied:r,isHighlighted:d,postTitle:l,postType:c,promoted:u,recommendationSource:h,recommendationSubredditId:p,recommendationSubredditName:m,score:g,spoiler:f,subredditId:_,subredditPrefixedName:v,viewType:E,commentCount:b,permalink:y,awardId:S})=>{const C=Pm(c,Im),T=Pm(o,Kt),w={name:v?.toLowerCase(),id:_};return{...S?{id:S}:void 0,post:{archived:e,author_id:t,created_timestamp:T,domain:n,id:i,nsfw:a,pinned:r,highlighted:d,promoted:u,score:g,spoiler:f,subreddit_id:_,subreddit_name:w.name,title:l,type:C,recommendation_source:h?.toLowerCase(),recommendation_source_subreddit_id:p,recommendation_source_subreddit_name:m,number_comments:b,url:y},screen:{view_type:$t(E)},subreddit:w,action_info:{position:s}}},Om=e=>({...Rm(e),feed:{}}),Mm=({fields:e,post:t,postIsTranslated:o,reason:n,withTranslationMetrics:i})=>{const{postLanguage:s,translationLanguage:a}=t;return e={...e,post:{...e.post,language:s,translation_language:a,translation_state:o},..."boolean"==typeof i&&{translation_metrics:vp()},...n&&{action_info:{...e.action_info,reason:n}}}},Nm=(e,t)=>qt({source:"post",action:"view",noun:"post"},{...t?Mm({fields:Om(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):Om(e),new_award:{id:e.awardId,is_content_eligible:Boolean(e.isAwardable)}}),Dm=(e,t={})=>qt({source:"post",action:"click",noun:e},{...t,feed:{}}),Lm=e=>Dm("share",Rm(e)),Um=e=>Dm("share_copy",Rm(e)),km=e=>Dm("comments",Rm(e)),xm=e=>Dm("view_all_comments",Rm(e)),Fm=e=>qt({source:"event_post",action:"click",noun:"rsvp"},{...Rm(e)}),Bm=e=>qt({source:"event_post",action:"click",noun:"un_rsvp"},{...Rm(e)}),Vm=2e3,Gm=(e,t)=>qt({source:"post",action:"consume",noun:"post"},{...t?Mm({fields:Om(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):Om(e),new_award:{id:e.awardId,is_content_eligible:Boolean(e.isAwardable)}}),Wm=(e,t)=>qt({source:"translate_button",action:"view",noun:"post"},Mm({fields:Om(e),post:e,postIsTranslated:t,reason:t?"on":"off"})),Hm=e=>qt({source:"post",action:"click",noun:"upvote"},{...e.isTranslatable?Mm({fields:Om(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):Om(e)}),$m=e=>qt({source:"post",action:"click",noun:"downvote"},{...e.isTranslatable?Mm({fields:Om(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):Om(e)}),qm=e=>qt({source:"post",action:"click",noun:"clearvote"},Om(e)),Ym=(e={})=>qt({source:"post_detail",action:"view",noun:"post"},e),jm=(e,t={})=>qt({source:"post_detail",action:"click",noun:e},t),Km=e=>qt({source:"post",action:"click",noun:"vote_try"},Rm(e)),Qm=e=>qt({source:"post",action:"click",noun:"read_more"},Om(e)),zm=e=>qt({source:"subreddit_hovercard",action:"view",noun:"hover_subreddit_hovercard"},Om(e)),Jm=e=>qt({source:"user_hovercard",action:"view",noun:"hover_user_hovercard"},Om(e)),Xm=(e,t)=>{switch(Cm(e,"postClickLocation")){case wm.SUBREDDIT_LINK:return(e=>Dm("subreddit",Rm(e)))(t);case wm.JOIN:return(e=>Dm("subscribe",Rm(e)))(t);case wm.OVERFLOW_BUTTON:case wm.COMMENTS_BUTTON:case wm.VOTE:case wm.SHARE:case wm.VIDEO_PLAYER:return null;case wm.TEXT_BODY:return(e=>Dm("text",Rm(e)))(t);default:return(e=>Dm("post",Rm(e)))(t)}},Zm=e=>qt({source:"post",action:"leave",noun:"post",visibility:{on_screen_timestamp:e.becameVisibleOnScreenTimestamp,off_screen_timestamp:Date.now()}},Om(e)),eg=()=>qt({source:"post",action:"click",noun:"post_overflow_menu"}),tg=()=>qt({source:"post",action:"click",noun:"save"}),og=()=>qt({source:"post",action:"click",noun:"pin"}),ng=()=>qt({source:"post",action:"click",noun:"unpin"}),ig=()=>qt({source:"post",action:"click",noun:"hide"}),sg=()=>qt({source:"post",action:"click",noun:"report"}),ag=e=>qt({source:"post",action:"click",noun:"overflow_show_less"},e),rg=()=>qt({source:"post",action:"click",noun:"edit"}),dg=()=>qt({source:"post",action:"click",noun:"delete"}),lg=({markedAsSpoiler:e})=>qt({source:"post",action:"click",noun:e?"mark_spoiler":"unmark_spoiler"}),cg=({markedAsNsfw:e})=>qt({source:"post",action:"click",noun:e?"mark_nsfw":"unmark_nsfw"}),ug=({markedAsBrandAffiliate:e})=>qt({source:"post",action:"click",noun:e?"mark_brand_affiliate":"unmark_brand_affiliate"}),hg=({turnNotificationsOn:e})=>qt({source:"post",action:"click",noun:e?"turn_notifications":"unsend_reply_notifications"}),pg=()=>qt({source:"post",action:"click",noun:"update_post_flair"}),mg=e=>qt({source:"post",action:e?"undo":"click",noun:"follow"});var gg;!function(e){e.Forward="forward",e.Backward="backward"}(gg||(gg={}));const fg=(e,t,o)=>qt({source:"gallery",action:"view",noun:"media"},{...Rm(e),gallery:{num_items:o,position:t}}),_g=(e,t,o,n)=>qt({source:"gallery",action:"click",noun:t},{...Rm(e),gallery:{num_items:n,position:o}}),vg=Ft(Sm(e));let Eg=class extends vg{constructor(){super(...arguments),this.id="",this.subreddit=""}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e);const t=this.pageIndex>e?gg.Forward:gg.Backward;this.trackEvent(_g(this,t))}};E([O({type:String})],Eg.prototype,"id",void 0),E([O({type:String})],Eg.prototype,"subreddit",void 0),Eg=E([P("shreddit-gallery-listener")],Eg);var bg,yg,Sg,Cg,Tg,wg=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Ig=function(e){if("loading"===document.readyState)return"loading";var t=wg();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},Ag=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},Pg=function(e,t){var o="";try{for(;e&&9!==e.nodeType;){var n=e,i=n.id?"#"+n.id:Ag(n)+(n.classList&&n.classList.value&&n.classList.value.trim()&&n.classList.value.trim().length?"."+n.classList.value.trim().replace(/\s+/g,"."):"");if(o.length+i.length>(t||100)-1)return o||i;if(o=o?i+">"+o:i,n.id)break;e=n.parentNode}}catch(e){}return o},Rg=-1,Og=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Rg=t.timeStamp,e(t))}),!0)},Mg=function(){var e=wg();return e&&e.activationStart||0},Ng=function(e,t){var o=wg(),n="navigate";return Rg>=0?n="back-forward-cache":o&&(document.prerendering||Mg()>0?n="prerender":document.wasDiscarded?n="restore":o.type&&(n=o.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},Dg=function(e,t,o){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},o||{})),n}}catch(e){}},Lg=function(e,t,o,n){var i,s;return function(a){t.value>=0&&(a||n)&&((s=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=s,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,o),e(t))}},Ug=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},kg=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},xg=function(e){var t=!1;return function(o){t||(e(o),t=!0)}},Fg=-1,Bg=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Vg=function(e){"hidden"===document.visibilityState&&Fg>-1&&(Fg="visibilitychange"===e.type?e.timeStamp:0,Wg())},Gg=function(){addEventListener("visibilitychange",Vg,!0),addEventListener("prerenderingchange",Vg,!0)},Wg=function(){removeEventListener("visibilitychange",Vg,!0),removeEventListener("prerenderingchange",Vg,!0)},Hg=function(){return Fg<0&&(Fg=Bg(),Gg(),Og((function(){setTimeout((function(){Fg=Bg(),Gg()}),0)}))),{get firstHiddenTime(){return Fg}}},$g=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},qg=[1800,3e3],Yg=[.1,.25],jg=function(e,t){!function(e,t){t=t||{},function(e,t){t=t||{},$g((function(){var o,n=Hg(),i=Ng("FCP"),s=Dg("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-Mg(),0),i.entries.push(e),o(!0)))}))}));s&&(o=Lg(e,i,qg,t.reportAllChanges),Og((function(n){i=Ng("FCP"),o=Lg(e,i,qg,t.reportAllChanges),Ug((function(){i.value=performance.now()-n.timeStamp,o(!0)}))})))}))}(xg((function(){var o,n=Ng("CLS",0),i=0,s=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=s[0],o=s[s.length-1];i&&e.startTime-o.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e])}})),i>n.value&&(n.value=i,n.entries=s,o())},r=Dg("layout-shift",a);r&&(o=Lg(e,n,Yg,t.reportAllChanges),kg((function(){a(r.takeRecords()),o(!0)})),Og((function(){i=0,n=Ng("CLS",0),o=Lg(e,n,Yg,t.reportAllChanges),Ug((function(){return o()}))})),setTimeout(o,0))})))}((function(t){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var o=(n=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||n[0];if(o)return void(e.attribution={largestShiftTarget:Pg(o.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:o,largestShiftEntry:t,loadState:Ig(t.startTime)})}}var n;e.attribution={}}(t),e(t)}),t)},Kg={passive:!0,capture:!0},Qg=new Date,zg=function(e,t){bg||(bg=t,yg=e,Sg=new Date,Zg(removeEventListener),Jg())},Jg=function(){if(yg>=0&&yg<Sg-Qg){var e={entryType:"first-input",name:bg.type,target:bg.target,cancelable:bg.cancelable,startTime:bg.timeStamp,processingStart:bg.timeStamp+yg};Cg.forEach((function(t){t(e)})),Cg=[]}},Xg=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var o=function(){zg(e,t),i()},n=function(){i()},i=function(){removeEventListener("pointerup",o,Kg),removeEventListener("pointercancel",n,Kg)};addEventListener("pointerup",o,Kg),addEventListener("pointercancel",n,Kg)}(t,e):zg(t,e)}},Zg=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Xg,Kg)}))},ef=[100,300],tf=function(e,t){t=t||{},$g((function(){var o,n=Hg(),i=Ng("FID"),s=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),o(!0))},a=function(e){e.forEach(s)},r=Dg("first-input",a);o=Lg(e,i,ef,t.reportAllChanges),r&&kg(xg((function(){a(r.takeRecords()),r.disconnect()}))),r&&Og((function(){var n;i=Ng("FID"),o=Lg(e,i,ef,t.reportAllChanges),Cg=[],yg=-1,bg=null,Zg(addEventListener),n=s,Cg.push(n),Jg()}))}))},of=0,nf=1/0,sf=0,af=function(e){e.forEach((function(e){e.interactionId&&(nf=Math.min(nf,e.interactionId),sf=Math.max(sf,e.interactionId),of=sf?(sf-nf)/7+1:0)}))},rf=function(){return Tg?of:performance.interactionCount||0},df=function(){"interactionCount"in performance||Tg||(Tg=Dg("event",af,{type:"event",buffered:!0,durationThreshold:0}))},lf=[200,500],cf=0,uf=function(){return rf()-cf},hf=[],pf={},mf=function(e){var t=hf[hf.length-1],o=pf[e.interactionId];if(o||hf.length<10||e.duration>t.latency){if(o)o.entries.push(e),o.latency=Math.max(o.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};pf[n.id]=n,hf.push(n)}hf.sort((function(e,t){return t.latency-e.latency})),hf.splice(10).forEach((function(e){delete pf[e.id]}))}},gf=function(e,t){!function(e,t){t=t||{},$g((function(){var o;df();var n,i=Ng("INP"),s=function(e){e.forEach((function(e){e.interactionId&&mf(e),"first-input"===e.entryType&&!hf.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&mf(e)}));var t,o=(t=Math.min(hf.length-1,Math.floor(uf()/50)),hf[t]);o&&o.latency!==i.value&&(i.value=o.latency,i.entries=o.entries,n())},a=Dg("event",s,{durationThreshold:null!==(o=t.durationThreshold)&&void 0!==o?o:40});n=Lg(e,i,lf,t.reportAllChanges),a&&("interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),kg((function(){s(a.takeRecords()),i.value<0&&uf()>0&&(i.value=0,i.entries=[]),n(!0)})),Og((function(){hf=[],cf=rf(),i=Ng("INP"),n=Lg(e,i,lf,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:Pg(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:Ig(t.startTime)}}else e.attribution={}}(t),e(t)}),t)},ff=[2500,4e3],_f={},vf=[800,1800],Ef=function e(t){document.prerendering?$g((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},bf=function(e,t){t=t||{};var o=Ng("TTFB"),n=Lg(e,o,vf,t.reportAllChanges);Ef((function(){var i=wg();if(i){var s=i.responseStart;if(s<=0||s>performance.now())return;o.value=Math.max(s-Mg(),0),o.entries=[i],n(!0),Og((function(){o=Ng("TTFB",0),(n=Lg(e,o,vf,t.reportAllChanges))(!0)}))}}))};const yf=[{dpi:3,height:926,width:428,version:"iphone 12 Pro Max",yearClass:2020},{dpi:3,height:896,width:414,version:"iphone 11 Pro Max",yearClass:2019},{dpi:3,height:844,width:390,version:"iphone 12",yearClass:2020},{dpi:3,height:812,width:375,version:"iphone 7",yearClass:2016},{dpi:3,height:736,width:414,version:"iphone 8 Plus",yearClass:2017},{dpi:2,height:896,width:414,version:"iphone 11",yearClass:2019},{dpi:2,height:667,width:375,version:"iphone SE 2nd Gen",yearClass:2020},{dpi:2,height:568,width:320,version:"iphone 5S",yearClass:2013},{dpi:2,height:480,width:320,version:"iphone 4S",yearClass:2011}];function Sf(){const e=function(e){if(!window.screen||!window.devicePixelRatio)return;const{height:t,width:o}=window.screen,n=window.devicePixelRatio;return o&&t&&n?e.find((e=>n===e.dpi&&t===e.height&&o===e.width)):void 0}(yf);if(e)return{deviceName:e.version.toLowerCase().replace(" ","-"),yearClass:e.yearClass}}class Cf{constructor(e){this._custom={},this._metrics={},this._isCached=!1,this.remeasureForBFCacheRestore=e=>{const t={metrics:{},meta:{},cache_restore:!0};Object.keys(this._metrics).forEach((e=>{this.isKeyCustomMetric(e)||this._metrics[e]&&(t.metrics[e]=0)})),Object.keys(t.metrics).length&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{const o=performance.now()-e.timeStamp;Object.keys(t.metrics).forEach((e=>{t.metrics[e]=o})),this.notifyAndSendMetrics(t)}))}))},this._callback=e}async connect(){const{isCached:e,unsubscribe:t}=await(e=>{const t=t=>{t.persisted&&e(t)};window.addEventListener("pageshow",t,!0);const o=new ie;return o.resolve({isCached:cp(),unsubscribe:()=>{window.removeEventListener("pageshow",t)}}),o.promise})(this.remeasureForBFCacheRestore);this._unsubscribeFromCacheRestore=t,this._isCached=e,this.gatherThenSendMetrics();Object.keys(this._metrics).some((e=>!this.isKeyCustomMetric(e)&&!this._metrics[e]))&&this.registerPerfObserver()}disconnect(){var e,t;null===(e=this._observer)||void 0===e||e.disconnect(),null===(t=this._unsubscribeFromCacheRestore)||void 0===t||t.call(this)}gatherThenSendMetrics(){const e=this.gatherMetrics();this.notifyAndSendMetrics(e)}notifyAndSendMetrics(e){Object.keys(e.metrics).length&&this._callback(e)}isKeyCustomMetric(e){return Object.prototype.hasOwnProperty.call(this._custom,e)}gatherMetrics(){const e={metrics:{},meta:{}};return this._isCached&&(e.cache_restore=!0),Object.keys(this._metrics).forEach((t=>{var o;if(this._metrics[t])return;if(this.isKeyCustomMetric(t)){const{value:n,meta:i}=null!==(o=this._custom[t])&&void 0!==o?o:{};n>-1&&(e.metrics[t]=n,e.meta[t]=Object.assign({},i),this._metrics[t]=!0)}performance.getEntriesByName(t,"mark").length&&performance.measure(t,"fetchStart",t);const n=performance.getEntriesByName(t,"measure");if(n.length){const{duration:o}=n[0];e.metrics[t]=Math.ceil(o),this._metrics[t]=!0}})),e}registerPerfObserver(){this._observer=new PerformanceObserver((e=>{e.getEntries().some((e=>!!e.name&&!this._metrics[e.name]))&&this.gatherThenSendMetrics()})),this._observer.observe({entryTypes:["mark"]})}registerPerfMetric(e){this._metrics[e]=!1}registerCustomMetric(e){return this._custom[e]={value:-1,meta:{}},this.registerPerfMetric(e),(t,o)=>{this._custom[e]={value:t,meta:o},this.gatherThenSendMetrics()}}getCustomMetricValue(e){return this._custom[e]}}var Tf;!function(e){e.CLS="cumulative-layout-shift",e.FID="first-input-delay",e.LCP="largest-contentful-paint",e.TTFB="time-to-first-byte",e.INP="interaction-to-next-paint"}(Tf||(Tf={}));let wf=class extends e{constructor(){super(...arguments),this._perfMetrics=new Cf((e=>{var t;const o=null===(t=Sf())||void 0===t?void 0:t.yearClass,n=Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),o&&{yearClass:o})}),i=V("faceplate-request",{resource:this.endpoint,request:{body:n}});if(this.dispatchEvent(i),i.defaultPrevented)return;const s=JSON.stringify(i.detail.request.body);Mr(this.endpoint,s)})),this.endpoint=""}render(){return o` <slot hidden></slot> `}firstUpdated(){if(this.endpoint){if(this._slottedContent)for(const e of this._slottedContent)e instanceof HTMLDataElement&&this.parseDataElement(e);jg(this.onWebVitalMeasured(Tf.CLS,(e=>e))),function(e,t){tf((function(t){!function(e){var t=e.entries[0];e.attribution={eventTarget:Pg(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:Ig(t.startTime)}}(t),e(t)}),t)}(this.onWebVitalMeasured(Tf.FID,Math.ceil)),function(e,t){bf((function(t){!function(e){if(e.entries.length){var t=e.entries[0],o=t.activationStart||0,n=Math.max(t.domainLookupStart-o,0),i=Math.max(t.connectStart-o,0),s=Math.max(t.requestStart-o,0);e.attribution={waitingTime:n,dnsTime:i-n,connectionTime:s-i,requestTime:e.value-s,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(t),e(t)}),t)}(this.onWebVitalMeasured(Tf.TTFB,Math.ceil)),this.onLCP(this.onWebVitalMeasured(Tf.LCP,Math.ceil)),this.onLCP(this.onWebVitalMeasured("longest-contentful-paint",Math.ceil)),this.onINP(this.onWebVitalMeasured(Tf.INP,Math.ceil)),this._perfMetrics.connect()}else console.error("faceplate-perfmetric-collector: no endpoint specified")}onINP(...e){return gf(...e)}onLCP(...e){return function(e,t){!function(e,t){t=t||{},$g((function(){var o,n=Hg(),i=Ng("LCP"),s=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(i.value=Math.max(t.startTime-Mg(),0),i.entries=[t],o())},a=Dg("largest-contentful-paint",s);if(a){o=Lg(e,i,ff,t.reportAllChanges);var r=xg((function(){_f[i.id]||(s(a.takeRecords()),a.disconnect(),_f[i.id]=!0,o(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(r,0)}),!0)})),kg(r),Og((function(n){i=Ng("LCP"),o=Lg(e,i,ff,t.reportAllChanges),Ug((function(){i.value=performance.now()-n.timeStamp,_f[i.id]=!0,o(!0)}))}))}}))}((function(t){!function(e){if(e.entries.length){var t=wg();if(t){var o=t.activationStart||0,n=e.entries[e.entries.length-1],i=n.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===n.url}))[0],s=Math.max(0,t.responseStart-o),a=Math.max(s,i?(i.requestStart||i.startTime)-o:0),r=Math.max(a,i?i.responseEnd-o:0),d=Math.max(r,n?n.startTime-o:0),l={element:Pg(n.element),timeToFirstByte:s,resourceLoadDelay:a-s,resourceLoadTime:r-a,elementRenderDelay:d-r,navigationEntry:t,lcpEntry:n};return n.url&&(l.url=n.url),i&&(l.lcpResourceEntry=i),void(e.attribution=l)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(t),e(t)}),t)}(...e)}onWebVitalMeasured(e,t){const o=this._perfMetrics.registerCustomMetric(e);return n=>{var i;-1===n.value||(null===(i=this._perfMetrics.getCustomMetricValue(e))||void 0===i?void 0:i.value)>-1||o(t(n.value),n.attribution)}}disconnectedCallback(){super.disconnectedCallback(),this._perfMetrics.disconnect()}parseDataElement(e){const t=e.value;this._perfMetrics.registerPerfMetric(t)}};E([B()],wf.prototype,"_slottedContent",void 0),E([O({type:String})],wf.prototype,"endpoint",void 0),wf=E([P("faceplate-perfmetric-collector")],wf);const If=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],Af=e=>{document.prerendering?addEventListener("prerenderingchange",(()=>Af(e)),!0):"complete"!==document.readyState?addEventListener("load",(()=>Af(e)),!0):setTimeout((()=>e()),0)};let Pf=class extends e{constructor(){super(...arguments),this.endpoint=""}render(){return o`<slot hidden></slot>`}firstUpdated(){this.endpoint&&Af(this.recordNavigationTimings.bind(this))}recordNavigationTimings(){const e=performance.getEntriesByType("navigation")[0];if(void 0===e)return;const t=e.toJSON(),o={};for(const n of If)n in e&&(o[n]=Math.ceil(t[n]));const n=V("faceplate-request",{resource:this.endpoint,request:{body:{metrics:o}}});if(this.dispatchEvent(n),n.defaultPrevented)return;const i=JSON.stringify(n.detail.request.body);Mr(this.endpoint,i)}};E([O({type:String})],Pf.prototype,"endpoint",void 0),Pf=E([P("shreddit-navtimings-collector")],Pf);let Rf=Qu,Of=class extends e{constructor(){super(...arguments),this.name="",this.activation=ce.Action,this.queryParams={},this.routeParams={},this.isReactivatable=!1,this.isScoped=!1,this._reactiveControllers=[],this.handleActivate=async e=>{e._featureActivationHandled||this._hasBeenActivated()&&!this.isReactivatable||(e.stopPropagation(),await this._activateFeature(),this.isReactivatable||this._cleanupControllers(),e._featureActivationHandled=!0,e.target?.dispatchEvent(e))}}async _activateFeature(){await Rf({name:this.name,renderMode:this.renderMode,queryParams:this.queryParams,routeParams:this.routeParams,root:this.isScoped?this:void 0})}_hasBeenActivated(){return ju(this.name)}_cleanupControllers(){this._reactiveControllers.forEach((e=>Y(this,e))),this._reactiveControllers=[]}connectedCallback(){super.connectedCallback(),this.activation===ce.Action?this._reactiveControllers.push(j(this,this,this.handleActivate,{capture:!0})):this.activation===ce.Intent&&(this._reactiveControllers.push(K(this,this,this.handleActivate,{capture:!0})),this._reactiveControllers.push(j(this,this,this.handleActivate,{capture:!0})))}disconnectedCallback(){super.disconnectedCallback(),this._cleanupControllers()}createRenderRoot(){return this}};E([O({type:String})],Of.prototype,"name",void 0),E([O({type:String,attribute:"activation"})],Of.prototype,"activation",void 0),E([O({type:String,attribute:"render-mode"})],Of.prototype,"renderMode",void 0),E([O({type:Object,attribute:"query-params"})],Of.prototype,"queryParams",void 0),E([O({type:Object,attribute:"route-params"})],Of.prototype,"routeParams",void 0),E([O({type:Boolean,attribute:"reactivatable"})],Of.prototype,"isReactivatable",void 0),E([O({type:Boolean,attribute:"scoped"})],Of.prototype,"isScoped",void 0),Of=E([P("activate-feature")],Of);let Mf=Qu;async function Nf(e,t){await Mf({name:"CommunityGuide_0CWwQB",routeParams:{subredditName:e},queryParams:{...t?{isDisplayingOnJoin:"true"}:{}},renderMode:pe.Contents});const o=function(e){const t=function(e){return`community-guide-dialog-${e}`}(e);return document.querySelector(`rpl-dialog[dialog-id="${t}"]`)}(e);if(o)return o.showModal();const n=function(e){const t=function(e){return`community-guide-bottom-sheet-${e}`}(e);return document.querySelector(`#${t}`)}(e);return n?n.showModal():void 0}const Df={AccountAge_30Days:"ACCOUNT_AGE_30_DAYS",Anybody:"ANYBODY",Nobody:"NOBODY"},Lf={Everyone:"EVERYONE",Whitelisted:"WHITELISTED"},Uf={Female:"FEMALE",Male:"MALE",NonBinary:"NON_BINARY",OptOut:"OPT_OUT",UserDefined:"USER_DEFINED"},kf={Banana:"BANANA",Comment:"COMMENT",Community:"COMMUNITY",Day:"DAY",Post:"POST",SearchResult:"SEARCH_RESULT",Share:"SHARE",Unknown:"UNKNOWN",Upvote:"UPVOTE",Year:"YEAR"},xf={Common:"COMMON",Epic:"EPIC",Legendary:"LEGENDARY",Rare:"RARE",Unknown:"UNKNOWN"},Ff={Click:"CLICK",Dismiss:"DISMISS",Undo:"UNDO",View:"VIEW"},Bf={Archived:"ARCHIVED",CampaignPaused:"CAMPAIGN_PAUSED",Completed:"COMPLETED",Deleted:"DELETED",FlightPaused:"FLIGHT_PAUSED",Paused:"PAUSED",Pending:"PENDING",PendingIdVerification:"PENDING_ID_VERIFICATION",Processing:"PROCESSING",Rejected:"REJECTED",Running:"RUNNING"},Vf={Allowlisted:"ALLOWLISTED",None:"NONE"},Gf={Disabled:"DISABLED",Enabled:"ENABLED"},Wf={CommentBody:"COMMENT_BODY",PostBody:"POST_BODY",PostFlair:"POST_FLAIR",PostTitle:"POST_TITLE",PostType:"POST_TYPE",PostUrl:"POST_URL",UserFlair:"USER_FLAIR"},Hf={Comment:"COMMENT",Post:"POST"},$f={ClosetOnly:"CLOSET_ONLY",Deleted:"DELETED",Disabled:"DISABLED",Enabled:"ENABLED",InternalOnly:"INTERNAL_ONLY",PendingDelete:"PENDING_DELETE",Restricted:"RESTRICTED"},qf={Accessory:"ACCESSORY",AccessoryBack:"ACCESSORY_BACK",Background:"BACKGROUND",Body:"BODY",BodyBottom:"BODY_BOTTOM",FaceLower:"FACE_LOWER",FaceUpper:"FACE_UPPER",Hair:"HAIR",HairBack:"HAIR_BACK",HeadAccessory:"HEAD_ACCESSORY",Shadow:"SHADOW"},Yf={Lenient:"LENIENT",Off:"OFF",Strict:"STRICT"},jf={Blocked:"BLOCKED",None:"NONE"},Kf={None:"NONE",NotAllowed:"NOT_ALLOWED",Required:"REQUIRED"},Qf={Aci:"ACI",Search:"SEARCH",TaxonomyEntity:"TAXONOMY_ENTITY",TaxonomyTopic:"TAXONOMY_TOPIC"},zf={Negative:"NEGATIVE",Neutral:"NEUTRAL",Positive:"POSITIVE"},Jf={Affinity:"AFFINITY",Mentions:"MENTIONS",SentimentScore:"SENTIMENT_SCORE"},Xf={Image:"IMAGE",Text:"TEXT"},Zf={Gif:"GIF",Image:"IMAGE",Sticker:"STICKER"},e_={ClientSide:"CLIENT_SIDE",ServerSide:"SERVER_SIDE"},t_={Company:"COMPANY",CompanyEmail:"COMPANY_EMAIL",Email:"EMAIL",FirstName:"FIRST_NAME",JobTitle:"JOB_TITLE",LastName:"LAST_NAME",PhoneNumber:"PHONE_NUMBER",PostalCode:"POSTAL_CODE"},o_={Distinguished:"DISTINGUISHED",DistinguishedAndStickied:"DISTINGUISHED_AND_STICKIED",None:"NONE"},n_={Followed:"FOLLOWED",Unfollowed:"UNFOLLOWED"},i_={Animated:"ANIMATED",Expression:"EXPRESSION",Giphy:"GIPHY",Static:"STATIC",Video:"VIDEO"},s_={None:"NONE",Saved:"SAVED"},a_={Blank:"BLANK",Confidence:"CONFIDENCE",Controversial:"CONTROVERSIAL",Live:"LIVE",New:"NEW",Old:"OLD",Qa:"QA",Random:"RANDOM",Top:"TOP"},r_={DoNotSend:"DO_NOT_SEND",Send:"SEND"},d_={High:"HIGH",Highest:"HIGHEST",Low:"LOW",Lowest:"LOWEST",Medium:"MEDIUM",NoLevel:"NO_LEVEL"},l_={Lenient:"LENIENT",Medium:"MEDIUM",Off:"OFF",Strict:"STRICT"},c_={Aed:"AED",All:"ALL",Amd:"AMD",Aud:"AUD",Awg:"AWG",Bgn:"BGN",Bhd:"BHD",Bnd:"BND",Bob:"BOB",Brl:"BRL",Bwp:"BWP",Cad:"CAD",Chf:"CHF",Clp:"CLP",Cny:"CNY",Coins:"COINS",Cop:"COP",Crc:"CRC",Czk:"CZK",Dkk:"DKK",Dzd:"DZD",Egp:"EGP",Ethereum:"ETHEREUM",Eur:"EUR",Fjd:"FJD",Gbp:"GBP",Gel:"GEL",Ghs:"GHS",Gold:"GOLD",Hkd:"HKD",Hrk:"HRK",Huf:"HUF",Idr:"IDR",Ils:"ILS",Inr:"INR",Iqd:"IQD",Isk:"ISK",Jod:"JOD",Jpy:"JPY",Kes:"KES",Krw:"KRW",Kzt:"KZT",Mad:"MAD",Mdl:"MDL",Mkd:"MKD",Mur:"MUR",Mxn:"MXN",Myr:"MYR",Ngn:"NGN",Nok:"NOK",Nzd:"NZD",Pen:"PEN",Php:"PHP",Pkr:"PKR",Pln:"PLN",Pyg:"PYG",Qar:"QAR",RedditGold:"REDDIT_GOLD",Ron:"RON",Rsd:"RSD",Rub:"RUB",Sar:"SAR",Sek:"SEK",Sgd:"SGD",SubredditPoints:"SUBREDDIT_POINTS",Thb:"THB",Tnd:"TND",Try:"TRY",Ttd:"TTD",Twd:"TWD",Tzs:"TZS",Uah:"UAH",Usd:"USD",Uyu:"UYU",Vnd:"VND",Wst:"WST",Xcd:"XCD",Zar:"ZAR"},u_={Friday:"FRIDAY",Monday:"MONDAY",Saturday:"SATURDAY",Sunday:"SUNDAY",Thursday:"THURSDAY",Tuesday:"TUESDAY",Wednesday:"WEDNESDAY"},h_={Onboarding:"ONBOARDING",Unknown:"UNKNOWN"},p_={AdminDistinguished:"ADMIN_DISTINGUISHED",AlumniDistinguished:"ALUMNI_DISTINGUISHED",ModDistinguished:"MOD_DISTINGUISHED",None:"NONE"},m_={Admin:"ADMIN",Gold:"GOLD",GoldAuto:"GOLD_AUTO",Moderator:"MODERATOR",Special:"SPECIAL"},g_={AllowAll:"ALLOW_ALL",AllowSome:"ALLOW_SOME",BlockAll:"BLOCK_ALL",BlockSome:"BLOCK_SOME"},f_={All:"ALL",LinkFlair:"LINK_FLAIR",None:"NONE",UserFlair:"USER_FLAIR"},__={Production:"PRODUCTION",Sandbox:"SANDBOX"},v_={Favorited:"FAVORITED",None:"NONE"},E_={All:"ALL",Gif:"GIF",Image:"IMAGE",Media:"MEDIA",Text:"TEXT",Video:"VIDEO"},b_={Filter:"FILTER",Remove:"REMOVE"},y_={MediaOnly:"MEDIA_ONLY",Off:"OFF"},S_={All:"ALL",Emoji:"EMOJI",Text:"TEXT"},C_={Dark:"DARK",Light:"LIGHT"},T_={Author:"AUTHOR",Post:"POST"},w_={Followed:"FOLLOWED",None:"NONE"},I_={Daily:"DAILY",Hourly:"HOURLY",Monthly:"MONTHLY",Weekly:"WEEKLY"},A_={Enrolled:"ENROLLED",OptOut:"OPT_OUT",Unknown:"UNKNOWN"},P_={High:"HIGH",Low:"LOW"},R_={Lenient:"LENIENT",Moderate:"MODERATE",Off:"OFF",Strict:"STRICT"},O_={CustomUploadedMedia:"CUSTOM_UPLOADED_MEDIA",SubredditBanner:"SUBREDDIT_BANNER"},M_={Hidden:"HIDDEN",None:"NONE"},N_={Announcement:"ANNOUNCEMENT",Event:"EVENT",Megathread:"MEGATHREAD",ShowPostFlair:"SHOW_POST_FLAIR"},D_={Apple:"APPLE",Google:"GOOGLE"},L_={Epic:"EPIC",Legendary:"LEGENDARY",Rare:"RARE",Test:"TEST"},U_={Blacklist:"BLACKLIST",None:"NONE",Whitelist:"WHITELIST"},k_={Locked:"LOCKED",None:"NONE"},x_={Disabled:"DISABLED",Enabled:"ENABLED",Unset:"UNSET"},F_={AddToCollection:"ADD_TO_COLLECTION",AdminAnnouncementEmail:"ADMIN_ANNOUNCEMENT_EMAIL",AdsAutomatedReport:"ADS_AUTOMATED_REPORT",AdsCampaignApproved:"ADS_CAMPAIGN_APPROVED",AdsCampaignRejected:"ADS_CAMPAIGN_REJECTED",AdsRoleInvitation:"ADS_ROLE_INVITATION",AeDmcaNotifySubmitter:"AE_DMCA_NOTIFY_SUBMITTER",AmaReminder:"AMA_REMINDER",Ato:"ATO",AwardReceived:"AWARD_RECEIVED",BroadcastFollower:"BROADCAST_FOLLOWER",BroadcastRecommendation:"BROADCAST_RECOMMENDATION",CakeDay:"CAKE_DAY",ChatAcceptInvite:"CHAT_ACCEPT_INVITE",ChatMessage:"CHAT_MESSAGE",ChatMessageReaction:"CHAT_MESSAGE_REACTION",ChatRequest:"CHAT_REQUEST",CommentFollow:"COMMENT_FOLLOW",CommentReply:"COMMENT_REPLY",CryptoTransactionApproval:"CRYPTO_TRANSACTION_APPROVAL",CuratedOneOff:"CURATED_ONE_OFF",EconPromotion:"ECON_PROMOTION",EmailChangeEmail:"EMAIL_CHANGE_EMAIL",EmailChatRequest:"EMAIL_CHAT_REQUEST",EmailCommentReply:"EMAIL_COMMENT_REPLY",EmailCommunityDiscovery:"EMAIL_COMMUNITY_DISCOVERY",EmailDigest:"EMAIL_DIGEST",EmailExternalVerification:"EMAIL_EXTERNAL_VERIFICATION",EmailMagicLinkLogin:"EMAIL_MAGIC_LINK_LOGIN",EmailMagicLinkRegister:"EMAIL_MAGIC_LINK_REGISTER",EmailNewUserEducation:"EMAIL_NEW_USER_EDUCATION",EmailPostReply:"EMAIL_POST_REPLY",EmailPrivateMessage:"EMAIL_PRIVATE_MESSAGE",EmailRedditProUserEngagement:"EMAIL_REDDIT_PRO_USER_ENGAGEMENT",EmailRedditProUserTrends:"EMAIL_REDDIT_PRO_USER_TRENDS",EmailUpvoteComment:"EMAIL_UPVOTE_COMMENT",EmailUpvotePost:"EMAIL_UPVOTE_POST",EmailUsernameMention:"EMAIL_USERNAME_MENTION",EmailUserNewFollower:"EMAIL_USER_NEW_FOLLOWER",EmailWeeklyRecap:"EMAIL_WEEKLY_RECAP",Escalation:"ESCALATION",ExportCompleteNotifyUserEmail:"EXPORT_COMPLETE_NOTIFY_USER_EMAIL",ForgotUsername:"FORGOT_USERNAME",GamificationAchievementUnlocked:"GAMIFICATION_ACHIEVEMENT_UNLOCKED",GamificationReminder:"GAMIFICATION_REMINDER",HotPotatoOverwritten:"HOT_POTATO_OVERWRITTEN",IncentivizedPromotion:"INCENTIVIZED_PROMOTION",LifecyclePostSuggestions:"LIFECYCLE_POST_SUGGESTIONS",LiveEvent:"LIVE_EVENT",ModeratedOneOff:"MODERATED_ONE_OFF",ModeratedSrContentFoundation:"MODERATED_SR_CONTENT_FOUNDATION",ModeratedSrEngagement:"MODERATED_SR_ENGAGEMENT",ModeratedSrMilestone:"MODERATED_SR_MILESTONE",ModeratedSrNewModmail:"MODERATED_SR_NEW_MODMAIL",ModeratedSrNewPost:"MODERATED_SR_NEW_POST",ModeratedSrReportedComment:"MODERATED_SR_REPORTED_COMMENT",ModeratedSrReportedPost:"MODERATED_SR_REPORTED_POST",ModeratedSrViralCommentPost:"MODERATED_SR_VIRAL_COMMENT_POST",ModeratedSrViralUpvotePost:"MODERATED_SR_VIRAL_UPVOTE_POST",MorePostActivity:"MORE_POST_ACTIVITY",News:"NEWS",NewPinnedPost:"NEW_PINNED_POST",NewPostActivity:"NEW_POST_ACTIVITY",Oauth2AppAdd:"OAUTH2_APP_ADD",Oauth2AppApprove:"OAUTH2_APP_APPROVE",OneOff:"ONE_OFF",PasswordReset:"PASSWORD_RESET",PnCommentGivenRedditGold:"PN_COMMENT_GIVEN_REDDIT_GOLD",PnPostGivenRedditGold:"PN_POST_GIVEN_REDDIT_GOLD",PostFlairAdded:"POST_FLAIR_ADDED",PostFollow:"POST_FOLLOW",PostInsightsRecap:"POST_INSIGHTS_RECAP",PostReply:"POST_REPLY",PrivateMessage:"PRIVATE_MESSAGE",PushTokenHealthCheck:"PUSH_TOKEN_HEALTH_CHECK",RedditLore:"REDDIT_LORE",RedditMomentUpdate:"REDDIT_MOMENT_UPDATE",Rereddit:"REREDDIT",ScheduledEvent:"SCHEDULED_EVENT",Security:"SECURITY",Subreddit:"SUBREDDIT",SubredditRecommendation:"SUBREDDIT_RECOMMENDATION",SubredditUpdatesInterestingPost:"SUBREDDIT_UPDATES_INTERESTING_POST",TalkLive:"TALK_LIVE",ThreadReplies:"THREAD_REPLIES",TopLevelComment:"TOP_LEVEL_COMMENT",TrendingGeo:"TRENDING_GEO",UnmoderatedChannel:"UNMODERATED_CHANNEL",UpvoteComment:"UPVOTE_COMMENT",UpvotePost:"UPVOTE_POST",UsernameMention:"USERNAME_MENTION",UsernameTakeoverCompleted:"USERNAME_TAKEOVER_COMPLETED",UserFlairAdded:"USER_FLAIR_ADDED",UserNewFollower:"USER_NEW_FOLLOWER",VerifyEmail:"VERIFY_EMAIL"},B_={Gif:"GIF",Jpeg:"JPEG",Mp4:"MP4",Png:"PNG",Quicktime:"QUICKTIME",Webp:"WEBP"},V_={AcceptModeratorInvite:"ACCEPT_MODERATOR_INVITE",AddCommunityTopics:"ADD_COMMUNITY_TOPICS",AddContributor:"ADD_CONTRIBUTOR",AddModerator:"ADD_MODERATOR",AddNote:"ADD_NOTE",AddRemovalReason:"ADD_REMOVAL_REASON",AdjustPostCrowdControlLevel:"ADJUST_POST_CROWD_CONTROL_LEVEL",ApproveAward:"APPROVE_AWARD",ApproveComment:"APPROVE_COMMENT",ApproveLink:"APPROVE_LINK",BanUser:"BAN_USER",ChatApproveMessage:"CHAT_APPROVE_MESSAGE",ChatBanUser:"CHAT_BAN_USER",ChatInviteHost:"CHAT_INVITE_HOST",ChatRemoveHost:"CHAT_REMOVE_HOST",ChatRemoveMessage:"CHAT_REMOVE_MESSAGE",ChatUnbanUser:"CHAT_UNBAN_USER",Collections:"COLLECTIONS",CommunityStatus:"COMMUNITY_STATUS",CommunityStyling:"COMMUNITY_STYLING",CommunityWelcomePage:"COMMUNITY_WELCOME_PAGE",CommunityWidgets:"COMMUNITY_WIDGETS",CreateAward:"CREATE_AWARD",CreateRemovalReason:"CREATE_REMOVAL_REASON",CreateRule:"CREATE_RULE",CreateScheduledPost:"CREATE_SCHEDULED_POST",DeleteAward:"DELETE_AWARD",DeleteNote:"DELETE_NOTE",DeleteOverriddenClassification:"DELETE_OVERRIDDEN_CLASSIFICATION",DeleteRemovalReason:"DELETE_REMOVAL_REASON",DeleteRule:"DELETE_RULE",DeleteScheduledPost:"DELETE_SCHEDULED_POST",DevPlatformAppChanged:"DEV_PLATFORM_APP_CHANGED",DevPlatformAppDisabled:"DEV_PLATFORM_APP_DISABLED",DevPlatformAppEnabled:"DEV_PLATFORM_APP_ENABLED",DevPlatformAppInstalled:"DEV_PLATFORM_APP_INSTALLED",DevPlatformAppUninstalled:"DEV_PLATFORM_APP_UNINSTALLED",DisableAward:"DISABLE_AWARD",DisablePostCrowdControlFilter:"DISABLE_POST_CROWD_CONTROL_FILTER",Distinguish:"DISTINGUISH",EditCommentRequirements:"EDIT_COMMENT_REQUIREMENTS",EditFlair:"EDIT_FLAIR",EditPostRequirements:"EDIT_POST_REQUIREMENTS",EditRule:"EDIT_RULE",EditSavedResponse:"EDIT_SAVED_RESPONSE",EditScheduledPost:"EDIT_SCHEDULED_POST",EditSettings:"EDIT_SETTINGS",EnableAward:"ENABLE_AWARD",EnablePostCrowdControlFilter:"ENABLE_POST_CROWD_CONTROL_FILTER",Events:"EVENTS",HiddenAward:"HIDDEN_AWARD",IgnoreReports:"IGNORE_REPORTS",InviteModerator:"INVITE_MODERATOR",InviteSubscriber:"INVITE_SUBSCRIBER",Lock:"LOCK",MarkNsfw:"MARK_NSFW",MarkOriginalContent:"MARK_ORIGINAL_CONTENT",ModmailEnrollment:"MODMAIL_ENROLLMENT",ModAwardGiven:"MOD_AWARD_GIVEN",MuteUser:"MUTE_USER",OverrideClassification:"OVERRIDE_CLASSIFICATION",RemoveComment:"REMOVE_COMMENT",RemoveCommunityTopics:"REMOVE_COMMUNITY_TOPICS",RemoveContributor:"REMOVE_CONTRIBUTOR",RemoveLink:"REMOVE_LINK",RemoveModerator:"REMOVE_MODERATOR",RemoveWikiContributor:"REMOVE_WIKI_CONTRIBUTOR",ReorderModerators:"REORDER_MODERATORS",ReorderRemovalReason:"REORDER_REMOVAL_REASON",ReorderRules:"REORDER_RULES",RequestAssistance:"REQUEST_ASSISTANCE",SetContestMode:"SET_CONTEST_MODE",SetPermissions:"SET_PERMISSIONS",SetSuggestedsort:"SET_SUGGESTEDSORT",ShowComment:"SHOW_COMMENT",SnoozeReports:"SNOOZE_REPORTS",SpamComment:"SPAM_COMMENT",SpamLink:"SPAM_LINK",Spoiler:"SPOILER",Sticky:"STICKY",SubmitContentRatingSurvey:"SUBMIT_CONTENT_RATING_SURVEY",SubmitScheduledPost:"SUBMIT_SCHEDULED_POST",UnbanUser:"UNBAN_USER",UnignoreReports:"UNIGNORE_REPORTS",UninviteModerator:"UNINVITE_MODERATOR",Unlock:"UNLOCK",UnmuteUser:"UNMUTE_USER",UnsetContestMode:"UNSET_CONTEST_MODE",UnsnoozeReports:"UNSNOOZE_REPORTS",Unspoiler:"UNSPOILER",Unsticky:"UNSTICKY",UpdateRemovalReason:"UPDATE_REMOVAL_REASON",WikiBanned:"WIKI_BANNED",WikiContributor:"WIKI_CONTRIBUTOR",WikiPageListed:"WIKI_PAGE_LISTED",WikiPermLevel:"WIKI_PERM_LEVEL",WikiRevise:"WIKI_REVISE",WikiUnbanned:"WIKI_UNBANNED"},G_={All:"ALL",Approval:"APPROVAL",Ban:"BAN",ContentChange:"CONTENT_CHANGE",Invite:"INVITE",ModAction:"MOD_ACTION",Mute:"MUTE",Note:"NOTE",Removal:"REMOVAL",Spam:"SPAM"},W_={Approval:"APPROVAL",Ban:"BAN",ContentChange:"CONTENT_CHANGE",Invite:"INVITE",Mute:"MUTE",Note:"NOTE",Removal:"REMOVAL",Spam:"SPAM"},H_={ModPnsStatus:"MOD_PNS_STATUS",ModPnContentFoundationStatus:"MOD_PN_CONTENT_FOUNDATION_STATUS",ModPnMilestoneStatus:"MOD_PN_MILESTONE_STATUS",ModPnNewCrosspostStatus:"MOD_PN_NEW_CROSSPOST_STATUS",ModPnNewModmailStatus:"MOD_PN_NEW_MODMAIL_STATUS",ModPnNewPostStatus:"MOD_PN_NEW_POST_STATUS",ModPnNewSrMentionStatus:"MOD_PN_NEW_SR_MENTION_STATUS",ModPnPostInPopularFeedStatus:"MOD_PN_POST_IN_POPULAR_FEED_STATUS",ModPnReportedCommentStatus:"MOD_PN_REPORTED_COMMENT_STATUS",ModPnReportedPostStatus:"MOD_PN_REPORTED_POST_STATUS",ModPnViralCommentPostStatus:"MOD_PN_VIRAL_COMMENT_POST_STATUS",ModPnViralUpvotePostStatus:"MOD_PN_VIRAL_UPVOTE_POST_STATUS"},$_={ModPnPostInPopularFeedThreshold:"MOD_PN_POST_IN_POPULAR_FEED_THRESHOLD",ModPnReportedCommentThreshold:"MOD_PN_REPORTED_COMMENT_THRESHOLD",ModPnReportedPostThreshold:"MOD_PN_REPORTED_POST_THRESHOLD",ModPnViralCommentPostThreshold:"MOD_PN_VIRAL_COMMENT_POST_THRESHOLD",ModPnViralUpvotePostThreshold:"MOD_PN_VIRAL_UPVOTE_POST_THRESHOLD"},q_={Auto:"AUTO",Disabled:"DISABLED",Enabled:"ENABLED"},Y_={Award:"AWARD",ChatComment:"CHAT_COMMENT",Comment:"COMMENT",MatrixChatEvent:"MATRIX_CHAT_EVENT",Post:"POST"},j_={SortDate:"SORT_DATE",SortDateReverse:"SORT_DATE_REVERSE",SortReports:"SORT_REPORTS",SortReportsReverse:"SORT_REPORTS_REVERSE"},K_={CommunityChat:"COMMUNITY_CHAT",Edited:"EDITED",Mod:"MOD",Removed:"REMOVED",Reported:"REPORTED",Unmoderated:"UNMODERATED"},Q_={AbuseWarning:"ABUSE_WARNING",Ban:"BAN",BotBan:"BOT_BAN",HelpfulUser:"HELPFUL_USER",PermaBan:"PERMA_BAN",SolidContributor:"SOLID_CONTRIBUTOR",SpamWarning:"SPAM_WARNING",SpamWatch:"SPAM_WATCH"},z_={AdminApproved:"ADMIN_APPROVED",AdminRemoved:"ADMIN_REMOVED",AdminSpammed:"ADMIN_SPAMMED",ModApproved:"MOD_APPROVED",ModRemoved:"MOD_REMOVED",ModSpammed:"MOD_SPAMMED"},J_={All:"ALL",ManageChannels:"MANAGE_CHANNELS",ManageChat:"MANAGE_CHAT",ManageCommunityChat:"MANAGE_COMMUNITY_CHAT",ManageFlair:"MANAGE_FLAIR",ManageModmail:"MANAGE_MODMAIL",ManagePosts:"MANAGE_POSTS",ManageSettings:"MANAGE_SETTINGS",ManageUsers:"MANAGE_USERS",ManageWiki:"MANAGE_WIKI",MonitorChat:"MONITOR_CHAT"},X_={AddModerator:"ADD_MODERATOR",InviteModerator:"INVITE_MODERATOR",RemoveModerator:"REMOVE_MODERATOR",SetInvitePermissions:"SET_INVITE_PERMISSIONS",SetPermissions:"SET_PERMISSIONS",UninviteModerator:"UNINVITE_MODERATOR"},Z_={Hidden:"HIDDEN",Private:"PRIVATE",Public:"PUBLIC"},ev={None:"NONE",Nsfw:"NSFW"},tv={AvailableToClaim:"AVAILABLE_TO_CLAIM",ClaimedSuccessfully:"CLAIMED_SUCCESSFULLY",ClaimFailed:"CLAIM_FAILED",CompletelyClaimed:"COMPLETELY_CLAIMED",InProgress:"IN_PROGRESS",NotEligibleToClaim:"NOT_ELIGIBLE_TO_CLAIM",NoNftLeft:"NO_NFT_LEFT",Undefined:"UNDEFINED"},ov={Business:"BUSINESS",Individual:"INDIVIDUAL",Organization:"ORGANIZATION",PublicFigure:"PUBLIC_FIGURE"},nv={OptedIn:"OPTED_IN",OptedOut:"OPTED_OUT"},iv={AppleInapp:"APPLE_INAPP",Braintree:"BRAINTREE",GoogleInapp:"GOOGLE_INAPP",Internal:"INTERNAL",Ledger:"LEDGER",Meta:"META",Paypal:"PAYPAL",RedditCoins:"REDDIT_COINS",RedditGold:"REDDIT_GOLD",Stripe:"STRIPE"},sv={Distinguished:"DISTINGUISHED",None:"NONE"},av={Link:"LINK",Markdown:"MARKDOWN",Richtext:"RICHTEXT"},rv={All:"ALL",Day:"DAY",Hour:"HOUR",Month:"MONTH",Week:"WEEK",Year:"YEAR"},dv={Awarded:"AWARDED",Best:"BEST",Controversial:"CONTROVERSIAL",Hot:"HOT",New:"NEW",Rising:"RISING",Top:"TOP"},lv={Followed:"FOLLOWED",Unfollowed:"UNFOLLOWED"},cv={Block:"BLOCK",Inform:"INFORM",Report:"REPORT"},uv={All:"ALL",Body:"BODY",Title:"TITLE"},hv={Disabled:"DISABLED",Enabled:"ENABLED"},pv={NoReminder:"NO_REMINDER",Reminder:"REMINDER"},mv={None:"NONE",Saved:"SAVED"},gv={Crosspost:"CROSSPOST",Gallery:"GALLERY",Image:"IMAGE",Link:"LINK",Poll:"POLL",Prediction:"PREDICTION",Spoiler:"SPOILER",Streaming:"STREAMING",Talk:"TALK",Text:"TEXT",Video:"VIDEO",Videogif:"VIDEOGIF"},fv={CommentAsMod:"COMMENT_AS_MOD",CommentAsSubreddit:"COMMENT_AS_SUBREDDIT",MessageAsMod:"MESSAGE_AS_MOD",MessageAsSubreddit:"MESSAGE_AS_SUBREDDIT"},_v={Ads:"ADS",InlineContent:"INLINE_CONTENT",Modmail:"MODMAIL",UserDetails:"USER_DETAILS"},vv={High:"HIGH",Low:"LOW"},Ev={PaymentFailure:"PAYMENT_FAILURE",PaymentSuccess:"PAYMENT_SUCCESS"},bv={DoNotSend:"DO_NOT_SEND",Send:"SEND"},yv={DisplayText:"DISPLAY_TEXT",Url:"URL",Username:"USERNAME"},Sv={Beacons:"BEACONS",BuyMeACoffee:"BUY_ME_A_COFFEE",Cameo:"CAMEO",CashApp:"CASH_APP",Custom:"CUSTOM",Discord:"DISCORD",Facebook:"FACEBOOK",Indiegogo:"INDIEGOGO",Instagram:"INSTAGRAM",Kickstarter:"KICKSTARTER",Kofi:"KOFI",Linktree:"LINKTREE",Onlyfans:"ONLYFANS",Patreon:"PATREON",Paypal:"PAYPAL",Reddit:"REDDIT",Shopify:"SHOPIFY",Soundcloud:"SOUNDCLOUD",Spotify:"SPOTIFY",Substack:"SUBSTACK",Tiktok:"TIKTOK",Tumblr:"TUMBLR",Twitch:"TWITCH",Twitter:"TWITTER",Venmo:"VENMO",Youtube:"YOUTUBE"},Cv={Reonboarding:"REONBOARDING"},Tv={None:"NONE",Spoiler:"SPOILER"},wv={First:"FIRST",None:"NONE",Second:"SECOND"},Iv={Id:"ID",IdReverse:"ID_REVERSE",Name:"NAME",NameReverse:"NAME_REVERSE"},Av={Available:"AVAILABLE",Expired:"EXPIRED",Pending:"PENDING",SoldOut:"SOLD_OUT"},Pv={CreationTime:"CREATION_TIME",CreationTimeReverse:"CREATION_TIME_REVERSE",Price:"PRICE",PriceReverse:"PRICE_REVERSE",ReleaseTime:"RELEASE_TIME",ReleaseTimeReverse:"RELEASE_TIME_REVERSE",TotalInventory:"TOTAL_INVENTORY",TotalInventoryReverse:"TOTAL_INVENTORY_REVERSE"},Rv={Any:"ANY",Link:"LINK",Self:"SELF"},Ov={Frequent:"FREQUENT",Low:"LOW",Off:"OFF"},Mv={All:"ALL",Mods:"MODS",ModsAndContributors:"MODS_AND_CONTRIBUTORS",Off:"OFF",Unknown:"UNKNOWN"},Nv={Comment:"COMMENT",Post:"POST"},Dv={Comment:"COMMENT",Link:"LINK",LinkAndComment:"LINK_AND_COMMENT"},Lv={BackgroundImage:"BACKGROUND_IMAGE",BannerBackgroundImage:"BANNER_BACKGROUND_IMAGE",BannerPositionedImage:"BANNER_POSITIONED_IMAGE",CommunityIcon:"COMMUNITY_ICON",MenuBackgroundImage:"MENU_BACKGROUND_IMAGE",MobileBannerImage:"MOBILE_BANNER_IMAGE",SecondaryBannerPositionedImage:"SECONDARY_BANNER_POSITIONED_IMAGE",WidgetImage:"WIDGET_IMAGE"},Uv={Archived:"ARCHIVED",EmployeesOnly:"EMPLOYEES_ONLY",GoldOnly:"GOLD_ONLY",GoldRestricted:"GOLD_RESTRICTED",Private:"PRIVATE",Public:"PUBLIC",Restricted:"RESTRICTED",User:"USER"},kv={Cloud:"CLOUD",List:"LIST"},xv={Compact:"COMPACT",Full:"FULL"},Fv={Button:"BUTTON",Calendar:"CALENDAR",CommunityList:"COMMUNITY_LIST",Custom:"CUSTOM",IdCard:"ID_CARD",Image:"IMAGE",Menu:"MENU",PostFlair:"POST_FLAIR",SubredditRules:"SUBREDDIT_RULES",TextArea:"TEXT_AREA"},Bv={Community:"COMMUNITY",Premium:"PREMIUM",Unspecified:"UNSPECIFIED"},Vv={None:"NONE",Subscribed:"SUBSCRIBED"},Gv={Aborted:"ABORTED",Activating:"ACTIVATING",Active:"ACTIVE",Canceled:"CANCELED",Failed:"FAILED",Pending:"PENDING",Terminated:"TERMINATED",Unspecified:"UNSPECIFIED"},Wv={Lenient:"LENIENT",Off:"OFF",Strict:"STRICT",Unspecified:"UNSPECIFIED"},Hv={RecencyPastFewMonths:"RECENCY_PAST_FEW_MONTHS",RecencyPastFewWeeks:"RECENCY_PAST_FEW_WEEKS",RecencyUnspecified:"RECENCY_UNSPECIFIED",RecencyWithinThisYear:"RECENCY_WITHIN_THIS_YEAR"},$v={False:"FALSE",True:"TRUE"},qv={MediaOnly:"MEDIA_ONLY",Unspecified:"UNSPECIFIED"},Yv={Active:"ACTIVE",Canceled:"CANCELED",Completed:"COMPLETED",EndFailed:"END_FAILED",Scheduled:"SCHEDULED",StartFailed:"START_FAILED"},jv={Add:"ADD",Set:"SET"},Kv={AmaCarouselInFeed:"AMA_CAROUSEL_IN_FEED",AnnouncementInFeed:"ANNOUNCEMENT_IN_FEED",ArenaFeed:"ARENA_FEED",Auth:"AUTH",AwardsPromo:"AWARDS_PROMO",BlockingXpromo:"BLOCKING_XPROMO",BypassableXpromo:"BYPASSABLE_XPROMO",ChatChannelsOnPdp:"CHAT_CHANNELS_ON_PDP",ChatChannelUnitInHomeFeed:"CHAT_CHANNEL_UNIT_IN_HOME_FEED",ChatOnboardingCta:"CHAT_ONBOARDING_CTA",CommunityOnboarding:"COMMUNITY_ONBOARDING",DesktopSidebarAuthUnit:"DESKTOP_SIDEBAR_AUTH_UNIT",EducationalDeeplinkPrompt:"EDUCATIONAL_DEEPLINK_PROMPT",EverestPromo:"EVEREST_PROMO",ExclusiveCommunitiesGrowthTest:"EXCLUSIVE_COMMUNITIES_GROWTH_TEST",ExclusiveCommunitiesValidationTest:"EXCLUSIVE_COMMUNITIES_VALIDATION_TEST",GamingCommunityUpsell:"GAMING_COMMUNITY_UPSELL",GoogleOneTap:"GOOGLE_ONE_TAP",HighFlyerUpsell:"HIGH_FLYER_UPSELL",InlineAuthUpsell:"INLINE_AUTH_UPSELL",InFeedSurvey:"IN_FEED_SURVEY",LanguagePreferenceBottomSheet:"LANGUAGE_PREFERENCE_BOTTOM_SHEET",LiveChatReactionEdu:"LIVE_CHAT_REACTION_EDU",LiveChatVideoEdu:"LIVE_CHAT_VIDEO_EDU",LoggedInOnboarding:"LOGGED_IN_ONBOARDING",ModularEducation:"MODULAR_EDUCATION",NewInYourCommunitiesCarousel:"NEW_IN_YOUR_COMMUNITIES_CAROUSEL",NewUserEducation:"NEW_USER_EDUCATION",NewVisitorFeedNav:"NEW_VISITOR_FEED_NAV",OnboardingInFeed:"ONBOARDING_IN_FEED",PersistentQrCodeUnit:"PERSISTENT_QR_CODE_UNIT",PersonalizedCommunityRecommendationsInDiscoverFeed:"PERSONALIZED_COMMUNITY_RECOMMENDATIONS_IN_DISCOVER_FEED",PersonalizedCommunityRecommendationsInHomeFeed:"PERSONALIZED_COMMUNITY_RECOMMENDATIONS_IN_HOME_FEED",PwaXpromo:"PWA_XPROMO",RecommendationChainingInHomeFeed:"RECOMMENDATION_CHAINING_IN_HOME_FEED",ReonboardingBottomSheet:"REONBOARDING_BOTTOM_SHEET",ReonboardingBottomSheetInPlace:"REONBOARDING_BOTTOM_SHEET_IN_PLACE",ReonboardingInFeed:"REONBOARDING_IN_FEED",ScreenshotSharingBanner:"SCREENSHOT_SHARING_BANNER",SubredditRecommendationsInSubredditFeed:"SUBREDDIT_RECOMMENDATIONS_IN_SUBREDDIT_FEED",ViralCommunityXpromo:"VIRAL_COMMUNITY_XPROMO"},Qv={Down:"DOWN",None:"NONE",Up:"UP"},zv={Permanent:"PERMANENT",Temporary:"TEMPORARY"},Jv={Anyone:"ANYONE",Disabled:"DISABLED",Modonly:"MODONLY"},Xv={Contributors:"CONTRIBUTORS",InheritSubredditPerms:"INHERIT_SUBREDDIT_PERMS",Mods:"MODS"},Zv={AbmUpsellBypassable:"ABM_UPSELL_BYPASSABLE",AppSelector:"APP_SELECTOR",AppSelectorBypassable:"APP_SELECTOR_BYPASSABLE",AppSelectorSlim:"APP_SELECTOR_SLIM",GeoBlocking:"GEO_BLOCKING",NsfwBlocking:"NSFW_BLOCKING",NsfwBlockingInstant:"NSFW_BLOCKING_INSTANT",NsfwBlockingLoggedIn:"NSFW_BLOCKING_LOGGED_IN",NsfwBypassable:"NSFW_BYPASSABLE",UnratedBlocking:"UNRATED_BLOCKING",ViralCommunity:"VIRAL_COMMUNITY"},eE=Ft(Vn(e));var tE,oE;!function(e){e.Small="small",e.XSmall="x-small",e.Medium="medium"}(tE||(tE={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Plain="plain",e.Bordered="bordered"}(oE||(oE={}));let nE=class extends eE{constructor(){super(...arguments),this.isUserLoggedIn=!1,this.name="",this.prefixedName="",this.subredditId="",this.subscribed=!1,this.subscribeLabel="Join",this.unsubscribeLabel="Joined",this.buttonsize=tE.Small,this.buttonClasses="",this.withTracking=!1,this.trackingSource="",this.trackingAction="click",this.trackingSubscribeNoun="subscribe",this.trackingUnsubscribeNoun="unsubscribe",this.isDisabled=!1,this.onSubscriptionChange=e=>{this.name===e.name&&(this.subscribed=e.subscribed)},this.showCommunityGuide=Nf}static get styles(){return ze}firstUpdated(){this.subscribe(en.SubredditSubscriptionChange,this.onSubscriptionChange)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(en.SubredditSubscriptionChange,this.onSubscriptionChange)}async handleClick(e,t){if(e.preventDefault(),this.withTracking){const e=qt({source:this.trackingSource,action:this.trackingAction,noun:this.subscribed?this.trackingUnsubscribeNoun:this.trackingSubscribeNoun});this.trackEvent(e)}if(this.dispatchEvent(V("join",{subreddit_name:this.name,subreddit_id:this.subredditId})),this.isUserLoggedIn){this.isDisabled=!0,t&&this.showCommunityGuide(this.name,!0).catch((()=>{}));try{if((await this.makeSubscriptionRequest(t?Vv.Subscribed:Vv.None))?.data?.updateSubredditSubscriptions?.ok){this.subscribed=t;const e={name:this.name,subscribed:t};this.publish(en.SubredditSubscriptionChange,e)}else this.handleSubscriptionChangeError()}catch(e){this.handleSubscriptionChangeError()}this.isDisabled=!1}}async makeSubscriptionRequest(e){return tc({operation:Jl.UpdateSubredditSubscriptions,variables:{input:{inputs:[{subredditId:this.subredditId,subscribeState:e}]}}})}handleSubscriptionChangeError(){this.dispatchEvent(V("faceplate-alert",{level:le.error,message:"Something went wrong"}))}render(){const{subscribed:e}=this,t=e=>({"button-primary":e?e===oE.Primary:!this.subscribed,"button-secondary":this.buttonType===oE.Secondary,"button-plain":e===oE.Plain,"button-bordered":e?e===oE.Bordered:this.subscribed,"button-x-small":this.buttonsize===tE.XSmall,"button-small":this.buttonsize===tE.Small,"button-medium":this.buttonsize===tE.Medium,button:!0,"join-btn":!0,"leading-none":!0,[this.buttonClasses]:!0});return e?o` <button class="${Fe(t(this.unsubscribeButtonTypeOverride||this.buttonType))}" @click="${e=>this.handleClick(e,!1)}" data-post-click-location="${wm.JOIN}" ?disabled="${this.isDisabled}"> ${this.unsubscribeLabel} </button> `:o` <button class="${Fe(t(this.subscribeButtonTypeOverride||this.buttonType))}" @click="${e=>this.handleClick(e,!0)}" data-post-click-location="${wm.JOIN}" ?disabled="${this.isDisabled}"> ${this.subscribeLabel} </button> `}};E([ci({context:"logged-in"}),O({attribute:!1})],nE.prototype,"isUserLoggedIn",void 0),E([O({type:String})],nE.prototype,"name",void 0),E([O({type:String,attribute:"prefixed-name"})],nE.prototype,"prefixedName",void 0),E([O({type:String,attribute:"subreddit-id"})],nE.prototype,"subredditId",void 0),E([O({type:Boolean})],nE.prototype,"subscribed",void 0),E([O({type:String,attribute:"subscribe-label"})],nE.prototype,"subscribeLabel",void 0),E([O({type:String,attribute:"unsubscribe-label"})],nE.prototype,"unsubscribeLabel",void 0),E([O({type:String})],nE.prototype,"buttonsize",void 0),E([O({type:String,attribute:"button-type"})],nE.prototype,"buttonType",void 0),E([O({type:String,attribute:"subscribe-button-type-override"})],nE.prototype,"subscribeButtonTypeOverride",void 0),E([O({type:String,attribute:"unsubscribe-button-type-override"})],nE.prototype,"unsubscribeButtonTypeOverride",void 0),E([O({type:String,attribute:"button-classes"})],nE.prototype,"buttonClasses",void 0),E([O({type:Boolean,attribute:"with-tracking"})],nE.prototype,"withTracking",void 0),E([O({type:String,attribute:"tracking-source"})],nE.prototype,"trackingSource",void 0),E([O({type:String,attribute:"tracking-action"})],nE.prototype,"trackingAction",void 0),E([O({type:String,attribute:"tracking-subscribe-noun"})],nE.prototype,"trackingSubscribeNoun",void 0),E([O({type:String,attribute:"tracking-unsubscribe-noun"})],nE.prototype,"trackingUnsubscribeNoun",void 0),E([M()],nE.prototype,"isDisabled",void 0),nE=E([P("shreddit-join-button")],nE);let iE=class extends e{connectedCallback(){super.connectedCallback();const e=this.firstElementChild;if("TEMPLATE"!==e?.nodeName)throw new Error("The first child of a <shreddit-page-meta> element must be a <template>");document.createRange().createContextualFragment(e.innerHTML).childNodes.forEach((e=>{if(function(e){return!!e.attributes}(e)){if("SHREDDIT-APP-ATTRS"===e.nodeName){sE(e,document.querySelector("shreddit-app"))}if("SHREDDIT-GOOD-VISIT-TRACKER-ATTRS"===e.nodeName){sE(e,document.querySelector("shreddit-good-visit-tracker"))}}}))}render(){return o`<slot></slot>`}};function sE(e,t){for(let o=0;o<e.attributes.length;o++){const n=e.attributes[o];t?.setAttribute(n.name,n.value)}}var aE;iE=E([P("shreddit-page-meta")],iE),function(e){e[e.hidden=0]="hidden",e[e.animating=1]="animating",e[e.stalled=2]="stalled",e[e.hiding=3]="hiding"}(aE||(aE={}));let rE=class extends e{constructor(){super(...arguments),this.state=aE.hidden,this.currentStartTime=null}render(){const e="bar bg-global-orangered transition-transform";switch(this.state){case aE.animating:return o`<div class="${e} animating-in" @animationend="${()=>{this.state=aE.stalled}}"></div>`;case aE.hiding:return o`<div class="${e} hiding" @animationend="${()=>{this.state=aE.hidden}}"></div>`;case aE.stalled:return o`<div class="${e} stalled"></div>`;case aE.hidden:default:return l}}show(){this.currentStartTime=Date.now(),this.state=aE.animating}hide(){null===this.currentStartTime||Date.now()-this.currentStartTime<150||this.state===aE.hidden?this.state=aE.hidden:this.state=aE.hiding}};rE.styles=[t`.bar{height:2px}.animating-in{transform:scaleX(0);transform-origin:0 50%;animation-duration:15s;animation-iteration-count:1;animation-name:expand;animation-timing-function:cubic-bezier(.21,.62,.15,.99);animation-delay:150ms}.hiding{animation-duration:250ms;animation-iteration-count:1;animation-name:hide;animation-timing-function:ease-out;transform:scaleX(100%)}.stalled{transform:scaleX(99%)}@keyframes expand{from{transform:scaleX(0)}to{transform:scaleX(99%)}}@keyframes hide{from{transform:translateY(0)}to{transform:translateY(-100%)}}`,ze],E([M()],rE.prototype,"state",void 0),rE=E([P("navigation-indicator")],rE);const dE=new ie;class lE extends _e{constructor(){super(...arguments),this.src="",this.loading=ce.Lazy}static configureLoader(e){dE.resolve(e)}createRenderRoot(){return this}}E([O({type:String})],lE.prototype,"src",void 0),E([O({type:String})],lE.prototype,"loading",void 0),fe(lE,dE.promise),window.customElements.define("faceplate-loader",lE);const cE=(e,t)=>{const o=e;if(!t)return void(o.loadingPromises=[Promise.resolve()]);let n=o.getRootNode();n instanceof Document&&(n=n.body);const i=t.split(",").map((e=>e.trim())).filter(Boolean);o.loadingPromises=i.map((e=>new Promise(((t,o)=>{if(e.endsWith(".js")||e.endsWith(".ts")){const i=document.createElement("script");n.appendChild(i),i.type="module",i.async=!0,i.src=e,i.onload=()=>t(),i.onerror=()=>o()}else{if(!e.endsWith(".css")&&!e.endsWith(".less"))throw new Error("Only JS and CSS files can be loaded with faceplate-loader");{const i=document.createElement("link");n.appendChild(i),i.rel="stylesheet",i.href=e,i.onload=()=>t(),i.onerror=()=>o()}}}))))},uE=async e=>{const t=e;await Promise.allSettled(t.loadingPromises);const o=t.nextElementSibling;if(!o||"TEMPLATE"!==o.tagName||o.getAttribute("name")!==t.getAttribute("name"))return;const n=o.content.cloneNode(!0);t.after(n)};let hE={scrollToStart:"Scroll to start",scrollToEnd:"Scroll to end"};const pE={term:e=>hE[e],updateTerms:e=>{hE={...hE,...e}}};var mE;!!document.querySelector("reddit-debug-panel")&&($n(),window.getUnusedElements=Yn),Zn.addLoaders({app_selector:()=>import("./xpromo-app-selector-030ca757.js"),auth_flow_google_one_tap:()=>import("./google-one-tap-940dfae2.js"),auth_flow_login:()=>import("./auth-flow-login-1e26f873.js"),auth_flow_register:()=>import("./auth-flow-register-6c6552de.js"),auth_flow_signup_drawer:()=>import("./signup-drawer-cb2b9c3e.js"),auth_flow_sso_linking:()=>import("./auth-flow-sso-linking-95ef66e2.js").then((function(e){return e.a})),auth_flow_password_recovery:()=>import("./auth-flow-password-recovery-0eab6f58.js"),auth_flow_password_reset:()=>import("./auth-flow-password-reset-0a8a8dcb.js"),auth_flow_phone_auth:()=>import("./auth-flow-phone-8cc7a5b8.js"),bottom_bar_xpromo:()=>import("./xpromo-bottom-bar-a10b6cf6.js"),faceplate_hovercard:()=>import("./faceplate-hovercard-941a58fe.js").then((function(e){return e.f})),media_player_loader:()=>import("./media-player-ed01ec69.js"),shreddit_player_2_loader:()=>import("./shreddit-player-2-e9580af6.js"),untagged_content_blocking:()=>import("./xpromo-untagged-content-blocking-modal-66a1e9be.js"),desktop_rpl_nsfw_blocking_modal:()=>import("./xpromo-nsfw-blocking-modal-desktop-3f909610.js"),devvit_context_actions:()=>import("./devvit-context-actions-e761bf95.js"),debug:()=>import("./debug-e0984af1.js"),reddit_cookie_banner:()=>import("./reddit-cookie-banner-55b09c26.js"),reddit_search_large:()=>import("./large-68969ee9.js"),reddit_search_small:()=>import("./small-b675968d.js"),shreddit_post_overflow_menu:()=>Promise.all([import("./shreddit-post-overflow-menu-e25cf957.js"),import("./recommendation-context-overflow-menu-144951c5.js"),import("./unpacking-overflow-menu-c5cc0b1c.js")]),shreddit_post_poll:()=>import("./shreddit-post-poll-e1b957a7.js"),shreddit_sort_dropdown:()=>import("./shreddit-sort-dropdown-4642440b.js"),nsfw_blocking_modal:()=>import("./xpromo-nsfw-blocking-modal-58e567e1.js"),desktop_nsfw_bypassable_modal:()=>import("./xpromo-nsfw-bypassable-modal-desktop-bdff9170.js"),embed:()=>import("./shreddit-embed-3bce66fa.js"),faceplate_tabs:()=>Promise.all([import("./faceplate-tabpanel-561190a1.js"),import("./faceplate-tablist-3662523d.js")]),faceplate_expandable_section:()=>Promise.all([import("./faceplate-expandable-section-helper-6786a747.js"),import("./faceplate-auto-height-animator-d44dd122.js")]),viral_community_bypassable:()=>import("./xpromo-viral-community-cf569b99.js"),pwa_xpromo:()=>import("./xpromo-pwa-43173df9.js"),xpromo_login_drawer:()=>Promise.all([import("./xpromo-login-drawer-360a257c.js"),import("./auth-flow-sso-buttons-4877431c.js"),import("./auth-landing-experience-xpromo-shell-bce36210.js")]),ads_rbl_survey:()=>import("./ads-survey-iframe-c4c52ba5.js"),educational_deeplink_prompt_for_ios:()=>import("./xpromo-educational-deeplink-prompt-95d90034.js"),recap_blocking_modal:()=>import("./xpromo-recap-blocking-modal-1d40981a.js"),gallery_carousel:()=>Promise.all([import("./gallery-carousel-a1cee460.js"),import("./gallery-caption-eb59bfbf.js")]),faceplate_bottom_sheet:()=>import("./faceplate-bottom-sheet-7f90aa1b.js"),faceplate_iframe:()=>import("./faceplate-iframe-9a7de675.js"),auth_flow_open_app:()=>import("./auth-flow-open-app-550d701f.js"),comment_body_header:()=>import("./comment-body-header-2312c767.js"),translation_feedback:()=>import("./translation-feedback-1e512443.js"),translation_row:()=>import("./translation-row-70854c80.js"),sidebar_ad:()=>import("./shreddit-sidebar-ad-1f659214.js"),report_flow_provider:()=>import("./report-flow-provider-5de13f1c.js"),shreddit_fps_counter:()=>import("./shreddit-fps-counter-19dc79e4.js"),hui_left_nav_see_more:()=>import("./hui-left-nav-see-more-16800aa3.js"),feed_announcement:()=>import("./feed-announcement-691cf324.js"),recent_posts_tracker:()=>import("./recent-posts-tracker-e9896a8e.js"),reddit_header_action_items:()=>import("./reddit-header-action-items-1d3c8fc6.js"),faceplate_dropdown_menu:()=>import("./faceplate-dropdown-menu-c0544483.js"),faceplate_tooltip:()=>import("./faceplate-tooltip-c8f30589.js"),comment_composer:()=>Promise.all([import("./comment-composer-host-e866f799.js"),import("./shreddit-composer-13bfac7e.js")]),distinguished_post_tags:()=>import("./shreddit-distinguished-post-tags-69846e8f.js"),status_icons:()=>import("./shreddit-status-icons-e8651dcc.js"),shreddit_overflow_bottom_sheet:()=>import("./shreddit-overflow-bottom-sheet-14e4ebb4.js"),user_blocking:()=>Promise.all([import("./user-blocking-5369b3e2.js"),import("./user-block-wrapper-6f29dd05.js")]),navigation_links:()=>import("./reddit-skip-to-sidebar-98b1c3fc.js"),simple_comment_composer:()=>Promise.all([import("./comment-composer-host-e866f799.js"),import("./shreddit-simple-composer-194ff1a9.js")]),edit_post:()=>import("./edit-post-client-js-3cf13e22.js"),pdp_rules_handler:()=>import("./shreddit-pdp-rules-handler-a8074913.js"),user_mod_actions:()=>import("./user-mod-actions-53c7d35f.js"),mod_ban_modal_form:()=>import("./mod-ban-modal-form-771cde46.js"),mod_mute_modal_form:()=>import("./mod-mute-modal-form-785cce02.js"),onboarding_flow:()=>import("./onboarding-flow-765c7046.js"),ob_gender_selection:()=>import("./ob-gender-selection-7d572432.js"),ob_interest_picker:()=>import("./ob-interest-picker-decdde1d.js"),user_details_reporting:()=>import("./user-details-reporting-6e0db1c8.js"),screen_reader_alerts:()=>import("./screen-reader-alert-outlet-1d7d67fb.js"),reputation_recaptcha:()=>import("./reputation-recaptcha-52c28697.js"),mod_log_note:()=>import("./mod-notes-log-4a0f0b56.js"),mod_notes_rail:()=>import("./mod-notes-rail-client-js-50970aab.js"),subreddit_right_rail_translator:()=>import("./subreddit-right-rail-translator-ac97533b.js"),pdp_right_rail_post_translator:()=>import("./pdp-right-rail-post-translator-34d04293.js"),pdp_comment_search:()=>Promise.all([import("./search-dynamic-id-cache-controller-6d00e143.js"),import("./search-load-tracker-3bac07e3.js")])}),function(){const e=customElements.define;"_patched"in e||(customElements.define=(t,o)=>{customElements.get(t)||(window.ALL_ELEMENTS.set(t,o),e.call(customElements,t,o))},Object.defineProperty(customElements.define,"_patched",{configurable:!1,writable:!1,value:!0}))}(),fe(lE,{loader:cE,runner:uE}),fe(xe,{loader:e=>e._loadContent(),runner:(e,t)=>{const o=e.parentElement;if(e._renderContent(t),e.hasAttribute("debug")&&o){const t={featureName:e.getAttribute("name")||"Unknown",loadingStrategy:e.getAttribute("loading")||"Unknown",htmlMode:"partial"};Ne(`<faceplate-alert\n          name="feature-render"\n          level="${le.debug}"\n          meta="${JSON.stringify(t).replaceAll('"',"&quot;")}"\n        ></faceplate-alert>`,o,pe.Append)}}}),(()=>{if(no||"function"!=typeof window.performance?.measure||"function"!=typeof window.performance?.getEntriesByName)return;window.performance.measure("experience-tier");const e=window.performance.getEntriesByName("experience-tier")?.[0]?.duration;e<2e3&&(io=to.Normal),no=!0})(),mE=document.querySelector("shreddit-app"),ru.portalRoot=mE,pE.updateTerms({scrollToStart:"scroll to start",scrollToEnd:"scroll to end"});export{tc as $,Ss as A,ys as B,Q as C,Te as D,W as E,Dd as F,ye as G,we as H,he as I,pe as J,Ce as K,ce as L,G as M,H as N,Zo as O,At as P,w as Q,Mo as R,Do as S,Tt as T,Ue as U,ve as V,Ft as W,Ne as X,F as Y,uo as Z,E as _,ze as a,Ao as a$,Jl as a0,Wo as a1,Po as a2,Bo as a3,lo as a4,bi as a5,No as a6,Ro as a7,ro as a8,zo as a9,Vo as aA,Fo as aB,_o as aC,vo as aD,mo as aE,Xo as aF,Ll as aG,Sa as aH,Ca as aI,Ta as aJ,ya as aK,jo as aL,Ko as aM,go as aN,Qo as aO,ko as aP,os as aQ,cn as aR,po as aS,Oo as aT,ho as aU,Yo as aV,qo as aW,F_ as aX,wo as aY,Jo as aZ,Io as a_,il as aa,co as ab,ue as ac,oc as ad,Y as ae,Ff as af,j as ag,ne as ah,Kv as ai,Zv as aj,Cv as ak,Qu as al,xn as am,Wn as an,Z as ao,kt as ap,bo as aq,yo as ar,Co as as,Sm as at,ti as au,oe as av,Gd as aw,ni as ax,kd as ay,qd as az,je as b,Ys as b$,Ye as b0,ou as b1,iu as b2,nu as b3,Jc as b4,bc as b5,gu as b6,Eu as b7,Lc as b8,vu as b9,Ci as bA,wd as bB,$r as bC,vr as bD,md as bE,da as bF,Tp as bG,od as bH,wp as bI,qr as bJ,bd as bK,td as bL,vd as bM,Qr as bN,Xr as bO,Zr as bP,zr as bQ,Jr as bR,Ed as bS,pd as bT,yd as bU,ad as bV,Kt as bW,Gt as bX,$t as bY,oa as bZ,Vr as b_,Sc as ba,Cc as bb,hu as bc,xc as bd,Qv as be,xf as bf,ap as bg,B as bh,zd as bi,Qd as bj,$d as bk,kf as bl,ql as bm,wa as bn,ga as bo,Ia as bp,Aa as bq,mc as br,Ju as bs,A_ as bt,L as bu,U as bv,Si as bw,gg as bx,ed as by,Yr as bz,Be as c,o_ as c$,js as c0,bp as c1,Br as c2,vh as c3,rd as c4,_d as c5,Ni as c6,Cp as c7,Xs as c8,Zs as c9,tr as cA,er as cB,jm as cC,Ym as cD,Pn as cE,fg as cF,Vm as cG,Gm as cH,Lm as cI,Um as cJ,Xm as cK,_g as cL,qm as cM,Hm as cN,It as cO,Km as cP,$m as cQ,zm as cR,Jm as cS,pv as cT,Wh as cU,Y_ as cV,p_ as cW,k_ as cX,Yh as cY,sh as cZ,sv as c_,Jt as ca,bn as cb,Je as cc,hd as cd,yp as ce,Bt as cf,km as cg,wm as ch,Sp as ci,Ap as cj,$e as ck,ci as cl,Oa as cm,rl as cn,Pe as co,zt as cp,Fm as cq,Bm as cr,Qm as cs,Zm as ct,ig as cu,Nm as cv,mm as cw,gm as cx,ph as cy,Ra as cz,Ke as d,ji as d$,V_ as d0,ft as d1,Xi as d2,M_ as d3,Tv as d4,ev as d5,bv as d6,mv as d7,lv as d8,$u as d9,eh as dA,_u as dB,iv as dC,e_ as dD,Gs as dE,Vs as dF,xs as dG,Bs as dH,Fs as dI,Ws as dJ,Hs as dK,de as dL,fe as dM,_e as dN,Fh as dO,mu as dP,lu as dQ,Le as dR,Me as dS,Gn as dT,Ut as dU,Uf as dV,Uv as dW,Lv as dX,B_ as dY,N_ as dZ,zc as d_,z_ as da,mh as db,Zu as dc,Pp as dd,ot as de,I as df,A as dg,Qc as dh,wc as di,Tc as dj,Bc as dk,fv as dl,dd as dm,Uh as dn,Lh as dp,t_ as dq,Bf as dr,cd as ds,ld as dt,ud as du,fi as dv,vi as dw,gi as dx,hi as dy,Ei as dz,P as e,Vc as e$,at as e0,st as e1,gt as e2,vt as e3,Pa as e4,nt as e5,it as e6,Fl as e7,xl as e8,fd as e9,Wm as eA,Va as eB,Ba as eC,cr as eD,qa as eE,lr as eF,ja as eG,ar as eH,xe as eI,fp as eJ,Da as eK,La as eL,ua as eM,nv as eN,ha as eO,la as eP,S_ as eQ,Il as eR,hh as eS,rh as eT,Z_ as eU,su as eV,dh as eW,ah as eX,Ep as eY,Xt as eZ,Et as e_,Wf as ea,Hf as eb,wt as ec,b as ed,S as ee,y as ef,v as eg,kh as eh,Em as ei,nl as ej,Zd as ek,Wi as el,$i as em,el as en,qi as eo,Yi as ep,Hi as eq,Gi as er,gp as es,pE as et,$a as eu,_p as ev,Za as ew,Qa as ex,Ga as ey,ka as ez,Vn as f,hv as f$,Wc as f0,Ov as f1,Vv as f2,v_ as f3,Nf as f4,Hh as f5,uh as f6,Ha as f7,lh as f8,zu as f9,L_ as fA,tv as fB,c_ as fC,qf as fD,$f as fE,Tl as fF,Iv as fG,Pv as fH,Av as fI,wl as fJ,yc as fK,J_ as fL,g_ as fM,Zf as fN,nh as fO,Er as fP,d_ as fQ,O_ as fR,Fv as fS,xv as fT,Xf as fU,si as fV,C_ as fW,kv as fX,f_ as fY,T_ as fZ,yh as f_,E_ as fa,Dh as fb,dl as fc,Ti as fd,hc as fe,fh as ff,li as fg,$s as fh,al as fi,$l as fj,jl as fk,Ur as fl,br as fm,pa as fn,ba as fo,sr as fp,x_ as fq,Mm as fr,Om as fs,Xa as ft,Ja as fu,Wp as fv,va as fw,_h as fx,ih as fy,Us as fz,V as g,b_ as g$,Gf as g0,Kf as g1,m_ as g2,fm as g3,Q_ as g4,oh as g5,Sh as g6,bh as g7,w_ as g8,G_ as g9,hg as gA,Oe as gB,wv as gC,X_ as gD,i_ as gE,Rv as gF,Mv as gG,U_ as gH,K_ as gI,j_ as gJ,Ch as gK,Th as gL,ma as gM,Tm as gN,Cm as gO,Dv as gP,Nv as gQ,wh as gR,a_ as gS,q_ as gT,gh as gU,Nh as gV,Yf as gW,y_ as gX,vv as gY,l_ as gZ,P_ as g_,Ih as ga,Oh as gb,Ah as gc,Ph as gd,Rh as ge,th as gf,n_ as gg,Wa as gh,r_ as gi,s_ as gj,W_ as gk,eg as gl,sg as gm,ag as gn,rg as go,Xu as gp,pg as gq,tg as gr,mg as gs,ng as gt,og as gu,dg as gv,Mh as gw,lg as gx,cg as gy,ug as gz,Qt as h,Qh as h$,R_ as h0,Gh as h1,Ud as h2,u_ as h3,I_ as h4,Hv as h5,$v as h6,Yv as h7,Wv as h8,qv as h9,Yp as hA,Fp as hB,T as hC,C as hD,De as hE,Vp as hF,ui as hG,Rp as hH,ol as hI,tl as hJ,Xd as hK,rt as hL,cv as hM,dt as hN,lt as hO,ct as hP,gv as hQ,uv as hR,_t as hS,mt as hT,ut as hU,dv as hV,av as hW,ht as hX,$h as hY,Al as hZ,pt as h_,h_ as ha,qh as hb,jh as hc,Kh as hd,Ea as he,zv as hf,Jv as hg,Xv as hh,jf as hi,Au as hj,Lu as hk,Uu as hl,Du as hm,xh as hn,Ev as ho,__ as hp,xm as hq,Wt as hr,vp as hs,ir as ht,nr as hu,ur as hv,Ya as hw,Gp as hx,$p as hy,Bp as hz,Lt as i,Jf as i0,Qf as i1,zf as i2,ov as i3,ch as i4,Vh as i5,_v as i6,Bh as i7,ca as i8,Qp as i9,Yl as iA,Ql as iB,Kp as iC,jp as iD,Dp as iE,Mp as iF,qp as iG,gd as iH,Op as iI,Np as iJ,zp as iK,Wu as iL,Cs as iM,Hc as iN,jv as iO,wi as iP,Dc as iQ,ie as iR,Gv as ia,Bv as ib,fo as ic,Eo as id,To as ie,D_ as ig,Eh as ih,H_ as ii,$_ as ij,Nu as ik,rv as il,_a as im,Df as io,Lf as ip,Vf as iq,Sv as ir,yv as is,se as it,Ee as iu,Mt as iv,Nt as iw,$n as ix,Ip as iy,Yt as iz,ao as j,le as k,qt as l,Xe as m,O as n,Fe as o,Ln as p,en as q,kn as r,jt as s,M as t,An as u,eo as v,D as w,so as x,$ as y,q as z};
//# sourceMappingURL=shell-676e2013.js.map
