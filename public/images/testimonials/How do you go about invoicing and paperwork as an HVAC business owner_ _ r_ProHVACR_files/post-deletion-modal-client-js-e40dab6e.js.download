import{f as t,a as e,_ as s,w as o,t as a,k as l,g as i,q as r,b as c,c as d,e as n}from"./shell-676e2013.js";import{s as p,x as h,h as m,I as u}from"./icon-8c4e3009.js";import{d as b}from"./overflow-menu-actions-35c078f4.js";import{P as f}from"./postUpdate-613ece2a.js";import"./faceplate-modal-2d019896.js";import"./modActions-479f5b52.js";const w=t(p);let y=class extends w{constructor(){super(...arguments),this.postId="",this.isDeleting=!1}openModalForPost(t){this.postId=t,this.modal?.showModal()}closeModal(){this.modal?.close()}async deleteCurrentPost(){try{this.isDeleting=!0,await b({postId:this.postId}),this.closeModal(),this.publishPostDeleteTopic(this.postId),this.showSuccessAlert()}catch(t){this.showErrorAlert()}this.isDeleting=!1}showSuccessAlert(){this.showAlert("Post deleted",l.notice)}showErrorAlert(){this.showAlert("Unable to delete post",l.error)}showAlert(t,e){const s=i("faceplate-alert",{level:e,message:t});this.dispatchEvent(s)}publishPostDeleteTopic(t){const e={postId:t,action:f.delete,value:!0};this.publish(r.PostUpdated,e)}render(){return h` <faceplate-modal class="max-w-[calc(100vw-var(--size-2xl))]"> <span slot="title">${"Delete post?"}</span> <span>${"Once you delete this post, it canâ€™t be restored."}</span> ${c({appearance:"destructive",attributes:{onclick:this.deleteCurrentPost,id:"deleteBtn",slot:"primaryButton",disabled:this.isDeleting},children:"Yes, Delete"})} ${c({appearance:"secondary",attributes:{onclick:this.closeModal,id:"backBtn",slot:"secondaryButton"},children:"Go Back"})} ${c({appearance:"secondary",attributes:{className:"absolute right-0",onclick:this.closeModal,slot:"closeButton",id:"closeBtn"},leadingIcon:m({size:u.Small}),size:d.Small})} </faceplate-modal>`}};y.styles=[e],s([o("faceplate-modal",!0)],y.prototype,"modal",void 0),s([a()],y.prototype,"postId",void 0),s([a()],y.prototype,"isDeleting",void 0),y=s([n("shreddit-post-deletion-modal")],y);
//# sourceMappingURL=post-deletion-modal-client-js-e40dab6e.js.map
